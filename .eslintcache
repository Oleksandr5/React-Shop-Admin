[{"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\redusers\\inform.js":"1","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\SubcategoriesTable\\SubcategoriesTable.js":"2","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalRemoveField\\ModalRemoveField.js":"3","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\Navigation\\Drawer\\Drawer.js":"4","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ProductItem\\ProductItem.js":"5","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalEdit\\ModalEdit.js":"6","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\index.js":"7","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\hoc\\Layout\\Layout.js":"8","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\Auth\\Auth.js":"9","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\redusers\\menu.js":"10","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Input\\Input.js":"11","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\CustomersTable\\CustomersTable.js":"12","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\form\\formFramework.js":"13","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\ModalForCategories\\ModalEdit\\ModalEdit.js":"14","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\redusers\\products.js":"15","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\Product\\Product.js":"16","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\ModalForSubcategories\\ModalAdd\\ModalAdd.js":"17","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\CategoriesTable\\CategoriesTable.js":"18","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\hoc\\Auxiliary\\Auxiliary.js":"19","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\Cart\\Cart.js":"20","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\YourOrders\\YourOrders.js":"21","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersOrders\\SwitchCustomersOrders\\SwitchCustomersOrders.js":"22","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Button\\Button.js":"23","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\ModalForCustomers\\ModalAdd\\ModalAdd.js":"24","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\axios\\axios-quiz.js":"25","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\ModalForSubcategories\\ModalEdit\\ModalEdit.js":"26","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductPage\\ProductPage.js":"27","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ProductsTable\\ProductsTable.js":"28","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\ModalForCategories\\ModalAdd\\ModalAdd.js":"29","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\ModalForCustomers\\ModalEdit\\ModalEdit.js":"30","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalAddNewField\\ModalAddNewField.js":"31","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsList\\ProductsList.js":"32","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\products.js":"33","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\CategoriesListEdit.js":"34","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Loader\\Loader.js":"35","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\Navigation\\MenuToggle\\MenuToggle.js":"36","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\menu.js":"37","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\SubcategoryItem\\SubcategoryItem.js":"38","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersCarts\\CustomersCarts.js":"39","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalAdd\\ModalAdd.js":"40","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalEditField\\ModalEditField.js":"41","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Backdrop\\Backdrop.js":"42","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\SubcategoriesListEdit.js":"43","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Select\\Select.js":"44","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\Registr\\Registr.js":"45","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersCarts\\SwitchCustomersCarts\\SwitchCustomersCarts.js":"46","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ProductsListEdit.js":"47","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\actionTypes.js":"48","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersOrders\\CustomersOrders.js":"49","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\CategoryItem\\CategoryItem.js":"50","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\inform.js":"51","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\CustomerItem\\CustomerItem.js":"52","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\CustomersListEdit.js":"53","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\rootReducer.js":"54","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\App.js":"55","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\reportWebVitals.js":"56","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersOrders\\Invoices\\InvoicesPage.jsx":"57","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\DrawerLinks\\drawerLinks.js":"58","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\firebase.js":"59","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\invoices.js":"60","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\redusers\\invoices.js":"61"},{"size":3716,"mtime":1770919901477,"results":"62","hashOfConfig":"63"},{"size":2525,"mtime":1616486724175,"results":"64","hashOfConfig":"63"},{"size":4601,"mtime":1616486583225,"results":"65","hashOfConfig":"63"},{"size":5766,"mtime":1770974276241,"results":"66","hashOfConfig":"63"},{"size":12985,"mtime":1616486601099,"results":"67","hashOfConfig":"63"},{"size":15933,"mtime":1616486542358,"results":"68","hashOfConfig":"63"},{"size":1575,"mtime":1616486924920,"results":"69","hashOfConfig":"63"},{"size":3752,"mtime":1616486807515,"results":"70","hashOfConfig":"63"},{"size":5753,"mtime":1616485548603,"results":"71","hashOfConfig":"63"},{"size":1478,"mtime":1770925095910,"results":"72","hashOfConfig":"63"},{"size":1193,"mtime":1616485361650,"results":"73","hashOfConfig":"63"},{"size":2089,"mtime":1616485989446,"results":"74","hashOfConfig":"63"},{"size":595,"mtime":1616486792282,"results":"75","hashOfConfig":"63"},{"size":5886,"mtime":1616485770594,"results":"76","hashOfConfig":"63"},{"size":4976,"mtime":1770935330954,"results":"77","hashOfConfig":"63"},{"size":7322,"mtime":1616486263428,"results":"78","hashOfConfig":"63"},{"size":5571,"mtime":1616486693538,"results":"79","hashOfConfig":"63"},{"size":2177,"mtime":1616485668535,"results":"80","hashOfConfig":"63"},{"size":67,"mtime":1616486801672,"results":"81","hashOfConfig":"63"},{"size":41981,"mtime":1770552300611,"results":"82","hashOfConfig":"63"},{"size":12945,"mtime":1616486776221,"results":"83","hashOfConfig":"63"},{"size":3527,"mtime":1616486215299,"results":"84","hashOfConfig":"63"},{"size":460,"mtime":1616485319882,"results":"85","hashOfConfig":"63"},{"size":6056,"mtime":1616486005503,"results":"86","hashOfConfig":"63"},{"size":127,"mtime":1616485206295,"results":"87","hashOfConfig":"63"},{"size":6541,"mtime":1616486709465,"results":"88","hashOfConfig":"63"},{"size":8230,"mtime":1717939959065,"results":"89","hashOfConfig":"63"},{"size":17872,"mtime":1616486618365,"results":"90","hashOfConfig":"63"},{"size":5434,"mtime":1616485755802,"results":"91","hashOfConfig":"63"},{"size":5577,"mtime":1616486023860,"results":"92","hashOfConfig":"63"},{"size":6377,"mtime":1616486524400,"results":"93","hashOfConfig":"63"},{"size":17534,"mtime":1616512070384,"results":"94","hashOfConfig":"63"},{"size":66228,"mtime":1770852606841,"results":"95","hashOfConfig":"63"},{"size":1908,"mtime":1616485852202,"results":"96","hashOfConfig":"63"},{"size":203,"mtime":1616485392990,"results":"97","hashOfConfig":"63"},{"size":538,"mtime":1616485261371,"results":"98","hashOfConfig":"63"},{"size":3802,"mtime":1616486863327,"results":"99","hashOfConfig":"63"},{"size":3545,"mtime":1616486736470,"results":"100","hashOfConfig":"63"},{"size":9856,"mtime":1616485939059,"results":"101","hashOfConfig":"63"},{"size":13181,"mtime":1616486503643,"results":"102","hashOfConfig":"63"},{"size":7594,"mtime":1616486561949,"results":"103","hashOfConfig":"63"},{"size":182,"mtime":1616485306085,"results":"104","hashOfConfig":"63"},{"size":2818,"mtime":1616486755317,"results":"105","hashOfConfig":"63"},{"size":825,"mtime":1616485472042,"results":"106","hashOfConfig":"63"},{"size":5466,"mtime":1616486675302,"results":"107","hashOfConfig":"63"},{"size":3369,"mtime":1616485901621,"results":"108","hashOfConfig":"63"},{"size":2938,"mtime":1616486644447,"results":"109","hashOfConfig":"63"},{"size":3008,"mtime":1616486831567,"results":"110","hashOfConfig":"63"},{"size":11179,"mtime":1770850160251,"results":"111","hashOfConfig":"63"},{"size":5001,"mtime":1616485733456,"results":"112","hashOfConfig":"63"},{"size":23283,"mtime":1770919612081,"results":"113","hashOfConfig":"63"},{"size":3249,"mtime":1616485959067,"results":"114","hashOfConfig":"63"},{"size":4099,"mtime":1616486117692,"results":"115","hashOfConfig":"63"},{"size":281,"mtime":1771026642278,"results":"116","hashOfConfig":"63"},{"size":2969,"mtime":1770922314306,"results":"117","hashOfConfig":"63"},{"size":341,"mtime":1616486930719,"results":"118","hashOfConfig":"63"},{"size":5460,"mtime":1771447606537,"results":"119","hashOfConfig":"63"},{"size":304,"mtime":1770907426400,"results":"120","hashOfConfig":"121"},{"size":742,"mtime":1770984222714,"results":"122","hashOfConfig":"121"},{"size":1277,"mtime":1771028659810,"results":"123","hashOfConfig":"63"},{"size":528,"mtime":1771021167857,"results":"124","hashOfConfig":"63"},{"filePath":"125","messages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"j9s3q6",{"filePath":"127","messages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129"},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132"},{"filePath":"133","messages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137"},{"filePath":"138","messages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140"},{"filePath":"141","messages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145"},{"filePath":"146","messages":"147","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158"},{"filePath":"159","messages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"161","messages":"162","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163"},{"filePath":"164","messages":"165","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"166"},{"filePath":"167","messages":"168","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"169"},{"filePath":"170","messages":"171","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"172","messages":"173","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"174"},{"filePath":"175","messages":"176","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"177"},{"filePath":"178","messages":"179","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"180","messages":"181","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"182","messages":"183","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"186","messages":"187","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"188"},{"filePath":"189","messages":"190","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"191"},{"filePath":"192","messages":"193","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"194"},{"filePath":"195","messages":"196","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"197"},{"filePath":"198","messages":"199","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"200","messages":"201","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"202"},{"filePath":"203","messages":"204","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205"},{"filePath":"206","messages":"207","errorCount":0,"fatalErrorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"208"},{"filePath":"209","messages":"210","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"211","messages":"212","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"213","messages":"214","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"215","messages":"216","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"217","messages":"218","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"219"},{"filePath":"220","messages":"221","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"222"},{"filePath":"223","messages":"224","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"225"},{"filePath":"226","messages":"227","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"228","messages":"229","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"230","messages":"231","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"232","messages":"233","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"234","messages":"235","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"236","messages":"237","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"238","messages":"239","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"240","messages":"241","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"242","messages":"243","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"244","messages":"245","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"246"},{"filePath":"247","messages":"248","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"249"},{"filePath":"250","messages":"251","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"252","messages":"253","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"254","messages":"255","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"256","messages":"257","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"258","messages":"259","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"260","messages":"261","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"262","messages":"263","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"264"},"h5ap6e",{"filePath":"265","messages":"266","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"267"},{"filePath":"268","messages":"269","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"270","messages":"271","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\redusers\\inform.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\SubcategoriesTable\\SubcategoriesTable.js",["272"],"import React, { Component } from 'react'\r\nimport classes from './SubcategoriesTable.module.css'\r\nimport SubcategoryItem from '../SubcategoryItem/SubcategoryItem'\r\nimport { connect } from 'react-redux'\r\nimport Select from '../../../components/UI/Select/Select'\r\nimport { toggleAllSubcategories, getIndexCategory } from '../../../redux/actions/products'\r\n\r\nclass SubcategoriesTable extends Component {\r\n\r\n\tstate = {\r\n\t\tchecked: false\r\n\t}\r\n\r\n\tuseInputCheckedAll(defaultValue = '') {  // self hook chanch value in input\r\n\r\n\t\treturn {\r\n\t\t\tbind: {\r\n\t\t\t\tonChange: event => { this.setState({ checked: event.target.checked }) },\r\n\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\tonClick: event => {\r\n\r\n\t\t\t\t\tlet status = event.target.checked\r\n\r\n\t\t\t\t\tthis.props.toggleAllSubcategories(this.props.idCategory, status)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst inputCheckedAll = this.useInputCheckedAll(false)\r\n\t\tconst indexCategory = getIndexCategory(this.props.idCategory, this.props.categories)\r\n\r\n\t\treturn (\r\n\t\t\t<table className={classes.SubcategoriesTable}>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr className={classes.trHeader}>\r\n\t\t\t\t\t\t<th className={classes.headerTitleCheckAll}>\r\n\t\t\t\t\t\t\t<div className={classes.leftTitle}>Check All</div>\r\n\t\t\t\t\t\t\t<div className={classes.th_value}><input {...inputCheckedAll.bind} /></div>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>id</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>image</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>name</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>describe</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>edit</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>remove</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.props.categories[indexCategory].subcategories.map((subcategory, index) => {\r\n\r\n\t\t\t\t\t\t\treturn <SubcategoryItem categoryId={this.props.idCategory} thisSubcategory={subcategory} subcategoryId={subcategory.id} key={subcategory.id} index={index} checked={subcategory.checked} />\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</tbody>\r\n\r\n\t\t\t</table>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\ttoggleAllSubcategories: (idCategory, status) => dispatch(toggleAllSubcategories(idCategory, status)),\r\n\t\tgetIndexCategory: (idCategory, categories) => dispatch(getIndexCategory(idCategory, categories))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SubcategoriesTable)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalRemoveField\\ModalRemoveField.js",["273","274","275"],"import React, { Component } from 'react'\r\nimport classes from './ModalRemoveField.module.css'\r\nimport Button from '../../../../components/UI/Button/Button'\r\nimport Input from '../../../../components/UI/Input/Input'\r\nimport Select from '../../../../components/UI/Select/Select'\r\nimport is from 'is_js' // для валідації емейлу в формі\r\nimport { Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { fetchProductsData, removeFieldProduct } from '../../../../redux/actions/products'\r\n\r\nclass ModalRemoveField extends Component {\r\n\r\n\tstate = {\r\n\t\tselectedKey: null,\r\n\t\tremoveField: false\r\n\t}\r\n\r\n\tselectChangeKey = event => {\r\n\r\n\t\tlet selectedKey = event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedKey\r\n\t\t})\r\n\r\n\t}\r\n\r\n\toptionSelectKey = event => {\r\n\r\n\t\tif (this.props.products[0]) {\r\n\r\n\t\t\tconst product = this.props.products[0]\r\n\r\n\t\t\tlet thisKeys = []\r\n\r\n\t\t\tfor (const property in product) {\r\n\r\n\t\t\t\tthisKeys.push({ text: property, value: property })\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet thisKey\r\n\r\n\t\t\tthisKeys.forEach((key, index) => {\r\n\r\n\t\t\t\tif (key.text === this.state.selectedKey) {\r\n\t\t\t\t\tthisKey = key\r\n\t\t\t\t\tthisKeys.splice(index, 1)\r\n\t\t\t\t\tthisKeys.unshift(thisKey)\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\r\n\t\t\treturn thisKeys\r\n\r\n\t\t} else {\r\n\t\t\treturn [{ text: \"Немає ключів\", value: \"Немає ключів\" }]\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tremoveDate(id) {\r\n\r\n\t\tconst selectsForm = [...document.querySelectorAll('select.addOptionToRemoveField')].map(select => {\r\n\t\t\treturn { name: select.name, value: select.value }\r\n\t\t});\r\n\r\n\t\tconst selectValue = ['key']\r\n\r\n\t\tselectsForm.forEach(select => {\r\n\t\t\tif (select.name === 'key') {\r\n\t\t\t\tselectValue[0] = select.value\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst [key] = selectValue\r\n\r\n\t\tthis.props.removeFieldProduct({\r\n\t\t\tkey\r\n\t\t})\r\n\r\n\t\tthis.handleClose()\r\n\t}\r\n\r\n\trenderModalRemoveField() {\r\n\r\n\t\tconst selectKeys = <Select\r\n\t\t\tlabel=\"Виберіть ключ\"\r\n\t\t\tonChange={this.selectChangeKey}\r\n\t\t\tname=\"key\"\r\n\t\t\tclassName=\"addOptionToRemoveField\"\r\n\t\t\toption={this.optionSelectKey()}\r\n\t\t/>\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"error\"\r\n\t\t\t\t\tonClick={this.handleShow} className={`mb-2 mb-md-3 mr-3 p-2 p-md-3 ${classes.btnOpenModule}`}\r\n\t\t\t\t>\r\n\t\t\t\t\tВидалити ключ\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal className={classes.ProductsModalRemoveField} show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"align-items-center\">\r\n\t\t\t\t\t\t<Modal.Title>Видалити ключ:</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={classes.modalBodyProductsEdit} >\r\n\r\n\t\t\t\t\t\t{this.props.error ? <h3 className=\"d-block error text-danger text-center\" >{this.props.error.message}</h3> : null}\r\n\r\n\t\t\t\t\t\t<div className=\"p-3 border rounded shadow text-center\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"><b>Ви видаляєте ключ всім продуктам !!!</b></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={classes.ProductsEdit}>\r\n\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t<form className={classes.ProductsEditForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t{selectKeys}\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex flex-column align-items-end\">\r\n\r\n\t\t\t\t\t\t{this.state.removeField\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"text-right text-danger d-block p-3 border rounded shadow\" ><b>Точно видалити цей ключ?</b></h5>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.removeDate()}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tВидалити\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-warning\"\r\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ removeField: true })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tВидалити\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.ModalRemoveField}>\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalRemoveField()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\terror: state.products.error\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tremoveFieldProduct: obj => dispatch(removeFieldProduct(obj))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalRemoveField)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\Navigation\\Drawer\\Drawer.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ProductItem\\ProductItem.js",["276","277","278"],"import React, { Component } from 'react'\r\nimport classes from './ProductItem.module.css'\r\nimport { connect } from 'react-redux'\r\nimport orderBy from 'lodash/orderBy'\r\nimport Input from '../../../components/UI/Input/Input'\r\nimport Button from '../../../components/UI/Button/Button'\r\nimport Select from '../../../components/UI/Select/Select'\r\nimport { NavLink } from 'react-router-dom'\r\nimport firebase from 'firebase'\r\nimport { toggleProduct, removeProducts, onChangePrice, onChangeQuantity, onChangePromotion } from '../../../redux/actions/products'\r\nimport ModalEdit from '../ModalForProducts/ModalEdit/ModalEdit'\r\n\r\nclass ProductItem extends Component {\r\n\r\n\tstate = {\r\n\t\tdisabledBtnUpdatePrice: true,\r\n\t\tdisabledBtnUpdateQuantity: true,\r\n\t\tdisabledBtnUpdatePromotion: true,\r\n\t\tnewPriseProduct: null,\r\n\t\tnewQuantityProduct: null,\r\n\t\tnewPromotionProduct: this.props.promotion\r\n\t}\r\n\r\n\tonBlurPrice(obj) {\r\n\r\n\t\tlet { price } = obj\r\n\r\n\t\tthis.setState({\r\n\t\t\tdisabledBtnUpdatePrice: false, newPriseProduct: price\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tupdateStatusPrice(obj) {\r\n\r\n\t\tlet { price, id } = obj\r\n\r\n\t\tconsole.log('newPrice', price)\r\n\t\tconsole.log('idProduct', id)\r\n\r\n\t\tif (price < 0) {\r\n\t\t\talert(\"Введіть додатню ціну !!!\")\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdisabledBtnUpdatePrice: true\r\n\t\t})\r\n\r\n\t\tthis.props.onChangePrice({ price, id })\r\n\r\n\t}\r\n\r\n\tonBlurQuantity(obj) {\r\n\r\n\t\tlet { quantity } = obj\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\tdisabledBtnUpdateQuantity: false, newQuantityProduct: quantity\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tupdateStatusQuantity(obj) {\r\n\r\n\t\tlet { quantity, id } = obj\r\n\r\n\t\tconsole.log('newQuantity', quantity)\r\n\t\tconsole.log('idProduct', id)\r\n\r\n\t\tif (quantity < 0) {\r\n\t\t\talert(\"Введіть додатню кількість !!!\")\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tdisabledBtnUpdateQuantity: true\r\n\t\t})\r\n\r\n\t\tthis.props.onChangeQuantity({ quantity, id })\r\n\r\n\t}\r\n\r\n\tupdateStatusPromotionProduct(obj) {\r\n\r\n\t\tlet { promotion, id } = obj\r\n\r\n\t\tconsole.log('newPromotion', promotion)\r\n\t\tconsole.log('idProduct', id)\r\n\r\n\t\tthis.setState({\r\n\t\t\tdisabledBtnUpdatePromotion: true\r\n\t\t})\r\n\r\n\t\tthis.props.onChangePromotion({ promotion, id })\r\n\r\n\t}\r\n\r\n\tonClickArrow(obj) {\r\n\r\n\t\tlet { clickevent, id, divstr } = obj\r\n\r\n\t\tlet divInputNumber =\r\n\t\t\tdocument.querySelector(`.${divstr}_${id}`),\r\n\t\t\tnumberPlus = divInputNumber.querySelector('.arrow_plus'),\r\n\t\t\tnumberMinus = divInputNumber.querySelector('.arrow_minus'),\r\n\t\t\tnumberInput = divInputNumber.querySelector('[type=\"number\"]'),\r\n\t\t\tmin = +numberInput.getAttribute('min'),\r\n\t\t\tmax = +numberInput.getAttribute('max'),\r\n\t\t\tstep = +numberInput.getAttribute('step') || 1\r\n\r\n\t\tlet valueInput = +numberInput.value\r\n\r\n\t\tnumberInput.focus()\r\n\r\n\t\tif (clickevent === \"plus\") {\r\n\r\n\t\t\tif (!(max < valueInput + step)) {\r\n\t\t\t\t//                numberInput.value = (valueInput * 10 + step * 10) / 10\r\n\t\t\t\tnumberInput.value = +(valueInput + step).toFixed(1)\r\n\r\n\t\t\t} else {\r\n\t\t\t\tnumberInput.value = max\r\n\t\t\t}\r\n\r\n\t\t} else if (clickevent === \"minus\") {\r\n\r\n\t\t\tif (!(min > valueInput - step)) {\r\n\t\t\t\t//                numberInput.value = (valueInput * 10 - step * 10) / 10\r\n\t\t\t\tnumberInput.value = +(valueInput - step).toFixed(1)\r\n\t\t\t} else {\r\n\t\t\t\tnumberInput.value = min\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tnumberInput.blur()\r\n\r\n\t}\r\n\r\n\toptionPromotionsProduct = event => {\r\n\r\n\t\tconst thisPromotionsOptions = []\r\n\r\n\t\tfor (let i = 0; i <= 100; i += 5) {\r\n\t\t\tthisPromotionsOptions.push({ text: i, value: i })\r\n\t\t}\r\n\r\n\t\tlet thisPromotion\r\n\r\n\t\tthisPromotionsOptions.forEach((promotion, index) => {\r\n\r\n\t\t\tif (promotion.value === this.state.newPromotionProduct) {\r\n\t\t\t\tthisPromotion = promotion\r\n\r\n\t\t\t\tthisPromotionsOptions.splice(index, 1)\r\n\t\t\t\tthisPromotionsOptions.unshift(thisPromotion)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisPromotionsOptions\r\n\r\n\t}\r\n\r\n\tonChangeSelectPromotions = event => {\r\n\r\n\t\tlet newPromotionProduct = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tdisabledBtnUpdatePromotion: false, newPromotionProduct\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst selectPromotionsProduct = <Select\r\n\t\t\tclassName={\"selectPromotionsProduct\"}\r\n\t\t\tname={`promotion_${this.props.productId}`}\r\n\t\t\tonChange={this.onChangeSelectPromotions}\r\n\t\t\toption={this.optionPromotionsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst { index } = this.props\r\n\r\n\t\tlet product = orderBy(this.props.products, ['popularity', 'promotion', 'price', 'name'], ['desc', 'desc', 'asc', 'desc'])[index]\r\n\r\n\t\t//        if(filter) {\r\n\t\t//            product = this.props.selectedProductsAdmin[index]\r\n\t\t//        } else {\r\n\t\t//            product = this.props.products[index]\r\n\t\t//        }\r\n\r\n\t\tconst cls = [classes.ProductItem]\r\n\r\n\t\tlet id = product.id\r\n\r\n\t\tlet checked = product.checked\r\n\r\n\t\tif (checked) {\r\n\t\t\tcls.push('done') // in index.css\r\n\t\t}\r\n\r\n\t\tconst thisCategory = this.props.categories.filter(category => category.id === product.category)[0]\r\n\r\n\t\tconst nameCategory = thisCategory.name\r\n\t\tconst idCategory = thisCategory.id\r\n\r\n\t\tconst thisSubcategory = thisCategory.subcategories.filter(subcategory => subcategory.id === product.subcategory)[0]\r\n\r\n\t\tconst nameSubcategory = thisSubcategory.name\r\n\t\tconst idSubcategory = thisSubcategory.id\r\n\r\n\t\treturn (\r\n\t\t\t<tr className={cls.join(' ')} id={`product_table_${id}`}>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>check</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\r\n\t\t\t\t\t\t\tonChange={event => {\r\n\r\n\t\t\t\t\t\t\t\tlet checked = event.target.checked\r\n\t\t\t\t\t\t\t\tthis.props.toggleProduct(id, checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={checked}\r\n\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>id</div>\r\n\t\t\t\t\t<div className={classes.th_value}>{id}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th className={classes.th_image}>\r\n\t\t\t\t\t<div className={classes.leftTitle}>image</div>\r\n\t\t\t\t\t<div className={`ml-3 my-1 ${classes.productFoto}`} style={{ backgroundImage: `url(${product.image})`, backgroundSize: 'cover' }}></div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th className={classes.thName}>\r\n\t\t\t\t\t<div className={classes.leftTitle}>name</div>\r\n\t\t\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>\r\n\t\t\t\t\t\t<NavLink className={`${classes.a_to_product_page}`} to={'/product/' + id}>\r\n\t\t\t\t\t\t\t{product.name}\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>price</div>\r\n\t\t\t\t\t<div className={`d-flex flex-column flex-sm-row py-3 py-sm-0 px-0 px-sm-3 overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>\r\n\r\n\t\t\t\t\t\t<div className={`divInputNumber divInputNumber_${product.id} mx-right position-relation`}>\r\n\r\n\t\t\t\t\t\t\t<div className=\"arrow arrow_minus d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'minus', id: product.id, divstr: 'divInputNumber' })} ><i className=\"fa fa-minus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t\t<Input type=\"number\" labelDisplay=\"d-none\" min={0} max={10000} step={1} className={`inputNumber text-center ${classes.inputPrice}`} name={`price_product_${product.id}`} defaultValue={product.price} onBlur={event => this.onBlurPrice({ price: +event.target.value })} />\r\n\r\n\t\t\t\t\t\t\t<div className=\"arrow arrow_plus  d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'plus', id: product.id, divstr: 'divInputNumber' })} ><i className=\"fa fa-plus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid={'statusUpdate'}\r\n\t\t\t\t\t\t\tonClick={() => this.updateStatusPrice({ price: this.state.newPriseProduct, id: product.id })}\r\n\t\t\t\t\t\t\tclassName={`ml-0 ml-sm-3 btn btn-success btn_refresh_price_${product.id} ${classes.btnUpdate}`}\r\n\t\t\t\t\t\t\tdisabled={this.state.disabledBtnUpdatePrice}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className=\"fa fa-refresh\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>quantity</div>\r\n\t\t\t\t\t<div className={`d-flex flex-column flex-sm-row py-3 py-sm-0 px-0 px-sm-3 overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>\r\n\t\t\t\t\t\t<div className={`divInputNumber divInputNumberQuantity_${product.id} mx-right position-relation`}>\r\n\r\n\t\t\t\t\t\t\t<div className=\"arrow arrow_minus d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'minus', id: product.id, divstr: 'divInputNumberQuantity' })} ><i className=\"fa fa-minus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t\t<Input type=\"number\" labelDisplay=\"d-none\" min={0} max={10000} step={product.stepunits} className={`inputNumber text-center ${classes.inputPrice}`} name={`quantity_product_${product.id}`} defaultValue={product.quantity} onBlur={event => this.onBlurQuantity({ quantity: +event.target.value })} />\r\n\r\n\t\t\t\t\t\t\t<div className=\"arrow arrow_plus  d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'plus', id: product.id, divstr: 'divInputNumberQuantity' })} ><i className=\"fa fa-plus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid={'statusUpdate'}\r\n\t\t\t\t\t\t\tonClick={() => this.updateStatusQuantity({ quantity: this.state.newQuantityProduct, id: product.id })}\r\n\t\t\t\t\t\t\tclassName={`ml-0 ml-sm-3 btn btn-success btn_refresh_quantity_${product.id} ${classes.btnUpdate}`}\r\n\t\t\t\t\t\t\tdisabled={this.state.disabledBtnUpdateQuantity}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className=\"fa fa-refresh\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>promotion</div>\r\n\t\t\t\t\t<div className={`d-flex flex-column flex-sm-row py-3 py-sm-0 px-0 px-sm-3 overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>\r\n\t\t\t\t\t\t{selectPromotionsProduct}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tid={'statusUpdate'}\r\n\t\t\t\t\t\t\tonClick={() => this.updateStatusPromotionProduct({ promotion: this.state.newPromotionProduct, id: product.id })}\r\n\t\t\t\t\t\t\tclassName={`ml-0 ml-sm-3 btn btn-success btn_refresh_promotion_${product.id} ${classes.btnUpdate}`}\r\n\t\t\t\t\t\t\tdisabled={this.state.disabledBtnUpdatePromotion}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className=\"fa fa-refresh\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>popularity</div>\r\n\t\t\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>{product.popularity}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>units</div>\r\n\t\t\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>{product.units}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th className={classes.th_describe}>\r\n\t\t\t\t\t<div className={classes.leftTitle}>describe</div>\r\n\t\t\t\t\t<div className={`px-3 py-2 d-flex text-left justify-content-md-center align-items-center overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`} >\r\n\t\t\t\t\t\t<p className={`h-100 mb-0`}>{product.describe}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>category</div>\r\n\t\t\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>{nameCategory}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>subcategory</div>\r\n\t\t\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>{nameSubcategory}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>visible</div>\r\n\t\t\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`}>{product.visibleproduct ? \"Видимий\" : \"Невидимий\"}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>edit</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<ModalEdit idProduct={id} idSubcategory={idSubcategory} nameCategory={nameCategory} nameSubcategory={nameSubcategory} idCategory={idCategory} units={product.units} stepunits={product.stepunits} visible={product.visibleproduct} promotion={product.promotion} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>remove</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<button className={classes.btnRemove} onClick={() => this.props.removeProducts(id)}><i className=\"fa fa-times\" aria-hidden=\"true\"></i></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t</tr>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\tselectedProductsAdmin: state.products.selectedProductsAdmin\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\ttoggleProduct: (id, checked) => dispatch(toggleProduct(id, checked)),\r\n\t\tonChangePrice: obj => dispatch(onChangePrice(obj)),\r\n\t\tonChangeQuantity: obj => dispatch(onChangeQuantity(obj)),\r\n\t\tonChangePromotion: obj => dispatch(onChangePromotion(obj)),\r\n\t\tremoveProducts: id => dispatch(removeProducts(id))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductItem)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalEdit\\ModalEdit.js",["279"],"import React, { Component } from 'react'\r\nimport classes from './ModalEdit.module.css'\r\nimport Button from '../../../../components/UI/Button/Button'\r\nimport Input from '../../../../components/UI/Input/Input'\r\nimport Select from '../../../../components/UI/Select/Select'\r\nimport is from 'is_js' // для валідації емейлу в формі\r\nimport { Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { editProduct } from '../../../../redux/actions/products'\r\n\r\nclass ModalEdit extends Component {\r\n\r\n\tstate = {\r\n\t\tisFormValid: false,\r\n\t\tidSelectedCategory: this.props.idCategory,\r\n\t\tidSelectedSubcategory: this.props.idSubcategory,\r\n\t\tvalueSelectedVisible: this.props.visible,\r\n\t\tvalueSelectedUnit: this.props.units,\r\n\t\tvalueSelectedStepUnit: this.props.stepunits,\r\n\t\tvalueSelectedPromotion: this.props.promotion,\r\n\t\tnameCategory: this.props.nameCategory,\r\n\t\tformControls: {\r\n\t\t\tname: {\r\n\t\t\t\tid: 'name',\r\n\t\t\t\thtmlFor: 'name',\r\n\t\t\t\tvalue: this.props.products.filter(product => product.id === this.props.idProduct)[0].name,\r\n\t\t\t\tname: 'name',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Введіть назву',\r\n\t\t\t\terrorMessage: 'Поле з назвою не повинне бути пустим',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tprice: {\r\n\t\t\t\tid: 'price',\r\n\t\t\t\thtmlFor: 'price',\r\n\t\t\t\tvalue: this.props.products.filter(product => product.id === this.props.idProduct)[0].price,\r\n\t\t\t\tname: 'price',\r\n\t\t\t\ttype: 'number',\r\n\t\t\t\tlabel: 'Введіть ціну',\r\n\t\t\t\terrorMessage: 'Поле з ціною не повинне бути пустим',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tquantity: {\r\n\t\t\t\tid: 'quantity',\r\n\t\t\t\thtmlFor: 'quantity',\r\n\t\t\t\tvalue: this.props.products.filter(product => product.id === this.props.idProduct)[0].quantity,\r\n\t\t\t\tname: 'quantity',\r\n\t\t\t\ttype: 'number',\r\n\t\t\t\tlabel: 'Введіть кількість товару',\r\n\t\t\t\terrorMessage: 'Поле з кількістю товару не повинне бути пустим',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdescribe: {\r\n\t\t\t\tid: 'describe',\r\n\t\t\t\thtmlFor: 'describe',\r\n\t\t\t\tvalue: this.props.products.filter(product => product.id === this.props.idProduct)[0].describe,\r\n\t\t\t\tname: 'describe',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Добавте опис',\r\n\t\t\t\terrorMessage: 'Поле з описом не повинне бути пустим',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timage: {\r\n\t\t\t\tid: 'image',\r\n\t\t\t\thtmlFor: 'image',\r\n\t\t\t\tvalue: this.props.products.filter(product => product.id === this.props.idProduct)[0].image,\r\n\t\t\t\tname: 'image',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Добавте ссилку на картинку',\r\n\t\t\t\terrorMessage: 'Введіть ссилку на картинку',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: this.props.products.filter(product => product.id === this.props.idProduct)[0].name,\r\n\t\tprice: this.props.products.filter(product => product.id === this.props.idProduct)[0].price,\r\n\t\t//        price: document.querySelector(`input[name = price_product_${id}]`).value,\r\n\t\tquantity: this.props.products.filter(product => product.id === this.props.idProduct)[0].quantity,\r\n\t\tdescribe: this.props.products.filter(product => product.id === this.props.idProduct)[0].describe,\r\n\t\timage: this.props.products.filter(product => product.id === this.props.idProduct)[0].image\r\n\t}\r\n\r\n\tselectChangeCategory = event => {\r\n\r\n\t\tlet idSelectedCategory = +event.target.value\r\n\t\tlet nameCategory\r\n\r\n\t\tthis.props.categories.forEach(category => {\r\n\t\t\tif (category.id === idSelectedCategory) {\r\n\t\t\t\tnameCategory = category.name\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tidSelectedCategory, nameCategory\r\n\t\t})\r\n\r\n\r\n\t}\r\n\r\n\tselectChangeSubcategory = event => {\r\n\t\tlet idSelectedSubcategory = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tidSelectedSubcategory\r\n\t\t})\r\n\t}\r\n\r\n\tselectChangeUnits = event => {\r\n\r\n\t\tlet valueSelectedUnit = event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedUnit\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tselectChangeStepUnits = event => {\r\n\r\n\t\tlet valueSelectedStepUnit = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedStepUnit\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tselectChangePromotions = event => {\r\n\r\n\t\tlet valueSelectedPromotion = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedPromotion\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tselectChangeVisible = event => {\r\n\r\n\t\tlet valueSelectedVisible = event.target.value === \"true\" ? true : false\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedVisible\r\n\t\t})\r\n\r\n\t}\r\n\r\n\r\n\t//    optionSelectCategory = event => {       \r\n\t//       \r\n\t//        if(this.props.categories[0]) {\r\n\t//            \r\n\t//            return this.props.categories.map(category => {\r\n\t//                return {text: category.name, value: category.id}\r\n\t//            })\r\n\t//            \r\n\t//        } else {\r\n\t//            return [{text: \"Немає категорії\", value: \"Немає категорії\"}]\r\n\t//        }\r\n\t//       \r\n\t//        \r\n\t//    }\r\n\r\n\toptionSelectCategory = event => {\r\n\r\n\t\tlet idSelectedCategory\r\n\r\n\t\tif (this.props.categories[0]) {\r\n\r\n\t\t\tconst thisOptions = this.props.categories.map(category => {\r\n\t\t\t\treturn { text: category.name, value: category.id }\r\n\t\t\t})\r\n\r\n\t\t\tlet thisOption\r\n\r\n\t\t\tthisOptions.forEach((category, index) => {\r\n\r\n\t\t\t\tif (category.text === this.state.nameCategory) {\r\n\t\t\t\t\tthisOption = category\r\n\t\t\t\t\tthisOptions.splice(index, 1)\r\n\t\t\t\t\tthisOptions.unshift(thisOption)\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\r\n\r\n\r\n\t\t\treturn thisOptions\r\n\r\n\t\t} else {\r\n\t\t\treturn [{ text: \"Немає категорії\", value: \"Немає категорії\" }]\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\r\n\toptionSelectSubcategory = idSelectedCategory => {\r\n\r\n\t\tif (this.props.categories[idSelectedCategory]) {\r\n\t\t\tif (this.props.categories[idSelectedCategory].subcategories) {\r\n\r\n\r\n\t\t\t\tconst thisOptions = this.props.categories[idSelectedCategory].subcategories.map(subcategory => {\r\n\t\t\t\t\treturn { text: `${subcategory.name}`, value: subcategory.id }\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet thisOption\r\n\r\n\t\t\t\tthisOptions.forEach((subcategory, index) => {\r\n\r\n\t\t\t\t\tif (subcategory.value === this.state.idSelectedSubcategory) {\r\n\t\t\t\t\t\tthisOption = subcategory\r\n\t\t\t\t\t\tthisOptions.splice(index, 1)\r\n\t\t\t\t\t\tthisOptions.unshift(thisOption)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t\treturn thisOptions\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn [{ text: \"Немає підкатегорії\", value: \"Немає підкатегорії\" }]\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\treturn [{ text: \"Немає підкатегорії\", value: \"Немає підкатегорії\" }]\r\n\t\t}\r\n\r\n\t}\r\n\r\n\toptionUnitsProduct = event => {\r\n\r\n\t\tconst thisUnitsOptions = [{ text: \"шт\", value: \"шт\" }, { text: \"кг\", value: \"кг\" }]\r\n\r\n\t\tlet thisUnit\r\n\r\n\t\tthisUnitsOptions.forEach((unit, index) => {\r\n\r\n\t\t\tif (unit.value === this.state.valueSelectedUnit) {\r\n\t\t\t\tthisUnit = unit\r\n\t\t\t\tthisUnitsOptions.splice(index, 1)\r\n\t\t\t\tthisUnitsOptions.unshift(thisUnit)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisUnitsOptions\r\n\r\n\t}\r\n\r\n\toptionStepUnitsProduct = event => {\r\n\r\n\t\tconst thisStepUnitsOptions = []\r\n\r\n\t\tfor (let i = 0.1; i <= 1; i += 0.1) {\r\n\t\t\tthisStepUnitsOptions.push({ text: +i.toFixed(2), value: +i.toFixed(2) })\r\n\t\t}\r\n\r\n\t\tlet thisStepUnit\r\n\r\n\t\tthisStepUnitsOptions.forEach((stepunit, index) => {\r\n\r\n\t\t\tif (stepunit.value === this.state.valueSelectedStepUnit) {\r\n\t\t\t\tthisStepUnit = stepunit\r\n\r\n\t\t\t\tthisStepUnitsOptions.splice(index, 1)\r\n\t\t\t\tthisStepUnitsOptions.unshift(thisStepUnit)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisStepUnitsOptions\r\n\r\n\t}\r\n\r\n\toptionPromotionsProduct = event => {\r\n\r\n\t\tconst thisPromotionsOptions = []\r\n\r\n\t\tfor (let i = 0; i <= 100; i += 5) {\r\n\t\t\tthisPromotionsOptions.push({ text: i, value: i })\r\n\t\t}\r\n\r\n\t\tlet thisPromotion\r\n\r\n\t\tthisPromotionsOptions.forEach((promotion, index) => {\r\n\r\n\t\t\tif (promotion.value === this.state.valueSelectedPromotion) {\r\n\t\t\t\tthisPromotion = promotion\r\n\r\n\t\t\t\tthisPromotionsOptions.splice(index, 1)\r\n\t\t\t\tthisPromotionsOptions.unshift(thisPromotion)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisPromotionsOptions\r\n\r\n\t}\r\n\r\n\toptionVisibleProduct = event => {\r\n\r\n\t\tconst visibleOptions = [{ text: \"Видимий\", value: true }, { text: \"Невидимий\", value: false }]\r\n\r\n\t\t//        let thisVisibleOption \r\n\t\t//        let thisVisible\r\n\t\t//        \r\n\t\t//        if (this.props.visible) {\r\n\t\t//            thisVisible = \"Видимий\"\r\n\t\t//        } else {\r\n\t\t//            thisVisible = \"Невидимий\"\r\n\t\t//        }\r\n\t\t//            \r\n\t\t//         const thisVisibleOptions = visibleOptions.filter((visible, index) => {\r\n\t\t//\r\n\t\t//             if(visible.text === thisVisible) {                     \r\n\t\t//                thisVisibleOption = visible                    \r\n\t\t//             }\r\n\t\t//\r\n\t\t//             return visible.text !== thisVisible\r\n\t\t//\r\n\t\t//         })\r\n\t\t//\r\n\t\t//        thisVisibleOptions.unshift(thisVisibleOption)\r\n\r\n\t\tlet thisVisible\r\n\r\n\t\tvisibleOptions.forEach((visible, index) => {\r\n\r\n\t\t\tif (visible.value === this.state.valueSelectedVisible) {\r\n\t\t\t\tthisVisible = visible\r\n\t\t\t\tvisibleOptions.splice(index, 1)\r\n\t\t\t\tvisibleOptions.unshift(thisVisible)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn visibleOptions\r\n\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tvalidateControl(value, validation) {\r\n\t\tif (!validation) {\r\n\t\t\treturn true\r\n\t\t}\r\n\r\n\t\tlet isValid = true\r\n\r\n\t\tif (validation.required) {\r\n\t\t\tisValid = value.trim() !== '' && isValid\r\n\t\t}\r\n\r\n\t\tif (validation.email) {\r\n\t\t\tisValid = is.email(value) && isValid\r\n\t\t}\r\n\r\n\t\tif (validation.minLength) {\r\n\t\t\tisValid = value.length >= validation.minLength && isValid\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n\r\n\r\n\tonChangeHandler = (event, controlName) => {\r\n\r\n\t\tconst formControls = { ...this.state.formControls }\r\n\t\tconst control = { ...formControls[controlName] }\r\n\r\n\t\tcontrol.value = event.target.value\r\n\t\tcontrol.touched = true\r\n\t\tcontrol.valid = this.validateControl(control.value, control.validation)\r\n\r\n\t\tformControls[controlName] = control\r\n\r\n\t\tlet isFormValid = true\r\n\r\n\t\tObject.keys(formControls).forEach(name => {\r\n\t\t\tisFormValid = formControls[name].valid && isFormValid\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tformControls, isFormValid, [event.target.id]: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\trenderInputs() {\r\n\r\n\t\treturn Object.keys(this.state.formControls).map((controlName, index) => {\r\n\t\t\tconst control = this.state.formControls[controlName]\r\n\t\t\treturn (\r\n\t\t\t\t<Input\r\n\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\tid={control.id}\r\n\t\t\t\t\thtmlFor={control.htmlFor}\r\n\t\t\t\t\tkey={controlName + index}\r\n\t\t\t\t\ttype={control.type}\r\n\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\tname={control.name}\r\n\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\tonChange={event => this.onChangeHandler(event, controlName)}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\teditDate(id) {\r\n\r\n\t\tconst { name, price, quantity, describe, image } = this.state.formControls\r\n\r\n\t\tconst selectsForm = [...document.querySelectorAll('select.addOptionToEditProduct')].map(select => {\r\n\t\t\treturn { name: select.name, value: select.value }\r\n\t\t});\r\n\r\n\t\tconst selectValue = ['promotion', 'categories', 'subcategories', 'units', 'stepunits', 'visibleproduct']\r\n\r\n\t\tselectsForm.forEach(select => {\r\n\t\t\tif (select.name === 'promotion') {\r\n\t\t\t\tselectValue[0] = +select.value\r\n\t\t\t} else if (select.name === 'categories') {\r\n\t\t\t\tselectValue[1] = +select.value\r\n\t\t\t} else if (select.name === 'subcategories') {\r\n\t\t\t\tselectValue[2] = +select.value\r\n\t\t\t} else if (select.name === 'units') {\r\n\t\t\t\tselectValue[3] = select.value\r\n\t\t\t} else if (select.name === 'stepunits') {\r\n\t\t\t\tselectValue[4] = +select.value\r\n\t\t\t} else if (select.name === 'visibleproduct') {\r\n\t\t\t\tselectValue[5] = select.value === \"true\" ? true : false\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst [promotion, category, subcategory, units, stepunits, visibleproduct] = selectValue\r\n\r\n\t\tthis.props.editProduct({\r\n\t\t\tid,\r\n\t\t\tname: name.value,\r\n\t\t\tcategory,\r\n\t\t\tsubcategory,\r\n\t\t\tunits,\r\n\t\t\tstepunits,\r\n\t\t\tprice: +price.value,\r\n\t\t\tquantity: +quantity.value,\r\n\t\t\tpromotion,\r\n\t\t\tdescribe: describe.value,\r\n\t\t\timage: image.value,\r\n\t\t\tvisibleproduct\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tisFormValid: false\r\n\t\t})\r\n\r\n\t\tthis.handleClose()\r\n\t}\r\n\r\n\trenderModalEdit() {\r\n\r\n\t\tconst idThisProducts = this.props.idProduct\r\n\r\n\t\tconst selectPromotionsProduct = <Select\r\n\t\t\tlabel=\"Знижка в %\"\r\n\t\t\tname=\"promotion\"\r\n\t\t\tclassName=\"addOptionToEditProduct\"\r\n\t\t\tonChange={this.selectChangePromotions}\r\n\t\t\toption={this.optionPromotionsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst selectCategories = <Select\r\n\t\t\tlabel=\"Виберіть категорію\"\r\n\t\t\tonChange={this.selectChangeCategory}\r\n\t\t\tname=\"categories\"\r\n\t\t\tclassName=\"addOptionToEditProduct\"\r\n\t\t\toption={this.optionSelectCategory()}\r\n\t\t/>\r\n\r\n\t\tconst selectSubcategories = <Select\r\n\t\t\tlabel=\"Виберіть підкатегорію\"\r\n\t\t\tonChange={this.selectChangeSubcategory}\r\n\t\t\tname=\"subcategories\"\r\n\t\t\tclassName=\"addOptionToEditProduct\"\r\n\t\t\t//            disabled={!this.props.isSubcategories}\r\n\t\t\toption={this.optionSelectSubcategory(this.state.idSelectedCategory)}\r\n\t\t/>\r\n\r\n\t\tconst selectUnitsProduct = <Select\r\n\t\t\tlabel=\"Одиниці вимірювання\"\r\n\t\t\tname=\"units\"\r\n\t\t\tclassName=\"addOptionToEditProduct\"\r\n\t\t\tonChange={this.selectChangeUnits}\r\n\t\t\toption={this.optionUnitsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst selectStepUnitsProduct = <Select\r\n\t\t\tlabel=\"Крок одиниць вимірювань\"\r\n\t\t\tname=\"stepunits\"\r\n\t\t\tclassName=\"addOptionToEditProduct\"\r\n\t\t\tonChange={this.selectChangeStepUnits}\r\n\t\t\toption={this.optionStepUnitsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst selectVisibleProduct = <Select\r\n\t\t\tlabel=\"Видимість продукту\"\r\n\t\t\tname=\"visibleproduct\"\r\n\t\t\tclassName=\"addOptionToEditProduct\"\r\n\t\t\tonChange={this.selectChangeVisible}\r\n\t\t\toption={this.optionVisibleProduct()}\r\n\t\t/>\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\tonClick={this.handleShow}\r\n\t\t\t\t\tdata_idThisProducts={idThisProducts}\r\n\t\t\t\t>\r\n\t\t\t\t\tРедагувати\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal className={classes.ProductsModalEdit} show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"align-items-center\">\r\n\t\t\t\t\t\t<Modal.Title>Редагувати:</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={classes.modalBodyProductsEdit} >\r\n\r\n\t\t\t\t\t\t{this.props.error ? <h3 className=\"d-block error text-danger text-center\" >{this.props.error.message}</h3> : null}\r\n\t\t\t\t\t\t<div className={classes.ProductsEdit}>\r\n\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t<form className={classes.ProductsEditForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t{this.renderInputs()}\r\n\t\t\t\t\t\t\t\t\t{selectPromotionsProduct}\r\n\t\t\t\t\t\t\t\t\t{selectCategories}\r\n\t\t\t\t\t\t\t\t\t{selectSubcategories}\r\n\t\t\t\t\t\t\t\t\t{selectUnitsProduct}\r\n\t\t\t\t\t\t\t\t\t{selectStepUnitsProduct}\r\n\t\t\t\t\t\t\t\t\t{selectVisibleProduct}\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex justify-content-end\">\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\tonClick={() => this.editDate(this.props.idProduct)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tРедагувати\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.ModalEdit}>\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalEdit()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\terror: state.products.error\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\teditProduct: obj => dispatch(editProduct(obj))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalEdit)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\index.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\hoc\\Layout\\Layout.js",["280"],"import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { NavLink } from 'react-router-dom'\nimport classes from './Layout.module.css'\nimport axios from '../../axios/axios-quiz'\nimport MenuToggle from '../../components/Navigation/MenuToggle/MenuToggle'\nimport Drawer from '../../components/Navigation/Drawer/Drawer'\nimport Cart from '../../containers/Cart/Cart'\nimport { toggleMenuHandler, menuCloseHandler } from '../../redux/actions/menu'\nimport { fetchCustomersData, addNewUnKnownCustomer } from '../../redux/actions/inform'\nimport { fetchProductsData } from '../../redux/actions/products'\n\nclass Layout extends Component {\n\n\tasync componentDidMount() {\n\n\t\tthis.props.fetchCustomersData()\n\t\tthis.props.fetchProductsData()\n\n\t\tif (this.props.customerId !== null) {\n\n\t\t\tconst responseCustomers = await axios.get('customers.json')\n\n\t\t\tconst customers = responseCustomers.data\n\n\t\t\tconst isIdThisUnKnownCustomersInDB = customers.filter(customer => customer.id === this.props.customerId)[0]\n\n\t\t\tconsole.log('isIdThisUnKnownCustomersInDB_componentDidMount_Layout', isIdThisUnKnownCustomersInDB)\n\n\t\t\tif (!isIdThisUnKnownCustomersInDB) {\n\t\t\t\tconsole.log('isNtIdThisUnKnownCustomersInDB_componentDidMount_Layout')\n\n\t\t\t\twindow.localStorage.removeItem('idThisCustomers')\n\t\t\t\twindow.localStorage.removeItem('nameThisCustomers')\n\t\t\t\twindow.localStorage.removeItem('hasAccount')\n\n\t\t\t\tthis.props.addNewUnKnownCustomer()\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className={`container-fluid ${classes.Layout}`}>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tisOpen={this.props.menu}\n\t\t\t\t\t\ticonOpen=\"fa-times\"\n\t\t\t\t\t\tonClose={this.props.menuCloseHandler}\n\t\t\t\t\t\tlinks={this.props.links}\n\t\t\t\t\t\tnameDrawer=\"Меню\"\n\t\t\t\t\t\tonToggle={this.props.toggleMenuHandler}\n\t\t\t\t\t/>\n\n\n\t\t\t\t\t<div className={`container ${classes.header}`}>\n\t\t\t\t\t\t<div className={`row position-relative d-flex align-items-center justify-content-between pl-5 pl-md-3 pr-0`}>\n\t\t\t\t\t\t\t<MenuToggle\n\t\t\t\t\t\t\t\tonToggle={this.props.toggleMenuHandler}\n\t\t\t\t\t\t\t\tisOpen={this.props.menu}\n\t\t\t\t\t\t\t\ticonClose=\"fa-bars\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<NavLink to={'/'} className=\"text-dark\" >\n\t\t\t\t\t\t\t\t<h1 className={`mb-0 ${classes.nameShop}`} >{this.props.nameShop}</h1>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t<Cart />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<main className={`container ${classes.main}`}>\n\n\t\t\t\t\t\t{this.props.children}\n\n\t\t\t\t\t</main>\n\t\t\t\t\t<div className={`container-fluid ${classes.footer}`}>\n\t\t\t\t\t\t<div className={\"row\"}>\n\t\t\t\t\t\t\t<div className={\"container\"}>\n\t\t\t\t\t\t\t\t<div className={`row d-flex align-items-center justify-content-between px-3`}>\n\t\t\t\t\t\t\t\t\t<h5 className=\"mb-0\">Footer</h5>\n\n\t\t\t\t\t\t\t\t\t<div className={`${classes.lnIcon} d-flex align-items-center justify-content-center`}>\n\t\t\t\t\t\t\t\t\t\t<a href=\"https://www.linkedin.com/in/oleksandr-haliatkin/\" rel=\"noreferrer\" target=\"_blank\"><i src=\"linkedin.com/in/oleksandr-haliatkin\" className=\"fa fa-linkedin\" aria-hidden=\"true\"></i></a>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tmenu: state.menu.menu,\n\t\tlinks: !!state.inform.authAdmin ? state.menu.linksAuth : state.menu.links,\n\t\tnameShop: state.inform.nameShop,\n\t\tcustomerId: state.inform.customerId,\n\t\torders: state.products.orders,\n\t\tiaAuthenticated: !!state.inform.token\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\ttoggleMenuHandler: () => dispatch(toggleMenuHandler()),\n\t\tmenuCloseHandler: () => dispatch(menuCloseHandler()),\n\t\tfetchCustomersData: () => dispatch(fetchCustomersData()),\n\t\tfetchProductsData: () => dispatch(fetchProductsData()),\n\t\taddNewUnKnownCustomer: () => dispatch(addNewUnKnownCustomer())\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\Auth\\Auth.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\redusers\\menu.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Input\\Input.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\CustomersTable\\CustomersTable.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\form\\formFramework.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\ModalForCategories\\ModalEdit\\ModalEdit.js",["281"],"import React, { Component } from 'react'\r\nimport classes from './ModalEdit.module.css'\r\nimport Button from '../../../../components/UI/Button/Button'\r\nimport Input from '../../../../components/UI/Input/Input'\r\nimport Select from '../../../../components/UI/Select/Select'\r\nimport is from 'is_js' // для валідації емейлу в формі\r\nimport { Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { editCategory } from '../../../../redux/actions/products'\r\n\r\nclass ModalEdit extends Component {\r\n\r\n\tstate = {\r\n\t\tisFormValid: false,\r\n\t\tformControls: {\r\n\t\t\tname: {\r\n\t\t\t\tid: 'name',\r\n\t\t\t\thtmlFor: 'name',\r\n\t\t\t\tvalue: this.props.categories.filter(category => category.id === this.props.idCategory)[0].name,\r\n\t\t\t\tname: 'name',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Введіть назву',\r\n\t\t\t\terrorMessage: 'Поле з назвою не повинне бути пустим',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdescribe: {\r\n\t\t\t\tid: 'describe',\r\n\t\t\t\thtmlFor: 'describe',\r\n\t\t\t\tvalue: this.props.categories.filter(category => category.id === this.props.idCategory)[0].describe,\r\n\t\t\t\tname: 'describe',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Добавте опис',\r\n\t\t\t\terrorMessage: 'Поле з описом не повинне бути пустим',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timage: {\r\n\t\t\t\tid: 'image',\r\n\t\t\t\thtmlFor: 'image',\r\n\t\t\t\tvalue: this.props.categories.filter(category => category.id === this.props.idCategory)[0].image,\r\n\t\t\t\tname: 'image',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Добавте ссилку на картинку',\r\n\t\t\t\terrorMessage: 'Введіть ссилку на картинку',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: this.props.categories.filter(category => category.id === this.props.idCategory)[0].name,\r\n\t\tdescribe: this.props.categories.filter(category => category.id === this.props.idCategory)[0].describe,\r\n\t\timage: this.props.categories.filter(category => category.id === this.props.idCategory)[0].image\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tvalidateControl(value, validation) {\r\n\t\tif (!validation) {\r\n\t\t\treturn true\r\n\t\t}\r\n\r\n\t\tlet isValid = true\r\n\r\n\t\tif (validation.required) {\r\n\t\t\tisValid = value.trim() !== '' && isValid\r\n\t\t}\r\n\r\n\t\tif (validation.email) {\r\n\t\t\tisValid = is.email(value) && isValid\r\n\t\t}\r\n\r\n\t\tif (validation.minLength) {\r\n\t\t\tisValid = value.length >= validation.minLength && isValid\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n\r\n\r\n\tonChangeHandler = (event, controlName) => {\r\n\r\n\t\tconst formControls = { ...this.state.formControls }\r\n\t\tconst control = { ...formControls[controlName] }\r\n\r\n\t\tcontrol.value = event.target.value\r\n\t\tcontrol.touched = true\r\n\t\tcontrol.valid = this.validateControl(control.value, control.validation)\r\n\r\n\t\tformControls[controlName] = control\r\n\r\n\t\tlet isFormValid = true\r\n\r\n\t\tObject.keys(formControls).forEach(name => {\r\n\t\t\tisFormValid = formControls[name].valid && isFormValid\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tformControls, isFormValid, [event.target.id]: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\trenderInputs() {\r\n\r\n\t\treturn Object.keys(this.state.formControls).map((controlName, index) => {\r\n\t\t\tconst control = this.state.formControls[controlName]\r\n\t\t\treturn (\r\n\t\t\t\t<Input\r\n\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\tid={control.id}\r\n\t\t\t\t\thtmlFor={control.htmlFor}\r\n\t\t\t\t\tkey={controlName + index}\r\n\t\t\t\t\ttype={control.type}\r\n\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\tname={control.name}\r\n\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\tonChange={event => this.onChangeHandler(event, controlName)}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\teditDate(id) {\r\n\r\n\t\tconst { name, describe, image } = this.state.formControls\r\n\r\n\t\tthis.props.editCategory({\r\n\t\t\tid,\r\n\t\t\tname: name.value,\r\n\t\t\tdescribe: describe.value,\r\n\t\t\timage: image.value\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tisFormValid: false\r\n\t\t})\r\n\r\n\t\tthis.handleClose()\r\n\t}\r\n\r\n\trenderModalEdit() {\r\n\r\n\t\tconst idThisCategory = this.props.idCategory\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\tonClick={this.handleShow}\r\n\t\t\t\t\tdata_idThisCategory={idThisCategory}\r\n\t\t\t\t>\r\n\t\t\t\t\tEdit\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal className={classes.ModalEdit} show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"align-items-center\">\r\n\t\t\t\t\t\t<Modal.Title>Edit date:</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={classes.modalBodyProductsEdit} >\r\n\r\n\t\t\t\t\t\t<div className={classes.ProductsEdit}>\r\n\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t<form className={classes.ProductsEditForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t{this.renderInputs()}\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex justify-content-end\">\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\tonClick={() => this.editDate(idThisCategory)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.ModalEdit}>\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalEdit()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\tisSubcategories: state.products.isSubcategories,\r\n\t\terror: state.products.error\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\teditCategory: obj => dispatch(editCategory(obj))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalEdit)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\redusers\\products.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\Product\\Product.js",["282","283","284","285"],"import React, { Component } from 'react'\r\nimport classes from './Product.module.css'\r\nimport Button from '../../components/UI/Button/Button'\r\nimport Input from '../../components/UI/Input/Input'\r\nimport axios from '../../axios/axios-quiz'\r\nimport { connect } from 'react-redux'\r\nimport { addProductToCart, priceIncludedPromotion } from '../../redux/actions/products'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { addNewUnKnownCustomer } from '../../redux/actions/inform'\r\n\r\nclass Product extends Component {\r\n\r\n\tonChangeQuantity(obj) {\r\n\t\tlet { value: quantity, price, promotion, id, maxQuantity, stepunits } = obj\r\n\r\n\t\tif (quantity < stepunits) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet thisPrice = +(this.props.priceIncludedPromotion(price, promotion) * quantity).toFixed(1)\r\n\r\n\t\tdocument.querySelector(`span[id = product_price_${id}]`).innerHTML = thisPrice\r\n\r\n\t}\r\n\r\n\r\n\taddProductToCart(obj) {\r\n\r\n\t\tconst { event, productId, price, promotion, customerId, stepunits } = obj\r\n\t\tevent.preventDefault()\r\n\r\n\t\tthis.props.addProductToCart({ event, productId, customerId, price, promotion, stepunits })\r\n\r\n\t}\r\n\r\n\tonMaxQuantity(obj) {\r\n\r\n\t\tlet { value: quantity, maxQuantity, id } = obj\r\n\r\n\t\tlet elem = document.querySelector(`p[id = warning_${id}]`)\r\n\t\tif (quantity >= maxQuantity) {\r\n\t\t\telem.classList.add(\"shadow\")\r\n\t\t} else {\r\n\t\t\telem.classList.remove(\"shadow\")\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonClickArrow(obj) {\r\n\r\n\t\tlet { clickevent, id, maxQuantity } = obj\r\n\r\n\t\tlet divInputNumber =\r\n\t\t\tdocument.querySelector(`.divInputNumberProduct_${id}`),\r\n\t\t\tnumberPlus = divInputNumber.querySelector('.arrow_plus'),\r\n\t\t\tnumberMinus = divInputNumber.querySelector('.arrow_minus'),\r\n\t\t\tnumberInput = divInputNumber.querySelector('[type=\"number\"]'),\r\n\t\t\tquantity = +numberInput.value,\r\n\t\t\tmin = +numberInput.getAttribute('min'),\r\n\t\t\tmax = +numberInput.getAttribute('max'),\r\n\t\t\tstep = +numberInput.getAttribute('step') || 1\r\n\r\n\t\tlet valueInput = +numberInput.value\r\n\r\n\t\tnumberInput.focus()\r\n\r\n\t\tif (clickevent === \"plus\") {\r\n\r\n\t\t\tif (!(max <= valueInput + step)) {\r\n\t\t\t\tnumberInput.value = (valueInput * 10 + step * 10) / 10\r\n\t\t\t} else {\r\n\t\t\t\tnumberInput.value = max\r\n\t\t\t}\r\n\r\n\t\t} else if (clickevent === \"minus\") {\r\n\r\n\t\t\tif (!(min > valueInput - step)) {\r\n\t\t\t\tnumberInput.value = (valueInput * 10 - step * 10) / 10\r\n\t\t\t} else {\r\n\t\t\t\tnumberInput.value = min\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tnumberInput.blur()\r\n\r\n\t\tthis.onMaxQuantity({ value: quantity, maxQuantity, id })\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={`mb-3 d-flex flex-column col-6 col-xs-6 col-sm-6 col-md-4 col-lg-4 border px-2 py-2 px-sm-3 ${classes.Product}`}>\r\n\t\t\t\t<NavLink className={`${classes.a_to_product_page}`} to={'/product/' + this.props.id}>\r\n\t\t\t\t\t<div className={`w-100 mb-1 ${classes.productFoto}`} style={{ backgroundImage: `url(${this.props.image})`, backgroundSize: 'cover' }}>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h3 className={`mb-1 d-flex align-items-center`}>{this.props.name}</h3>\r\n\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t<div className={`p-1 mb-2 border rounded overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.describe}`}>\r\n\t\t\t\t\t<p>{this.props.describe}</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<p className={`d-flex align-items-end text-success mb-xs-2 mt-2 ${classes.pPrice}`}  >\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{this.props.promotion\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<span className={`text-uppercase text-danger  ${classes.spanPromotion}`}>Акція {this.props.promotion}%</span>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<s className={`${classes.priseWithoutPromotion}`}><span>{+this.props.price.toFixed(1)} грн</span></s>\r\n\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t<span>{this.props.priceIncludedPromotion(this.props.price, this.props.promotion)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t: <span>{+this.props.price.toFixed(1)}</span>\r\n\t\t\t\t\t\t} грн / {this.props.units}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<form onSubmit={event => this.addProductToCart({ event, productId: this.props.id, customerId: this.props.customerId, price: this.props.price, promotion: this.props.promotion, stepunits: this.props.stepunits })} className={`d-flex align-items-center justify-content-between w-100 product_cart ${classes.productFooter}`} id={`${this.props.id}`}>\r\n\r\n\t\t\t\t\t<div className={`divInputNumber divInputNumberProduct_${this.props.id}  ${classes.divInputNum} mx-right position-relation`}>\r\n\r\n\t\t\t\t\t\t<div className=\"arrow arrow_minus d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'minus', id: this.props.id, maxQuantity: this.props.quantity })} ><i className=\"fa fa-minus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t<Input id={`input_product_${this.props.id}`} type=\"number\" labelDisplay=\"d-none\" className={`inputNumber text-center`} min={this.props.stepunits} step={this.props.stepunits} max={`${this.props.quantity}`} name={`product_${this.props.id}`} defaultValue={this.props.quantity ? 1 : 0} data_price={`${this.props.price}`} data_quantity={`${this.props.quantity}`} onFocus={event => this.onMaxQuantity({ value: +event.target.value, maxQuantity: this.props.quantity, id: this.props.id })} onBlur={event => this.onChangeQuantity({ value: +event.target.value, price: this.props.price, promotion: this.props.promotion, id: this.props.id, maxQuantity: this.props.quantity, stepunits: this.props.stepunits })} />\r\n\r\n\t\t\t\t\t\t<div className=\"arrow arrow_plus  d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'plus', id: this.props.id, maxQuantity: this.props.quantity })} ><i className=\"fa fa-plus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tid={`prod_${this.props.id}`}\r\n\t\t\t\t\t\tonClick={!window.localStorage.getItem('idThisCustomers') && window.localStorage.getItem('idThisCustomers') !== 0 ? this.props.addNewUnKnownCustomer : null}\r\n\t\t\t\t\t\tselfType=\"success\"\r\n\t\t\t\t\t\tclassName=\"btn btn-success btn_to_cart\"\r\n\t\t\t\t\t\tdisabled={!this.props.quantity}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fa fa-shopping-basket\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<p className={`mb-1 mb-xs-3 font-weight-bold`}  >\r\n\t\t\t\t\t<span>Total: </span>\r\n\t\t\t\t\t<span className={`text-info`} id={`product_price_${this.props.id}`}>{this.props.priceIncludedPromotion(this.props.price, this.props.promotion)} грн</span>\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t{this.props.authAdmin\r\n\t\t\t\t\t? <p className=\"mb-0 text-danger rounded\" id={`warning_${this.props.id}`} >Доступно: <span className=\"text-primary\">{`${this.props.quantity} ${this.props.units}.`}</span></p>\r\n\t\t\t\t\t: this.props.quantity\r\n\t\t\t\t\t\t? <p className=\"mb-0 text-success rounded\" id={`warning_${this.props.id}`} >Є в наявності</p>\r\n\t\t\t\t\t\t: <p className=\"mb-0 text-danger rounded\" id={`warning_${this.props.id}`} >Немає в наявності</p>\r\n\t\t\t\t}\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcustomerId: state.inform.customerId,\r\n\t\torders: state.products.orders,\r\n\t\tauthAdmin: state.inform.authAdmin\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddProductToCart: obj => dispatch(addProductToCart(obj)),\r\n\t\tpriceIncludedPromotion: (price, promotion) => dispatch(priceIncludedPromotion(price, promotion)),\r\n\t\taddNewUnKnownCustomer: () => dispatch(addNewUnKnownCustomer())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Product)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\ModalForSubcategories\\ModalAdd\\ModalAdd.js",["286","287"],"import React, { Component } from 'react'\r\nimport classes from './ModalAdd.module.css'\r\nimport Button from '../../../../components/UI/Button/Button'\r\nimport Input from '../../../../components/UI/Input/Input'\r\nimport Select from '../../../../components/UI/Select/Select'\r\nimport { createControl, validate, validateForm } from '../../../../form/formFramework'\r\nimport Auxiliary from '../../../../hoc/Auxiliary/Auxiliary'\r\nimport { Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { addNewSubcategory, existingSubcategories } from '../../../../redux/actions/products'\r\nimport { onScroll, topFunction } from '../../../../redux/actions/menu'\r\n\r\nfunction createFormControls() {\r\n\treturn {\r\n\t\tname: createControl({\r\n\t\t\tlabel: 'Введіть назву',\r\n\t\t\terrorMessage: 'Поле з назвою не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\tdescribe: createControl({\r\n\t\t\tlabel: 'Добавте опис',\r\n\t\t\terrorMessage: 'Поле з описом не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\timage: createControl({\r\n\t\t\tlabel: 'Добавте ссилку на картинку',\r\n\t\t\terrorMessage: 'Введіть ссилку на картинку'\r\n\t\t}, { required: true }),\r\n\t}\r\n}\r\n\r\nclass ModalAdd extends Component {\r\n\r\n\tstate = {\r\n\t\tisFormValid: false,\r\n\t\tformControls: createFormControls()\r\n\t}\r\n\r\n\tsubmitHandler = event => {\r\n\t\tevent.preventDefault()\r\n\t}\r\n\r\n\taddSubcategoryHandler = obj => {\r\n\r\n\t\tlet { idCategory } = obj\r\n\r\n\t\tconst { name, describe, image } = this.state.formControls\r\n\r\n\t\tthis.props.addNewSubcategory({\r\n\t\t\tname: name.value,\r\n\t\t\tidCategory,\r\n\t\t\timage: image.value,\r\n\t\t\tdescribe: describe.value\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tisFormValid: false,\r\n\t\t\tformControls: createFormControls()\r\n\t\t})\r\n\r\n\t\tthis.handleClose()\r\n\r\n\t}\r\n\r\n\tonChangeHandler = (value, controlName) => {\r\n\t\tconst formControls = { ...this.state.formControls }\r\n\t\tconst control = { ...formControls[controlName] }\r\n\r\n\t\tcontrol.value = value\r\n\t\tcontrol.touched = true\r\n\t\tcontrol.valid = validate(control.value, control.validation)\r\n\r\n\t\tformControls[controlName] = control\r\n\r\n\t\tthis.setState({\r\n\t\t\tformControls,\r\n\t\t\tisFormValid: validateForm(formControls)\r\n\t\t})\r\n\t}\r\n\r\n\trenderControls() {\r\n\t\treturn Object.keys(this.state.formControls).map((controlName, index) => {\r\n\t\t\tconst control = this.state.formControls[controlName]\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Auxiliary key={controlName + index}>\r\n\t\t\t\t\t{ <Input\r\n\t\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\t\tonChange={event => this.onChangeHandler(event.target.value, controlName)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{ index === 0 ? <hr /> : null}\r\n\t\t\t\t</Auxiliary>\r\n\t\t\t)\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trenderModalAdd() {\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\tonClick={this.handleShow}\r\n\t\t\t\t\tclassName={\"mb-3\"}\r\n\t\t\t\t>\r\n\t\t\t\t\tAdd New Subcategory\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal className={classes.ModalAdd} show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"align-items-center\">\r\n\t\t\t\t\t\t<Modal.Title>Add Subcategory:</Modal.Title>\r\n\t\t\t\t\t\t<h3 className=\"error text-danger text-center\" >{this.props.error ? this.props.error.message : null}</h3>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={classes.modalBodySubcategoriesAdd} >\r\n\r\n\t\t\t\t\t\t<div className={classes.SubcategoriesAdd}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"mx-auto d-flex flex-column\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"text-center\">Наявні підкатегорії:</h3>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`d-inline-block mx-auto border pr-5 overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.existingSubcategories}`} >\r\n\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.existingSubcategories(this.props.idCategory)}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<form className={classes.SubcategoriesAddForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t{this.renderControls()}\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex justify-content-end\">\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\tonClick={event => this.addSubcategoryHandler({ event, idCategory: this.props.idCategory })}\r\n\t\t\t\t\t\t\tdisabled={!this.state.isFormValid}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style scrollToTop ${classes.SubcategoryCreator}`} onScroll={this.props.onScroll} >\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalAdd()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\terror: state.products.error\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddNewSubcategory: obj => dispatch(addNewSubcategory(obj)),\r\n\t\texistingSubcategories: idCategory => dispatch(existingSubcategories(idCategory)),\r\n\t\tonScroll: () => dispatch(onScroll()),\r\n\t\ttopFunction: () => dispatch(topFunction())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalAdd)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\CategoriesTable\\CategoriesTable.js",["288"],"import React, { Component } from 'react'\r\nimport classes from './CategoriesTable.module.css'\r\nimport CategoryItem from '../CategoryItem/CategoryItem'\r\nimport { connect } from 'react-redux'\r\nimport Select from '../../../components/UI/Select/Select'\r\nimport { toggleAllCategories } from '../../../redux/actions/products'\r\n\r\nclass CategoriesTable extends Component {\r\n\r\n\tstate = {\r\n\t\tchecked: false\r\n\t}\r\n\r\n\tuseInputCheckedAll(defaultValue = '') {  // self hook chanch value in input\r\n\r\n\t\treturn {\r\n\t\t\tbind: {\r\n\t\t\t\tonChange: event => { this.setState({ checked: event.target.checked }) },\r\n\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\tonClick: event => {\r\n\r\n\t\t\t\t\tlet status = event.target.checked\r\n\r\n\t\t\t\t\tthis.props.toggleAllCategories(status)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst inputCheckedAll = this.useInputCheckedAll(false)\r\n\r\n\t\treturn (\r\n\t\t\t<table className={classes.CategoriesTable}>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr className={classes.trHeader}>\r\n\t\t\t\t\t\t<th className={classes.headerTitleCheckAll}>\r\n\t\t\t\t\t\t\t<div className={classes.leftTitle}>Check All</div>\r\n\t\t\t\t\t\t\t<div className={classes.th_value}><input {...inputCheckedAll.bind} /></div>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>id</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>image</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>name</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>describe</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>subcategories</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>edit</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>remove</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.props.categories.map((category, index) => {\r\n\t\t\t\t\t\t\treturn <CategoryItem category={category} categoryId={category.id} key={category.id} index={index} />\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</tbody>\r\n\r\n\t\t\t</table>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\ttoggleAllCategories: status => dispatch(toggleAllCategories(status))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoriesTable)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\hoc\\Auxiliary\\Auxiliary.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\Cart\\Cart.js",["289","290","291","292","293","294"],"import React, { Component } from 'react'\r\nimport classes from './Cart.module.css'\r\nimport Button from '../../components/UI/Button/Button'\r\nimport Input from '../../components/UI/Input/Input'\r\nimport is from 'is_js' // для валідації емейлу в формі\r\nimport { NavLink } from 'react-router-dom'\r\nimport { Modal } from 'react-bootstrap'\r\nimport axios from '../../axios/axios-quiz'\r\nimport firebase from 'firebase'\r\nimport { connect } from 'react-redux'\r\nimport { onScrollCart, topFunctionCart, bottomFunctionCart, errorFunctionCart } from '../../redux/actions/menu'\r\nimport { addNewCustomer } from '../../redux/actions/inform'\r\nimport { addProductWithCartToOrdersHistory, updateIsOrdersThisCart, priceIncludedPromotion, onDelete, setQuantityAll } from '../../redux/actions/products'\r\n\r\nclass Cart extends Component {\r\n\r\n\tstate = {\r\n\t\tshow: false,\r\n\t\tdisabledBtnSend: false,\r\n\t\tsuccessfulOrder: false,\r\n\t\tauthAndReg: false,\r\n\t\tisFormValid: this.props.customerName === 'Шановний клієнт' ? false : true,\r\n\t\tisOrdersThisCart: this.props.isOrdersThisCart,\r\n\t\tformControls: {\r\n\t\t\temail: {\r\n\t\t\t\tid: 'email',\r\n\t\t\t\thtmlFor: 'email',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tname: 'registr',\r\n\t\t\t\ttype: 'email',\r\n\t\t\t\tlabel: 'Email',\r\n\t\t\t\terrorMessage: 'Введіть корректний емейл',\r\n\t\t\t\tvalid: false,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\temail: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\tid: 'name',\r\n\t\t\t\thtmlFor: 'name',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tname: 'registr',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Ім\\'я',\r\n\t\t\t\terrorMessage: 'Введіть корректне ім\\'я',\r\n\t\t\t\tvalid: false,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttel: {\r\n\t\t\t\tid: 'tel',\r\n\t\t\t\thtmlFor: 'tel',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tname: 'registr',\r\n\t\t\t\ttype: 'number',\r\n\t\t\t\tlabel: 'Номер телефону',\r\n\t\t\t\terrorMessage: 'Введіть корректний номер телефону',\r\n\t\t\t\tvalid: false,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\temail: ''\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false, successfulOrder: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\t// sendOrders(obj) {\r\n\r\n\t// \tthis.setState({\r\n\t// \t\tdisabledBtnSend: true\r\n\t// \t})\r\n\r\n\t// \tconst { hasAccount, event, idThisCustomers } = obj\r\n\r\n\t// \tevent.preventDefault()\r\n\r\n\t// \tlet randomTime = Math.random() * 1000\r\n\r\n\t// \tconsole.log('randomTime', +(randomTime / 1000).toFixed(1))\r\n\r\n\t// \t// successfulInfo ```````\r\n\t// \tlet successfulOrder = document.getElementById('blockInfo')\r\n\r\n\t// \tlet successfulInfo = `Обробка даних...`\r\n\r\n\t// \tlet successfulOrder_Info = document.getElementById('blockInfo').querySelector('p.text-info')\r\n\r\n\t// \tsuccessfulOrder_Info.innerHTML = successfulInfo\r\n\t// \tsuccessfulOrder_Info.classList.add(\"font-weight-bold\")\r\n\t// \tsuccessfulOrder.classList.remove(\"d-none\")\r\n\r\n\t// \t// successfulInfo .........   \r\n\r\n\t// \tsetTimeout(async () => {\r\n\r\n\t// \t\tlet emailAccount\r\n\r\n\t// \t\t//        const responseCustomers = await axios.get('customers.json')\r\n\t// \t\t//        const customers = responseCustomers.data ? responseCustomers.data : getState().inform.customers\r\n\r\n\t// \t\t// if hasAccount````````\r\n\r\n\t// \t\tif (!hasAccount) {\r\n\r\n\t// \t\t\tlet { name, tel, email } = this.state\r\n\r\n\t// \t\t\tif (window.localStorage.getItem('idThisCustomers')) {\r\n\t// \t\t\t\tthis.props.customers.forEach(customer => {\r\n\t// \t\t\t\t\tif (customer.id === +window.localStorage.getItem('idThisCustomers')) {\r\n\t// \t\t\t\t\t\tname = customer.name\r\n\t// \t\t\t\t\t\ttel = customer.tel\r\n\t// \t\t\t\t\t\temail = customer.email\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t})\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\temailAccount = email\r\n\r\n\t// \t\t\tconst thisCustomerEmailInBase = this.props.customers.filter(customer => customer.email === emailAccount)[0]\r\n\r\n\t// \t\t\tconst isThisCustomerEmailInBase = thisCustomerEmailInBase ? true : false\r\n\r\n\t// \t\t\tif (!isThisCustomerEmailInBase) {\r\n\t// \t\t\t\tthis.props.addNewCustomer({ email, name, tel, hasAccount, auth: false })\r\n\t// \t\t\t} else {\r\n\t// \t\t\t\tconst auth = thisCustomerEmailInBase.auth\r\n\r\n\t// \t\t\t\tif (auth) {\r\n\r\n\t// \t\t\t\t\tlet errorAuthInfo = `Вибачте, під цим емейлом вже зареєстрований користувач, авторизуйтеся або введіть інший емейл!!!`\r\n\r\n\t// \t\t\t\t\tsuccessfulOrder_Info.innerHTML = errorAuthInfo\r\n\t// \t\t\t\t\tsuccessfulOrder_Info.classList.add(\"text-danger\")\r\n\r\n\t// \t\t\t\t\tthis.props.errorFunctionCart()\r\n\r\n\t// \t\t\t\t\treturn\r\n\r\n\t// \t\t\t\t} else {\r\n\t// \t\t\t\t\tthis.props.addNewCustomer({ email, name, tel, hasAccount, auth: false })\r\n\t// \t\t\t\t}\r\n\r\n\t// \t\t\t}\r\n\r\n\t// \t\t} else {\r\n\t// \t\t\temailAccount = this.props.customers.filter(customer => customer.id === this.props.customerId)[0].email\r\n\t// \t\t}\r\n\r\n\t// \t\t// if hasAccount.............\r\n\r\n\t// \t\t// status requestProducts````````````````\r\n\r\n\t// \t\t// Перевірка та очікування доступності requestProducts\r\n\r\n\r\n\t// \t\t// Отримуємо статус requestProducts з БД\r\n\t// \t\tlet statusRequestProducts = false;\r\n\t// \t\ttry {\r\n\t// \t\t\tconst requestProductsResponse = await axios.get(`requestProducts.json`);\r\n\t// \t\t\tstatusRequestProducts = requestProductsResponse.data ?? false;\r\n\t// \t\t} catch (err) {\r\n\t// \t\t\tconsole.error('Помилка отримання requestProducts:', err);\r\n\t// \t\t}\r\n\r\n\t// \t\t// Отримуємо поточні замовлення\r\n\t// \t\tlet orders = [];\r\n\t// \t\ttry {\r\n\t// \t\t\tconst responseOrders = await axios.get(`orders.json`);\r\n\t// \t\t\torders = responseOrders.data ?? [];\r\n\t// \t\t} catch (err) {\r\n\t// \t\t\tconsole.error('Помилка отримання orders:', err);\r\n\t// \t\t}\r\n\r\n\t// \t\t// Якщо хтось інший вже обробляє замовлення\r\n\t// \t\tif (statusRequestProducts) {\r\n\t// \t\t\tconsole.log('Очікуємо завершення обробки інших замовлень...');\r\n\r\n\t// \t\t\t// Очікуємо поки requestProducts стане false\t\t\t\r\n\r\n\t// \t\t\tconst waitUntilFree = async () => {\r\n\t// \t\t\t\tlet maxAttempts = 50;// обмеження по кількості спроб, щоб уникнути зависання\r\n\t// \t\t\t\tlet attempt = 0;\r\n\r\n\t// \t\t\t\twhile (attempt < maxAttempts) {\r\n\t// \t\t\t\t\tconst check = await axios.get(`requestProducts.json`);\r\n\t// \t\t\t\t\tif (!check.data) {\r\n\t// \t\t\t\t\t\treturn true; // 🔓 реально звільнилось\r\n\t// \t\t\t\t\t}\r\n\r\n\t// \t\t\t\t\tawait new Promise(res => setTimeout(res, 200)); // пауза 200ms\r\n\t// \t\t\t\t\tattempt++;\r\n\t// \t\t\t\t}\r\n\r\n\t// \t\t\t\treturn false; // ⛔ не звільнилось\r\n\t// \t\t\t};\r\n\r\n\t// \t\t\tconst isFree = await waitUntilFree();\r\n\r\n\t// \t\t\tif (!isFree) {\r\n\t// \t\t\t\talert('Система зайнята, спробуйте пізніше');\r\n\t// \t\t\t\tthis.setState({ disabledBtnSend: false }); // 🔓 розблоковуємо кнопку\r\n\t// \t\t\t\tlet successfulInfo = `Спробуйте ще раз`;\r\n\t// \t\t\t\tsuccessfulOrder_Info.innerHTML = successfulInfo;\r\n\t// \t\t\t\treturn;\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\t// Повторно отримуємо замовлення після того, як інші завершили\r\n\t// \t\t\ttry {\r\n\t// \t\t\t\tconst responseOrders = await axios.get(`orders.json`);\r\n\t// \t\t\t\torders = responseOrders.data ?? [];\r\n\t// \t\t\t} catch (err) {\r\n\t// \t\t\t\tconsole.error('Помилка отримання orders після очікування:', err);\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\tconsole.log('Інші замовлення завершено, продовжуємо обробку власного замовлення.');\r\n\t// \t\t}\r\n\r\n\t// \t\tconst db = firebase.database()\r\n\r\n\t// \t\t// Тепер можна безпечно встановити requestProducts = true і обробляти власне замовлення\r\n\t// \t\t// 🔒 Блокуємо одразу\r\n\t// \t\ttry {\r\n\t// \t\t\tawait db.ref('requestProducts').set(true)\r\n\t// \t\t\tconsole.log('🔒 LOCK')\r\n\t// \t\t} catch (e) {\r\n\t// \t\t\tconsole.error('❌ Не вдалося поставити LOCK', e)\r\n\t// \t\t\treturn   // ⛔ ВАЖЛИВО: не продовжуємо оформлення\r\n\t// \t\t}\r\n\r\n\t// \t\ttry {\r\n\r\n\t// \t\t\t// const responseProducts2 = await axios.get(`products.json`)\r\n\t// \t\t\t// const productsData2 = responseProducts2.data\r\n\t// \t\t\t// console.log('products_requestProducts_false', productsData2)\r\n\r\n\r\n\r\n\t// \t\t\tconsole.log('sending_your_order...')\r\n\r\n\r\n\r\n\r\n\t// \t\t\t// get orders.json``````````````         \r\n\r\n\r\n\t// \t\t\tlet { ordersThis } = this.getThisOrder(orders, idThisCustomers)\r\n\r\n\t// \t\t\tconst arrThisCart = ordersThis.cart\r\n\r\n\r\n\t// \t\t\t// get orders.json..............\r\n\r\n\t// \t\t\t// get products.json``````````````   \r\n\r\n\t// \t\t\tconst responseProducts = await axios.get(`products.json`)\r\n\t// \t\t\tconst productsData = responseProducts.data\r\n\r\n\t// \t\t\tlet counterIdInArrThisCart = 0\r\n\t// \t\t\tlet isQuantProdInDB = true\r\n\t// \t\t\tlet arrIdsIsntQuantProdInDB = []\r\n\r\n\t// \t\t\tfor (let i = 0; i < productsData.length; i++) {\r\n\r\n\t// \t\t\t\tif (counterIdInArrThisCart >= arrThisCart.length) {\r\n\t// \t\t\t\t\tconsole.log('The cycle ended with an iteration:', i)\r\n\t// \t\t\t\t\tbreak;\r\n\t// \t\t\t\t}\r\n\r\n\t// \t\t\t\tarrThisCart.forEach(cart => {\r\n\r\n\t// \t\t\t\t\tif (productsData[i].id === cart.id) {\r\n\r\n\t// \t\t\t\t\t\tlet productQuantityInDataBase = productsData[i].quantity\r\n\t// \t\t\t\t\t\tlet productPopularityInDataBase = productsData[i].popularity\r\n\r\n\t// \t\t\t\t\t\tlet productQuantityNow = +(productQuantityInDataBase - cart.quantity).toFixed(1)\r\n\t// \t\t\t\t\t\tlet productPopularityNow = productPopularityInDataBase + 1\r\n\r\n\t// \t\t\t\t\t\tif (productQuantityNow < 0) {\r\n\t// \t\t\t\t\t\t\tisQuantProdInDB = false\r\n\t// \t\t\t\t\t\t\tarrIdsIsntQuantProdInDB.push(productsData[i])\r\n\r\n\t// \t\t\t\t\t\t\tconsole.log('Quantity of some product is not available!!!')\r\n\t// \t\t\t\t\t\t} else {\r\n\t// \t\t\t\t\t\t\tproductsData[i].quantity = productQuantityNow\r\n\t// \t\t\t\t\t\t\tproductsData[i].popularity = productPopularityNow\r\n\t// \t\t\t\t\t\t\tconsole.log('products_requestProducts_true_with_your_edit', productsData)\r\n\t// \t\t\t\t\t\t}\r\n\r\n\t// \t\t\t\t\t\tcounterIdInArrThisCart++\r\n\t// \t\t\t\t\t}\r\n\r\n\t// \t\t\t\t})\r\n\t// \t\t\t}\r\n\r\n\r\n\t// \t\t\t// get products.json..............\r\n\r\n\t// \t\t\tif (isQuantProdInDB) {\r\n\r\n\r\n\t// \t\t\t\tthis.props.setQuantityAll(productsData)\r\n\r\n\t// \t\t\t\tthis.props.addProductWithCartToOrdersHistory({ customerId: this.props.customerId, email: emailAccount })\r\n\r\n\t// \t\t\t\t//                setTimeout(() => {\r\n\t// \t\t\t\t//                    try {                       \r\n\t// \t\t\t\t//\r\n\t// \t\t\t\t//                    db.ref(`requestProducts`).set(false)\r\n\t// \t\t\t\t//                        \r\n\t// \t\t\t\t//                    console.log('sended_your_order...')\r\n\t// \t\t\t\t//                    console.log('setTimeout_requestProducts_false')\r\n\t// \t\t\t\t//\r\n\t// \t\t\t\t//                    } catch (e) {\r\n\t// \t\t\t\t//                        console.log(e)\r\n\t// \t\t\t\t//                    } \r\n\t// \t\t\t\t//                }, 2000);\r\n\r\n\t// \t\t\t\tconst formControls = Object.assign({ ...this.state.formControls })\r\n\r\n\t// \t\t\t\tObject.keys(formControls).forEach(name => {\r\n\t// \t\t\t\t\tformControls[name].value = ''\r\n\t// \t\t\t\t\tformControls[name].valid = false\r\n\t// \t\t\t\t\tformControls[name].touched = false\r\n\t// \t\t\t\t})\r\n\r\n\t// \t\t\t\tthis.setState({\r\n\t// \t\t\t\t\tformControls, email: \"\"\r\n\t// \t\t\t\t})\r\n\r\n\t// \t\t\t\tlet successfulInfo = `Замовлення відправлене, ми з Вами зв\\'яжемося найближчим часом! Щоб відслідковувати свої замовлення перейдіть у \"Ваші оформлені замовлення!\" ↓`\r\n\r\n\t// \t\t\t\tlet successfulOrder = document.getElementById('blockInfo')\r\n\r\n\r\n\t// \t\t\t\tlet errorInfo = document.getElementById('blockInfo').querySelector('.errorInfo')\r\n\t// \t\t\t\tlet successInfo = document.getElementById('blockInfo').querySelector('.successInfo')\r\n\r\n\t// \t\t\t\tsuccessfulOrder_Info.classList.remove(\"font-weight-bold\")\r\n\t// \t\t\t\tsuccessfulOrder_Info.classList.remove(\"text-danger\")\r\n\t// \t\t\t\tsuccessfulOrder_Info.innerHTML = successfulInfo\r\n\r\n\t// \t\t\t\tthis.setState({\r\n\t// \t\t\t\t\tsuccessfulOrder: true\r\n\t// \t\t\t\t})\r\n\r\n\t// \t\t\t\tsuccessfulOrder.classList.remove(\"d-none\")\r\n\t// \t\t\t\terrorInfo.classList.add(\"d-none\")\r\n\t// \t\t\t\tsuccessInfo.classList.remove(\"d-none\")\r\n\r\n\t// \t\t\t\t//            alert('Замовлення відправлене, ми з Вами зв\\'яжемося найближчим часом!')\r\n\r\n\t// \t\t\t\t//                    setTimeout(() => {                \r\n\t// \t\t\t\t//                        this.handleClose()\r\n\t// \t\t\t\t//                    }, 10000)     \r\n\r\n\t// \t\t\t\tthis.setState({\r\n\t// \t\t\t\t\tisOrdersThisCart: false\r\n\t// \t\t\t\t})\r\n\r\n\t// \t\t\t\t// try {\r\n\t// \t\t\t\t// \tawait db.ref(`requestProducts`).set(false)  // <--- скидаємо після успішного замовлення\r\n\t// \t\t\t\t// \tconsole.log('requestProducts скинуто після успішного замовлення')\r\n\t// \t\t\t\t// } catch (e) {\r\n\t// \t\t\t\t// \tconsole.log(e)\r\n\t// \t\t\t\t// }\r\n\r\n\t// \t\t\t} else {\r\n\r\n\t// \t\t\t\t// try {\r\n\r\n\t// \t\t\t\t// \tdb.ref(`requestProducts`).set(false)\r\n\r\n\t// \t\t\t\t// \tconsole.log('don\\'t sended_your_order...')\r\n\t// \t\t\t\t// \tconsole.log('requestProducts_false')\r\n\r\n\t// \t\t\t\t// } catch (e) {\r\n\t// \t\t\t\t// \tconsole.log(e)\r\n\t// \t\t\t\t// }\r\n\r\n\t// \t\t\t\tlet isQuantity = ``\r\n\t// \t\t\t\tlet nameProducts = ``\r\n\r\n\t// \t\t\t\tarrIdsIsntQuantProdInDB.forEach(product => {\r\n\r\n\t// \t\t\t\t\tlet str = `${product.name}: ${product.quantity} ${product.units} / `\r\n\t// \t\t\t\t\tlet name = `${product.name}, `\r\n\r\n\t// \t\t\t\t\tthis.setState({\r\n\t// \t\t\t\t\t\t[`product_${product.id}`]: product.quantity\r\n\t// \t\t\t\t\t})\r\n\r\n\t// \t\t\t\t\tisQuantity += str\r\n\t// \t\t\t\t\tnameProducts += name\r\n\t// \t\t\t\t})\r\n\r\n\t// \t\t\t\tlet errorQuantProdInDB = document.getElementById('blockInfo')\r\n\r\n\t// \t\t\t\tlet errorQuantProdInDB_Info = document.getElementById('blockInfo').querySelector('p')\r\n\t// \t\t\t\tlet errorInfo = document.getElementById('blockInfo').querySelector('.errorInfo')\r\n\t// \t\t\t\tlet errorInfonNameProducts = document.getElementById('blockInfo').querySelector('.nameProducts')\r\n\r\n\t// \t\t\t\terrorInfonNameProducts.innerHTML = nameProducts\r\n\t// \t\t\t\terrorQuantProdInDB_Info.innerHTML = isQuantity\r\n\r\n\t// \t\t\t\terrorQuantProdInDB.classList.remove(\"d-none\")\r\n\t// \t\t\t\terrorInfo.classList.remove(\"d-none\")\r\n\r\n\t// \t\t\t\t//            alert('Вибачте, такої кількості товару немає в наявності!')\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\t// status requestProducts................\r\n\t// \t\t\tawait new Promise(resolve => setTimeout(resolve, 3000));\r\n\r\n\r\n\t// \t\t} catch (e) {\r\n\r\n\t// \t\t\tconsole.log('Помилка замовлення:', e);\r\n\r\n\t// \t\t} finally {\r\n\r\n\t// \t\t\t// 🔓 Завжди розблоковуємо\r\n\t// \t\t\ttry {\r\n\t// \t\t\t\tawait db.ref('requestProducts').set(false)\r\n\t// \t\t\t\tconsole.log('🔓 UNLOCK')\r\n\t// \t\t\t} catch (e) {\r\n\t// \t\t\t\tconsole.error('❗ LOCK НЕ ЗНЯТО', e)\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\tthis.setState({ disabledBtnSend: false });\r\n\t// \t\t}\r\n\r\n\t// \t}, randomTime)\r\n\r\n\t// }\r\n\r\n\tsendOrders(obj) {\r\n\r\n\t\tthis.setState({\r\n\t\t\tdisabledBtnSend: true\r\n\t\t})\r\n\r\n\t\tconst { hasAccount, event, idThisCustomers } = obj\r\n\r\n\t\tevent.preventDefault()\r\n\r\n\t\tlet randomTime = Math.random() * 1000\r\n\r\n\t\tconsole.log('randomTime', +(randomTime / 1000).toFixed(1))\r\n\r\n\t\t// successfulInfo ```````\r\n\t\tlet successfulOrder = document.getElementById('blockInfo')\r\n\r\n\t\tlet successfulInfo = `Обробка даних...`\r\n\r\n\t\tlet successfulOrder_Info = document.getElementById('blockInfo').querySelector('p.text-info')\r\n\r\n\t\tsuccessfulOrder_Info.innerHTML = successfulInfo\r\n\t\tsuccessfulOrder_Info.classList.add(\"font-weight-bold\")\r\n\t\tsuccessfulOrder.classList.remove(\"d-none\")\r\n\r\n\t\t// successfulInfo .........   \r\n\r\n\t\tsetTimeout(async () => {\r\n\r\n\t\t\tlet emailAccount\r\n\r\n\t\t\tif (!hasAccount) {\r\n\r\n\t\t\t\tlet { name, tel, email } = this.state\r\n\r\n\t\t\t\tif (window.localStorage.getItem('idThisCustomers')) {\r\n\t\t\t\t\tthis.props.customers.forEach(customer => {\r\n\t\t\t\t\t\tif (customer.id === +window.localStorage.getItem('idThisCustomers')) {\r\n\t\t\t\t\t\t\tname = customer.name\r\n\t\t\t\t\t\t\ttel = customer.tel\r\n\t\t\t\t\t\t\temail = customer.email\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\temailAccount = email\r\n\r\n\t\t\t\tconst thisCustomerEmailInBase = this.props.customers.filter(customer => customer.email === emailAccount)[0]\r\n\r\n\t\t\t\tconst isThisCustomerEmailInBase = thisCustomerEmailInBase ? true : false\r\n\r\n\t\t\t\tif (!isThisCustomerEmailInBase) {\r\n\t\t\t\t\tthis.props.addNewCustomer({ email, name, tel, hasAccount, auth: false })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst auth = thisCustomerEmailInBase.auth\r\n\r\n\t\t\t\t\tif (auth) {\r\n\r\n\t\t\t\t\t\tlet errorAuthInfo = `Вибачте, під цим емейлом вже зареєстрований користувач, авторизуйтеся або введіть інший емейл!!!`\r\n\r\n\t\t\t\t\t\tsuccessfulOrder_Info.innerHTML = errorAuthInfo\r\n\t\t\t\t\t\tsuccessfulOrder_Info.classList.add(\"text-danger\")\r\n\r\n\t\t\t\t\t\tthis.props.errorFunctionCart()\r\n\r\n\t\t\t\t\t\treturn\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.props.addNewCustomer({ email, name, tel, hasAccount, auth: false })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\temailAccount = this.props.customers.filter(customer => customer.id === this.props.customerId)[0].email\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tconsole.log('sending_your_order...')\r\n\r\n\t\t\t\t// отримуємо поточні замовлення\r\n\t\t\t\tlet orders = []\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst responseOrders = await axios.get(`orders.json`)\r\n\t\t\t\t\torders = responseOrders.data ?? []\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('Помилка отримання orders:', err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet { ordersThis } = this.getThisOrder(orders, idThisCustomers)\r\n\t\t\t\tconst arrThisCart = ordersThis.cart\r\n\r\n\t\t\t\t// Додаємо замовлення до історії (без змін у products)\r\n\t\t\t\tthis.props.addProductWithCartToOrdersHistory({ customerId: this.props.customerId, email: emailAccount })\r\n\r\n\t\t\t\t// очищення кошика\r\n\t\t\t\tconst formControls = Object.assign({ ...this.state.formControls })\r\n\r\n\t\t\t\tObject.keys(formControls).forEach(name => {\r\n\t\t\t\t\tformControls[name].value = ''\r\n\t\t\t\t\tformControls[name].valid = false\r\n\t\t\t\t\tformControls[name].touched = false\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tformControls, email: \"\"\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet successfulInfo = `Замовлення відправлене, ми з Вами зв\\'яжемося найближчим часом! Щоб відслідковувати свої замовлення перейдіть у \"Ваші оформлені замовлення!\" ↓`\r\n\r\n\t\t\t\tlet successfulOrder = document.getElementById('blockInfo')\r\n\r\n\t\t\t\tlet errorInfo = document.getElementById('blockInfo').querySelector('.errorInfo')\r\n\t\t\t\tlet successInfo = document.getElementById('blockInfo').querySelector('.successInfo')\r\n\r\n\t\t\t\tsuccessfulOrder_Info.classList.remove(\"font-weight-bold\")\r\n\t\t\t\tsuccessfulOrder_Info.classList.remove(\"text-danger\")\r\n\t\t\t\tsuccessfulOrder_Info.innerHTML = successfulInfo\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsuccessfulOrder: true\r\n\t\t\t\t})\r\n\r\n\t\t\t\tsuccessfulOrder.classList.remove(\"d-none\")\r\n\t\t\t\terrorInfo.classList.add(\"d-none\")\r\n\t\t\t\tsuccessInfo.classList.remove(\"d-none\")\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisOrdersThisCart: false\r\n\t\t\t\t})\r\n\r\n\t\t\t} catch (e) {\r\n\r\n\t\t\t\tconsole.log('Помилка замовлення:', e);\r\n\r\n\t\t\t} finally {\r\n\r\n\t\t\t\t// 🔓 завжди розблоковуємо кнопку\r\n\t\t\t\tthis.setState({ disabledBtnSend: false });\r\n\r\n\t\t\t}\r\n\r\n\t\t}, randomTime)\r\n\r\n\t}\r\n\r\n\r\n\r\n\tsubmitHandler = event => {\r\n\t\tevent.preventDefault()\r\n\t}\r\n\r\n\tvalidateControl(value, validation) {\r\n\t\tif (!validation) {\r\n\t\t\treturn true\r\n\t\t}\r\n\r\n\t\tlet isValid = true\r\n\r\n\t\tif (validation.required) {\r\n\t\t\tisValid = value.trim() !== '' && isValid\r\n\t\t}\r\n\r\n\t\tif (validation.email) {\r\n\t\t\tisValid = is.email(value) && isValid\r\n\t\t}\r\n\r\n\t\tif (validation.minLength) {\r\n\t\t\tisValid = value.length >= validation.minLength && isValid\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n\r\n\r\n\tonChangeHandler = (event, controlName) => {\r\n\r\n\t\tconst formControls = { ...this.state.formControls }\r\n\t\tconst control = { ...formControls[controlName] }\r\n\r\n\t\tcontrol.value = event.target.value\r\n\t\tcontrol.touched = true\r\n\t\tcontrol.valid = this.validateControl(control.value, control.validation)\r\n\r\n\t\tformControls[controlName] = control\r\n\r\n\t\tlet isFormValid = true\r\n\r\n\t\tObject.keys(formControls).forEach(name => {\r\n\t\t\tisFormValid = formControls[name].valid && isFormValid\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tformControls, isFormValid, [event.target.id]: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\trenderInputs() {\r\n\t\treturn Object.keys(this.state.formControls).map((controlName, index) => {\r\n\t\t\tconst control = this.state.formControls[controlName]\r\n\t\t\treturn (\r\n\t\t\t\t<Input\r\n\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\tid={control.id}\r\n\t\t\t\t\thtmlFor={control.htmlFor}\r\n\t\t\t\t\tkey={controlName + index}\r\n\t\t\t\t\ttype={control.type}\r\n\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\tname={control.name}\r\n\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\tonChange={event => this.onChangeHandler(event, controlName)}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\tgetThisOrder(orders, customerId) {\r\n\t\tlet indexOrders\r\n\t\tlet indexOrdersNext\r\n\t\tlet ordersThis\r\n\r\n\t\tconst order = orders.filter((order, index) => {\r\n\r\n\t\t\tif (order.customerId === customerId) {\r\n\t\t\t\tindexOrders = index\r\n\t\t\t\tordersThis = order\r\n\t\t\t}\r\n\r\n\t\t\treturn order.customerId === customerId\r\n\r\n\t\t})\r\n\r\n\t\tif (!order[0]) {\r\n\t\t\tindexOrders = null\r\n\t\t\tordersThis = null\r\n\t\t}\r\n\r\n\t\tindexOrdersNext = orders.length\r\n\r\n\t\treturn { indexOrders: ordersThis ? indexOrders : indexOrdersNext, ordersThis: ordersThis ? { ...ordersThis } : null }\r\n\t}\r\n\r\n\t//    onClickQuality(obj) {\r\n\t//        let {value: quantity, id, maxQuantity, quantityInCart} = obj\r\n\t//\r\n\t//        let elem = document.querySelector(`p[id = warning_cart_${id}]`)\r\n\t//        let thisProductInBase = +document.querySelector(`span[id = quantity_product_${id}_in_cart]`).textContent\r\n\t//console.log('quantity', quantity)\r\n\t//console.log('maxQuantity', maxQuantity)\r\n\t//console.log('quantityInCart', quantityInCart)\r\n\t//console.log('thisProductInBase', thisProductInBase)\r\n\t//                \r\n\t//        \r\n\t//        let nowThisProductInBase = +(thisProductInBase - (+(quantity - quantityInCart).toFixed(1))).toFixed(1)\r\n\t//console.log('nowThisProductInBase', nowThisProductInBase)\r\n\t//        document.querySelector(`span[id = quantity_product_${id}_in_cart]`).innerHTML = nowThisProductInBase\r\n\t//        \r\n\t//        if(quantity === maxQuantity) {\r\n\t//            elem.classList.add(\"shadow\")\r\n\t//        } else {\r\n\t//            elem.classList.remove(\"shadow\")\r\n\t//        }       \r\n\t//\r\n\t//    }\r\n\r\n\ttotalPriceCart() {\r\n\r\n\t\tlet priceAllProduct = [...document.querySelectorAll(`span[name = product_price_cart]`)]\r\n\r\n\t\tconst totalPrice = +(priceAllProduct.map(product => +product.innerText).reduce((sum, elem) => sum + elem, 0)).toFixed(1)\r\n\r\n\t\tdocument.querySelector('#totalPrice').innerHTML = totalPrice\r\n\t}\r\n\r\n\r\n\tonBlurQuantity(obj) {\r\n\r\n\t\tlet { value: quantity, price, id, stepunits, quantityInBase, quantityInCart } = obj\r\n\t\tlet { quantityAdd, orders, customerId } = obj\r\n\r\n\t\tlet elem = document.querySelector(`p[id = warning_cart_${id}]`)\r\n\r\n\t\t//        let nowThisProductInBase = +(quantityInBase - (+(quantity - quantityInCart).toFixed(1))).toFixed(1)\r\n\t\t//console.log('nowThisProductInBase', nowThisProductInBase)\r\n\t\t//        document.querySelector(`span[id = quantity_product_${id}_in_cart]`).innerHTML = nowThisProductInBase\r\n\r\n\t\tlet maxQuantity = quantityInBase\r\n\r\n\t\tif (quantity >= maxQuantity) {\r\n\t\t\telem.classList.add(\"shadow\")\r\n\t\t} else {\r\n\t\t\telem.classList.remove(\"shadow\")\r\n\t\t}\r\n\r\n\t\tif (quantity < stepunits) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet thisPrice = +(+price * +quantity).toFixed(1)\r\n\t\tdocument.querySelector(`p[id = product_price_${id}_cart]`).querySelector('span').innerHTML = thisPrice\r\n\r\n\t\tthis.totalPriceCart()\r\n\r\n\t\t//\r\n\r\n\t\tthis.onChangeQuantity({ quantity, quantityAdd, id, orders, customerId })\r\n\r\n\t}\r\n\r\n\tonChangeQuantity(obj) {\r\n\t\tlet { quantity, quantityAdd, id, orders, customerId } = obj\r\n\r\n\t\tlet { indexOrders, ordersThis } = this.getThisOrder(orders, customerId)\r\n\r\n\r\n\t\tconst cart = ordersThis.cart\r\n\r\n\t\tcart.forEach(product => {\r\n\t\t\tif (product.id === id) {\r\n\t\t\t\tproduct.quantity = quantity\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t//        orders[indexOrders] = ordersThis\r\n\r\n\t\tconst db = firebase.database()\r\n\t\tdb.ref(`orders/${indexOrders}`).update(ordersThis)\r\n\r\n\t\t//        this.totalPriceCart()\r\n\r\n\r\n\r\n\t\t//    return dispatch => { \r\n\t\t//        dispatch(updateOrders(orders)) \r\n\t\t//    }\r\n\r\n\t}\r\n\r\n\r\n\r\n\t//    async productQuantityInCar(id) {\r\n\t//        \r\n\t//        let productQuantityInCar\r\n\t//        \r\n\t//        const responseOrders = await axios.get(`orders.json`)\r\n\t//        const ordersData = responseOrders.data         \r\n\t//        ordersData.forEach(order => {\r\n\t//            let cart = order.cart\r\n\t//            cart.forEach(cartItem => {\r\n\t//                if(cartItem.id === id) {\r\n\t//                    productQuantityInCar = cartItem.quantity\r\n\t//                }\r\n\t//            })\r\n\t//        })   \r\n\t//        \r\n\t//        return productQuantityInCar\r\n\t//    }\r\n\r\n\tonClickArrow(obj) {\r\n\r\n\t\tlet { clickevent, id } = obj\r\n\r\n\t\tlet divInputNumber =\r\n\t\t\tdocument.querySelector(`.divInputNumber_${id}`),\r\n\t\t\tnumberPlus = divInputNumber.querySelector('.arrow_plus'),\r\n\t\t\tnumberMinus = divInputNumber.querySelector('.arrow_minus'),\r\n\t\t\tnumberInput = divInputNumber.querySelector('[type=\"number\"]'),\r\n\t\t\tmin = +numberInput.getAttribute('min'),\r\n\t\t\tmax = +numberInput.getAttribute('max'),\r\n\t\t\tstep = +numberInput.getAttribute('step') || 1\r\n\r\n\t\tlet valueInput = +numberInput.value\r\n\r\n\t\tnumberInput.focus()\r\n\r\n\t\tif (clickevent === \"plus\") {\r\n\r\n\t\t\tif (!(max < valueInput + step)) {\r\n\t\t\t\t//                numberInput.value = (valueInput * 10 + step * 10) / 10\r\n\t\t\t\tnumberInput.value = +(valueInput + step).toFixed(1)\r\n\r\n\t\t\t} else {\r\n\t\t\t\tnumberInput.value = max\r\n\t\t\t}\r\n\r\n\t\t} else if (clickevent === \"minus\") {\r\n\r\n\t\t\tif (!(min > valueInput - step)) {\r\n\t\t\t\t//                numberInput.value = (valueInput * 10 - step * 10) / 10\r\n\t\t\t\tnumberInput.value = +(valueInput - step).toFixed(1)\r\n\t\t\t} else {\r\n\t\t\t\tnumberInput.value = min\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tnumberInput.blur()\r\n\r\n\t}\r\n\r\n\tupdateIsOrdersThisCart = () => {\r\n\r\n\t\tthis.handleShow()\r\n\r\n\t\tconst orders = this.props.orders\r\n\t\tconst customerId = this.props.customerId\r\n\r\n\t\tlet { ordersThis } = this.getThisOrder(orders, customerId)\r\n\r\n\t\tlet isOrdersThisCart = false\r\n\r\n\t\tif (ordersThis) {\r\n\t\t\tlet ordersThisCart = Object.keys(ordersThis).filter(order => order === 'cart')[0] ? true : false\r\n\t\t\tif (ordersThisCart) {\r\n\t\t\t\tisOrdersThisCart = ordersThis.cart[0] ? true : false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tisOrdersThisCart\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tonDelete(obj) {\r\n\r\n\t\tconst { id, customerId } = obj\r\n\r\n\t\tlet ordersInCar = [...document.querySelectorAll(`.order_product_in_cart`)]\r\n\r\n\t\tif (ordersInCar.length === 1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisOrdersThisCart: false\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.props.onDelete({ id, customerId })\r\n\r\n\t}\r\n\r\n\r\n\trenderOrders() {\r\n\r\n\t\tconst orders = this.props.orders\r\n\t\tconst products = this.props.products\r\n\t\tconst customerId = this.props.customerId\r\n\r\n\t\tlet { ordersThis } = this.getThisOrder(orders, customerId)\r\n\t\t//\r\n\t\t//        let isOrdersThisCart = false\r\n\t\t//\r\n\t\t//        if (ordersThis){\r\n\t\t//            let ordersThisCart = Object.keys(ordersThis).filter(order => order === 'cart')[0] ? true : false\r\n\t\t//            if(ordersThisCart) {\r\n\t\t//                isOrdersThisCart = ordersThis.cart[0] ? true : false            \r\n\t\t//            }\r\n\t\t//        }\r\n\t\t//        \r\n\t\t////        this.props.updateIsOrdersThisCart(isOrdersThisCart)\r\n\t\t//        console.log('renderOrders_isOrdersThisCart', isOrdersThisCart)\r\n\r\n\t\tif (this.state.isOrdersThisCart) {\r\n\t\t\tconst thisCart = ordersThis.cart\r\n\r\n\t\t\tif (thisCart) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthisCart.map(product => {\r\n\t\t\t\t\t\tconst { id } = product\r\n\t\t\t\t\t\tconst thisProduct = products.filter(product => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tproduct.id === id\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\tconst thisOrder = orders.filter(order => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\torder.customerId === customerId\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\tconst thisCart = thisOrder.cart.filter(cart => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tcart.id === id\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\tconst productQuantityInCar = thisCart.quantity\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={thisProduct.id}\r\n\t\t\t\t\t\t\t\tclassName={`row w-100 mx-0 py-3 justify-content-between border-top border-bottom product_cart order_product_in_cart`}\r\n\t\t\t\t\t\t\t\tid={`product_cart_${thisProduct.id}`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<NavLink to={'/product/' + thisProduct.id} className=\"col-11 col-md-6 d-flex align-items-center order-1 mb-3 mb-md-0 px-0\" onClick={this.handleClose}>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`mb-3 ${classes.productFoto}`} style={{ backgroundImage: `url(${thisProduct.image})`, backgroundSize: 'cover' }}>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ml-1 ml-sm-3 font-weight text-dark\">\r\n\t\t\t\t\t\t\t\t\t\t{thisProduct.name}\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t{thisProduct.promotion ?\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={`text-uppercase text-danger  ${classes.spanPromotion}`}>Акція {thisProduct.promotion}%</span>\r\n\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t<div className=\"col-12 col-md-5 d-flex justify-content-between align-items-center order-3 order-md-2 pl-0  pr-1 pr-sm-3\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`divInputNumber divInputNumber_${thisProduct.id} mx-right position-relation`}>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"arrow arrow_minus d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'minus', id: thisProduct.id })} ><i className=\"fa fa-minus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Input type=\"number\" labelDisplay=\"d-none\" min={thisProduct.stepunits} step={thisProduct.stepunits} max={`${thisProduct.quantity}`} className={`inputNumber ${classes.input_in_cart} text-center`} name={`quantity_product_${thisProduct.id}`} data_price={`${thisProduct.price}`} defaultValue={product.quantity} onBlur={event => this.onBlurQuantity({ value: +event.target.value, price: this.props.priceIncludedPromotion(thisProduct.price, thisProduct.promotion), id: thisProduct.id, quantityInBase: thisProduct.quantity, quantityInCart: product.quantity, stepunits: thisProduct.stepunits, quantityAdd: productQuantityInCar - (+event.target.value), orders, customerId })} />\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"arrow arrow_plus  d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'plus', id: thisProduct.id })} ><i className=\"fa fa-plus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0\" id={`product_price_${thisProduct.id}_cart`}><span name=\"product_price_cart\">{+(this.props.priceIncludedPromotion(thisProduct.price, thisProduct.promotion) * product.quantity).toFixed(1)}</span> грн</p>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 col-md-1 d-flex justify-content-center align-items-center order-2 order-md-3 px-0\">\r\n\t\t\t\t\t\t\t\t\t<i className={`fa fa-trash ${classes.deleteIcon}`} aria-hidden=\"true\" onClick={event => this.onDelete({ id: thisProduct.id, customerId })}></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col order-4 px-0\">\r\n\r\n\t\t\t\t\t\t\t\t\t{this.props.authAdmin\r\n\t\t\t\t\t\t\t\t\t\t? <p className=\"mb-0 text-danger mt-3 rounded p-2\" id={`warning_cart_${thisProduct.id}`} >Доступно в магазині: <span className=\"text-primary\" id={`quantity_product_${thisProduct.id}_in_cart`}>{this.state[`product_${thisProduct.id}`] ? this.state[`product_${thisProduct.id}`] : thisProduct.quantity}</span> <span className={'text-primary'} >{thisProduct.units}</span></p>\r\n\t\t\t\t\t\t\t\t\t\t: product.quantity\r\n\t\t\t\t\t\t\t\t\t\t\t? <p className=\"mb-0 text-success mt-1 mt-sm-3 rounded p-2\" id={`warning_cart_${thisProduct.id}`} >Товар є в наявності</p>\r\n\t\t\t\t\t\t\t\t\t\t\t: <p className=\"mb-0 text-danger mt-1 mt-sm-3 rounded p-2\" id={`warning_cart_${thisProduct.id}`} >Товару немає в наявності</p>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this.state.successfulOrder ? null : <h6 className=\"my-5 text-danger\" id=\"nullProduct\">До кошика не обрано товарів !!!</h6>\r\n\t\t}\r\n\r\n\t}\r\n\r\n\trenderModalCart() {\r\n\r\n\t\tconst orders = [...this.props.orders]\r\n\t\tlet idThisCustomers = this.props.customerId\r\n\r\n\t\tlet { ordersThis } = this.getThisOrder(orders, idThisCustomers)\r\n\r\n\t\t//        let statusButtonDisabled = (this.props.hasAccount ? false : !this.state.isFormValid) || !this.state.isOrdersThisCart\r\n\r\n\t\t//        let valid = this.props.customerName === 'Шановний клієнт' ? false : true\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\tdisabled={this.props.customerId === null ? true : false}\r\n\t\t\t\t\tonClick={this.updateIsOrdersThisCart}\r\n\t\t\t\t\tclassName={`mr-3 position-relative ${classes.btnCart}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t<i className=\"fa fa-shopping-basket\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t{(ordersThis ? ordersThis.cart.length : null)}\r\n\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t{this.calculationTotalPriceForCart()\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<div className={`h-100 position-absolute totalPriceInCart d-inline-flex align-items-center`} style={this.calculationTotalPriceForCart() > 100 ? this.calculationTotalPriceForCart() > 1000 ? { left: '-52px' } : { left: '-52px' } : { left: '-47px' }} >\r\n\t\t\t\t\t\t\t<p className={`mb-0`}>\r\n\t\t\t\t\t\t\t\t{this.calculationTotalPriceForCart()} грн\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"py-1 align-items-center\">\r\n\t\t\t\t\t\t<Modal.Title>Кошик</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={`py-0 ${classes.modalBodyCart}`} >\r\n\t\t\t\t\t\t<div className={`h-100 overflow-auto webkit_scrollbar_width webkit_scrollbar_style scrollToBottom scrollToTop scrollToErrorCart infoAboutCustomer`} onScroll={this.props.onScrollCart} >\r\n\t\t\t\t\t\t\t{!this.state.successfulOrder ?\r\n\t\t\t\t\t\t\t\t<p className=\"mb-0 text-success\" data-idthiscustomers={idThisCustomers}>\r\n\t\t\t\t\t\t\t\t\t{`Доброго дня, ${this.props.customerName ? this.props.customerName : null} !`}\r\n\t\t\t\t\t\t\t\t\t<span className=\"d-none text-danger\">{`, your id = ${idThisCustomers}`}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t{!this.state.isOrdersThisCart\r\n\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t: <p>Ваше замовлення: </p>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t<form onSubmit={event => this.sendOrders({ hasAccount: this.props.hasAccount, event, idThisCustomers })}  >\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className={`${classes.renderOrders}`} >\r\n\t\t\t\t\t\t\t\t\t\t{this.renderOrders()}\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t<div id={'blockInfo'} className=\"d-none my-3 flex-column flex-sm-row justify-content-between align-items-center p-2 shadow text-info\">\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"errorInfo text-dark d-none\"><span className=\"text-danger\">Вибачте!!!</span> Такої кількості товару <span className=\"text-danger nameProducts\"></span> немає в наявності.  <br />На складі залишилося:</h2>\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"successInfo text-success d-none\">Вітаємо&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t{this.props.customerName ? this.props.customerName : null} !!! </h2>\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-info font-weight-bold\"></p>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t{!this.state.isFormValid && this.state.isOrdersThisCart ?\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex flex-column flex-sm-row justify-content-between align-items-center py-2\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"mr-sm-3 font-weight-bold\">Загальна сума:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-primary\" id=\"totalPrice\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.calculationTotalPriceForCart()}\r\n\t\t\t\t\t\t\t\t\t\t\t</span> <span className=\"text-primary\">грн</span>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={'goToBottomCart'}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.bottomFunctionCart}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-warning\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tОформити замовлення\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t{this.props.customerName === 'Шановний клієнт' && !this.state.isFormValid ?\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className={'pt-3 mb-1 text-danger'}>Щоб оформити замовлення введіть свої дані у формі нижче!!! <span><i className={\"fa fa-arrow-down\"} aria-hidden=\"true\"></i></span></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t\t\t{this.state.isFormValid ?\r\n\r\n\t\t\t\t\t\t\t\t\tthis.state.isOrdersThisCart ?\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex flex-column flex-sm-row justify-content-between align-items-center py-2\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"mr-sm-3 font-weight-bold\">Загальна сума:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-primary\" id=\"totalPrice\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.calculationTotalPriceForCart()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span> <span className=\"text-primary\">грн</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={(this.props.hasAccount ? false : !this.state.isFormValid) || !this.state.isOrdersThisCart || this.state.disabledBtnSend}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tОформити замовлення\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center py-2\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<NavLink to={'/your-orders'} className={`btn btn-success d-block mb-3 ${classes.btnBack}`} onClick={this.handleClose} >\r\n\t\t\t\t\t\t\t\t\t\t\t\tВаші оформлені замовлення!\r\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t: null\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t{this.state.authAndReg ?\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className={'pt-3 text-info'}>Ввійдіть до свого аккаунта або зареєструйтеся!</p>\r\n\t\t\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\t\t\tto={'/auth'}\r\n\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tselfType=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"btn_go_to_auth\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleClose}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tВхід\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t<span className={'mr-3'}></span>\r\n\t\t\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\t\t\tto={'/registr'}\r\n\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"btn_go_to_auth\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleClose}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tРеєстрація\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t{this.props.customerName === 'Шановний клієнт' ?\r\n\t\t\t\t\t\t\t\t\t<div className={classes.Registr}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<form onSubmit={this.submitHandler} className={classes.RegistrForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.renderInputs()}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t\t\tid={'goToTopCart'}\r\n\t\t\t\t\t\t\t\tonClick={this.props.topFunctionCart}\r\n\t\t\t\t\t\t\t\tclassName={`btn btn-danger ${classes.btnTop}`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex justify-content-start infoAboutCustomer\">\r\n\r\n\t\t\t\t\t\t<p className=\"text-success text-uppercase font-weight-bold\">\r\n\t\t\t\t\t\t\tМи стараємося для Вас !!!\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcalculationTotalPriceForCart() {\r\n\r\n\t\tconst orders = [...this.props.orders]\r\n\t\tconst customerId = this.props.customerId\r\n\t\tlet { ordersThis } = this.getThisOrder(orders, customerId)\r\n\r\n\t\tif (ordersThis) {\r\n\t\t\treturn (\r\n\t\t\t\tordersThis.customerId === this.props.customerId\r\n\t\t\t\t\t? ordersThis.cart\r\n\r\n\t\t\t\t\t\t? +(ordersThis.cart.map(product => {\r\n\r\n\t\t\t\t\t\t\tconst { id } = product\r\n\t\t\t\t\t\t\tconst thisProduct = this.props.products.filter(product => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\tproduct.id === id\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\t\tlet totalPrice = +(product.quantity * this.props.priceIncludedPromotion(thisProduct.price, thisProduct.promotion)).toFixed(1)\r\n\r\n\t\t\t\t\t\t\treturn totalPrice\r\n\r\n\t\t\t\t\t\t\t//                        if (thisProduct) {\r\n\t\t\t\t\t\t\t//                            let totalPrice = product.quantity*thisProduct.price\r\n\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t//                            return totalPrice\r\n\t\t\t\t\t\t\t//                        } else {\r\n\t\t\t\t\t\t\t//                            return 0\r\n\t\t\t\t\t\t\t//                        }\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t).reduce((sum, val) => sum + val, 0)).toFixed(1)\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t: null\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.Cart}>\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalCart()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\torders: state.products.orders,\r\n\t\tproducts: state.products.products,\r\n\t\tcustomers: state.inform.customers,\r\n\t\tcustomerId: state.inform.customerId,\r\n\t\tcustomerName: state.inform.customerName,\r\n\t\thasAccount: state.inform.hasAccount,\r\n\t\tauthAdmin: state.inform.authAdmin,\r\n\t\tisOrdersThisCart: state.products.isOrdersThisCart,\r\n\t\tisQuantProdInDB: state.products.isQuantProdInDB\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddNewCustomer: obj => dispatch(addNewCustomer(obj)),\r\n\t\taddProductWithCartToOrdersHistory: obj => dispatch(addProductWithCartToOrdersHistory(obj)),\r\n\t\tupdateIsOrdersThisCart: isOrdersThisCart => dispatch(updateIsOrdersThisCart(isOrdersThisCart)),\r\n\t\tonDelete: obj => dispatch(onDelete(obj)),\r\n\t\tsetQuantityAll: (quantityAdd, id) => dispatch(setQuantityAll(quantityAdd, id)),\r\n\t\tpriceIncludedPromotion: (price, promotion) => dispatch(priceIncludedPromotion(price, promotion)),\r\n\t\tonScrollCart: () => dispatch(onScrollCart()),\r\n\t\ttopFunctionCart: () => dispatch(topFunctionCart()),\r\n\t\tbottomFunctionCart: () => dispatch(bottomFunctionCart()),\r\n\t\terrorFunctionCart: () => dispatch(errorFunctionCart())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\YourOrders\\YourOrders.js",["295","296","297","298","299","300","301"],"import React, { Component } from 'react'\r\nimport classes from './YourOrders.module.css'\r\nimport { connect } from 'react-redux'\r\nimport Button from '../../components/UI/Button/Button'\r\nimport Input from '../../components/UI/Input/Input'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Loader from '../../components/UI/Loader/Loader'\r\nimport axios from '../../axios/axios-quiz'\r\nimport firebase from 'firebase'\r\nimport { updateIsOrdersHistoryThisCart, updateStatusYourOrder, onDelete, addProductToCart } from '../../redux/actions/products'\r\nimport { onScroll, topFunction } from '../../redux/actions/menu'\r\n\r\nclass YourOrders extends Component {\r\n\r\n\tstate = {\r\n\t\thasAccount: false\r\n\t}\r\n\r\n\tgetThisOrder(orders, customerId) {\r\n\t\tlet indexOrders\r\n\t\tlet indexOrdersNext\r\n\t\tlet ordersThis\r\n\r\n\t\tconst order = orders.filter((order, index) => {\r\n\r\n\t\t\tif (order.customerId === customerId) {\r\n\t\t\t\tindexOrders = index\r\n\t\t\t\tordersThis = order\r\n\t\t\t}\r\n\r\n\t\t\treturn order.customerId === customerId\r\n\r\n\t\t})\r\n\r\n\t\tif (!order[0]) {\r\n\t\t\tindexOrders = null\r\n\t\t\tordersThis = null\r\n\t\t}\r\n\r\n\t\tindexOrdersNext = orders.length\r\n\r\n\t\treturn { indexOrders: ordersThis ? indexOrders : indexOrdersNext, ordersThis: ordersThis ? { ...ordersThis } : null }\r\n\t}\r\n\r\n\tonClickQuality(obj) {\r\n\t\tlet { value: quantity, id, maxQuantity } = obj\r\n\r\n\t\tlet elem = document.querySelector(`p[id = warning_${id}]`)\r\n\r\n\t\tif (quantity >= maxQuantity) {\r\n\t\t\telem.classList.add(\"shadow\")\r\n\t\t} else {\r\n\t\t\telem.classList.remove(\"shadow\")\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttotalPriceCart(indexOrderInHistory) {\r\n\t\tlet priceAllProduct = [...document.querySelectorAll(`span[name = product_price_inHistory_${indexOrderInHistory}]`)]\r\n\r\n\t\tconst totalPrice = priceAllProduct.map(product => {\r\n\r\n\r\n\t\t\treturn +product.innerText\r\n\r\n\t\t}).reduce((sum, elem) => sum + elem, 0)\r\n\r\n\t\tdocument.querySelector(`#totalPrice_inHistory_${indexOrderInHistory}`).innerHTML = totalPrice\r\n\t}\r\n\r\n\r\n\tonChangeQuantity(obj) {\r\n\t\tlet { value: quantity, price, id, stepunits, indexOrderInHistory } = obj\r\n\r\n\t\tif (quantity < stepunits) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet thisPrice = +(+price * +quantity).toFixed(1)\r\n\t\tdocument.querySelector(`p[id = product_price_${id}_inHistory_${indexOrderInHistory}]`).querySelector('span').innerHTML = thisPrice\r\n\r\n\t}\r\n\r\n\r\n\tcalculationTotalPriceForCart(orders) {\r\n\r\n\t\tconst customerId = this.props.customerId\r\n\t\tlet { indexOrders, ordersThis } = this.getThisOrder(orders, customerId)\r\n\r\n\t\tif (ordersThis) {\r\n\t\t\treturn (\r\n\t\t\t\tordersThis.customerId === this.props.customerId\r\n\t\t\t\t\t? ordersThis.cart\r\n\r\n\t\t\t\t\t\t? ordersThis.cart.map(product => {\r\n\r\n\t\t\t\t\t\t\tconst { id } = product\r\n\t\t\t\t\t\t\tlet thisProduct = this.props.products.filter(product => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\tproduct.id === id\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\t\tif (!thisProduct) {\r\n\t\t\t\t\t\t\t\tthisProduct = this.props.productsDeleted.filter(product => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\tproduct.id === id\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})[0]\r\n\t\t\t\t\t\t\t\tconsole.log('calculationTotalPriceForCart_thisProductDeleted', thisProduct)\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlet totalPrice = +(product.quantity * product.price).toFixed(1)\r\n\r\n\t\t\t\t\t\t\treturn totalPrice\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t).reduce((sum, val) => sum + val, 0)\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t: null\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t}\r\n\r\n\taddProductToCart(obj) {\r\n\r\n\t\tconst { event, productId, price, customerId, quantityProductYourOrder, indexOrderInHistory } = obj\r\n\r\n\t\tevent.preventDefault()\r\n\r\n\t\tthis.props.addProductToCart({ productId, price, customerId, quantityProductYourOrder, indexOrderInHistory })\r\n\t\t// in Product.js this.props.addProductToCart({event, productId, customerId, price, stepunits})\r\n\t}\r\n\r\n\trenderOrders(orders, indexOrderInHistory) {\r\n\r\n\t\tconst products = this.props.products\r\n\t\tconst productsDeleted = this.props.productsDeleted\r\n\t\tconst customerId = this.props.customerId\r\n\r\n\t\tlet { indexOrders, ordersThis } = this.getThisOrder(orders, customerId)\r\n\r\n\t\tlet isOrdersThisCart\r\n\r\n\t\tif (ordersThis) {\r\n\t\t\tlet ordersThisCart = Object.keys(ordersThis).filter(order => order === 'cart')[0] ? true : false\r\n\t\t\tif (ordersThisCart) {\r\n\t\t\t\tisOrdersThisCart = ordersThis.cart[0] ? true : false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//        this.props.updateIsOrdersHistoryThisCart(isOrdersThisCart)\r\n\r\n\t\tif (isOrdersThisCart) {\r\n\t\t\tconst thisCart = ordersThis.cart\r\n\r\n\t\t\tif (thisCart) {\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthisCart.map(product => {\r\n\t\t\t\t\t\tconst { id } = product\r\n\t\t\t\t\t\tconst quantityProductYourOrder = product.quantity\r\n\r\n\t\t\t\t\t\tlet thisProduct = products.filter(product => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tproduct.id === id\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\tif (!thisProduct) {\r\n\t\t\t\t\t\t\tthisProduct = productsDeleted.filter(product => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\tproduct.id === id\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})[0]\r\n\t\t\t\t\t\t\tconsole.log('renderOrders_thisProductDeleted', thisProduct)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst thisOrder = orders.filter(order => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\torder.customerId === customerId\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\tconst thisCart = thisOrder.cart.filter(cart => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tcart.id === id\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\tconst productQuantityInCar = thisCart.quantity\r\n\r\n\t\t\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\t\tonSubmit={event => this.addProductToCart({ event, productId: thisProduct.id, customerId: this.props.customerId, price: product.price, quantityProductYourOrder, indexOrderInHistory })}\r\n\t\t\t\t\t\t\t\tkey={thisProduct.id}\r\n\t\t\t\t\t\t\t\tclassName={`row w-100 py-3 justify-content-between border-top border-bottom product_cart_history`}\r\n\t\t\t\t\t\t\t\tid={`product_cart_history_${thisProduct.id}`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<NavLink to={'/product/' + thisProduct.id} className=\"col-10 col-md-5 d-flex align-items-center order-1 mb-3 mb-md-0\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`mb-3 ${classes.productFoto}`} style={{ backgroundImage: `url(${thisProduct.image})`, backgroundSize: 'cover' }}>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ml-3 font-weight text-dark\">\r\n\t\t\t\t\t\t\t\t\t\t{thisProduct.name}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t<div className=\"col-12 col-md-6 d-flex justify-content-between align-items-center order-3 order-md-2\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`divInputNumber divInputNumberYourOrders_${thisProduct.id}_inHistory_${indexOrderInHistory} mx-right position-relation ${classes.divInputNumberYourOrders}`}>\r\n\t\t\t\t\t\t\t\t\t\t<Input type=\"number\" className=\"text-center\" labelDisplay=\"d-none\" name={`product_${thisProduct.id}_inHistory_${indexOrderInHistory}`} id={`input_product_${thisProduct.id}_inHistory_${indexOrderInHistory}`} data_price={`${product.price}`} defaultValue={product.quantity} readOnly=\"readOnly\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0\" id={`product_price_${thisProduct.id}_inHistory_${indexOrderInHistory}`}><span name={`product_price_inHistory_${indexOrderInHistory}`}>{+(product.price * product.quantity).toFixed(1)}</span> грн</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 col-md-1 d-flex justify-content-center align-items-center order-2 order-md-3\">\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tid={thisProduct.id}\r\n\r\n\t\t\t\t\t\t\t\t\t\tselfType=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!thisProduct.quantity || thisProduct.status === 'deleted'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-shopping-basket\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col order-4\">\r\n\t\t\t\t\t\t\t\t\t{this.props.authAdmin\r\n\t\t\t\t\t\t\t\t\t\t? !thisProduct.status ? <p className=\"mb-0 text-danger mt-1 mt-sm-3 rounded p-2\" id={`warning_${thisProduct.id}`} >Доступно: <span className=\"text-primary\">{`${thisProduct.quantity} ${thisProduct.units}.`}</span></p> : <p className=\"mb-0 text-danger mt-1 mt-sm-3 rounded p-2\" id={`warning_${thisProduct.id}`} >Товар відсутній</p>\r\n\t\t\t\t\t\t\t\t\t\t: thisProduct.quantity\r\n\t\t\t\t\t\t\t\t\t\t\t? <p className=\"mb-0 text-success mt-1 mt-sm-3 rounded p-2\" id={`warning_${thisProduct.id}`} >Товар є в наявності</p>\r\n\t\t\t\t\t\t\t\t\t\t\t: <p className=\"mb-0 text-danger mt-1 mt-sm-3 rounded p-2\" id={`warning_${thisProduct.id}`} >Товару немає в наявності</p>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn <h6 className=\"text-danger\">Ви ще не зробили замовлення !!!</h6>\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst { hasAccount } = this.props\r\n\t\tconst ordersHistory = this.props.ordersHistory\r\n\r\n\t\tconst thisOrdersHistory = ordersHistory.filter(order => order.customerId === this.props.customerId)[0] ? ordersHistory.filter(order => order.customerId === this.props.customerId)[0].cartsHistory : null\r\n\r\n\t\treturn (\r\n\t\t\t<div className={`wrapper ${classes.YourOrders, classes.Wrapper}`} >\r\n\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style scrollToTop ${classes.renderOrders}`} onScroll={this.props.onScroll} >\r\n\t\t\t\t\t\t<NavLink to={'/'} className={`d-block mb-2 btnBack`} >\r\n\t\t\t\t\t\t\t<i className=\"fa fa-arrow-left\" aria-hidden=\"true\"></i> Вернутись на головну\r\n\t\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thasAccount\r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<div className={\"successAuth\"}>\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0 text-success text-center\">Вітаємо {this.props.customerName} !!!</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<h3 className={\"mb-2 border-bottom text-center h1Title\"}>Ваші замовлення:</h3>\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\tthis.props.loading\r\n\r\n\t\t\t\t\t\t\t\t? <Loader />\r\n\t\t\t\t\t\t\t\t:\r\n\r\n\t\t\t\t\t\t\t\tthisOrdersHistory ? thisOrdersHistory.map((order, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div key={Math.random() + order.date} className={\"border border-success p-3 mb-3\"} >\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className={`${classes.h5}`}>Дата Вашого замовлення: &nbsp;<span className={\"text-info\"}>{order.date}</span></h5>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className={`${classes.h5}`}>Статус: &nbsp;<span className={`${order.status === \"in process...\" ? \"text-danger\" : \"text-success\"} status_order_${index}`}>{order.status}</span></h5>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={'statusUpdate'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.updateStatusYourOrder(this.props.customerId, index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`ml-3 btn btn-success btn_refresh_${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-refresh\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={Math.random() + order.date} className={\"divInfo\"} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"d-none text-info\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Тут вказані ціни товарів, які були на момент оформлення Вами цього замовлення !!! Ви можете звідси закидати потрібний Вам товар у кошик, та пам'ятайте що в кошику ціни будуть такими, які на даний час є в магазині. Дякую! Гарних покупок! </p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{this.renderOrders([order], index)}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"mr-3 font-weight-bold\">Загальна сума замовлення:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-primary\" id={`totalPrice_inHistory_${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.calculationTotalPriceForCart([order])}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span> <span className=\"text-primary\">грн</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}).reverse() : <h6 className=\"text-danger text-center\">Ви ще не зробили замовлення !!!</h6>\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t\tid={'goToTop'}\r\n\t\t\t\t\t\t\tonClick={this.props.topFunction}\r\n\t\t\t\t\t\t\tclassName={`btn btn-danger ${classes.btnTop}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\torders: state.products.orders,\r\n\t\tordersHistory: state.products.ordersHistory,\r\n\t\tproducts: state.products.products,\r\n\t\tproductsDeleted: state.products.productsDeleted,\r\n\t\tcustomers: state.inform.customers,\r\n\t\tcustomerId: state.inform.customerId,\r\n\t\tcustomerName: state.inform.customerName,\r\n\t\thasAccount: state.inform.hasAccount,\r\n\t\tauthAdmin: state.inform.authAdmin,\r\n\t\tloading: state.products.loading,\r\n\t\tisOrdersThisCart: state.products.isOrdersThisCart\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tupdateIsOrdersHistoryThisCart: isOrdersThisCart => dispatch(updateIsOrdersHistoryThisCart(isOrdersThisCart)),\r\n\t\tupdateStatusYourOrder: (customerId, index) => dispatch(updateStatusYourOrder(customerId, index)),\r\n\t\tonScroll: () => dispatch(onScroll()),\r\n\t\ttopFunction: () => dispatch(topFunction()),\r\n\t\taddProductToCart: obj => dispatch(addProductToCart(obj))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(YourOrders)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersOrders\\SwitchCustomersOrders\\SwitchCustomersOrders.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Button\\Button.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\ModalForCustomers\\ModalAdd\\ModalAdd.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\axios\\axios-quiz.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\ModalForSubcategories\\ModalEdit\\ModalEdit.js",["302"],"import React, { Component } from 'react'\r\nimport classes from './ModalEdit.module.css'\r\nimport Button from '../../../../components/UI/Button/Button'\r\nimport Input from '../../../../components/UI/Input/Input'\r\nimport Select from '../../../../components/UI/Select/Select'\r\nimport is from 'is_js' // для валідації емейлу в формі\r\nimport { Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { editSubcategory } from '../../../../redux/actions/products'\r\n\r\nclass ModalEdit extends Component {\r\n\r\n\tstate = {\r\n\t\tisFormValid: false,\r\n\t\tformControls: {\r\n\t\t\tname: {\r\n\t\t\t\tid: 'name',\r\n\t\t\t\thtmlFor: 'name',\r\n\t\t\t\tvalue: this.props.categories.filter(category => category.id === this.props.idCategory)[0].subcategories.filter(subcategory => subcategory.id === this.props.idSubcategory)[0].name,\r\n\t\t\t\tname: 'name',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Введіть назву',\r\n\t\t\t\terrorMessage: 'Поле з назвою не повинне бути пустим',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdescribe: {\r\n\t\t\t\tid: 'describe',\r\n\t\t\t\thtmlFor: 'describe',\r\n\t\t\t\tvalue: this.props.categories.filter(category => category.id === this.props.idCategory)[0].subcategories.filter(subcategory => subcategory.id === this.props.idSubcategory)[0].describe,\r\n\t\t\t\tname: 'describe',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Добавте опис',\r\n\t\t\t\terrorMessage: 'Поле з описом не повинне бути пустим',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timage: {\r\n\t\t\t\tid: 'image',\r\n\t\t\t\thtmlFor: 'image',\r\n\t\t\t\tvalue: this.props.categories.filter(category => category.id === this.props.idCategory)[0].subcategories.filter(subcategory => subcategory.id === this.props.idSubcategory)[0].image,\r\n\t\t\t\tname: 'image',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tlabel: 'Добавте ссилку на картинку',\r\n\t\t\t\terrorMessage: 'Введіть ссилку на картинку',\r\n\t\t\t\tvalid: true,\r\n\t\t\t\ttouched: false,\r\n\t\t\t\tvalidation: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: this.props.categories.filter(category => category.id === this.props.idCategory)[0].subcategories.filter(subcategory => subcategory.id === this.props.idSubcategory)[0].name,\r\n\t\tdescribe: this.props.categories.filter(category => category.id === this.props.idCategory)[0].subcategories.filter(subcategory => subcategory.id === this.props.idSubcategory)[0].describe,\r\n\t\timage: this.props.categories.filter(category => category.id === this.props.idCategory)[0].subcategories.filter(subcategory => subcategory.id === this.props.idSubcategory)[0].image\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tvalidateControl(value, validation) {\r\n\t\tif (!validation) {\r\n\t\t\treturn true\r\n\t\t}\r\n\r\n\t\tlet isValid = true\r\n\r\n\t\tif (validation.required) {\r\n\t\t\tisValid = value.trim() !== '' && isValid\r\n\t\t}\r\n\r\n\t\tif (validation.email) {\r\n\t\t\tisValid = is.email(value) && isValid\r\n\t\t}\r\n\r\n\t\tif (validation.minLength) {\r\n\t\t\tisValid = value.length >= validation.minLength && isValid\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n\r\n\r\n\tonChangeHandler = (event, controlName) => {\r\n\r\n\t\tconst formControls = { ...this.state.formControls }\r\n\t\tconst control = { ...formControls[controlName] }\r\n\r\n\t\tcontrol.value = event.target.value\r\n\t\tcontrol.touched = true\r\n\t\tcontrol.valid = this.validateControl(control.value, control.validation)\r\n\r\n\t\tformControls[controlName] = control\r\n\r\n\t\tlet isFormValid = true\r\n\r\n\t\tObject.keys(formControls).forEach(name => {\r\n\t\t\tisFormValid = formControls[name].valid && isFormValid\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tformControls, isFormValid, [event.target.id]: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\trenderInputs() {\r\n\r\n\t\treturn Object.keys(this.state.formControls).map((controlName, index) => {\r\n\t\t\tconst control = this.state.formControls[controlName]\r\n\t\t\treturn (\r\n\t\t\t\t<Input\r\n\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\tid={control.id}\r\n\t\t\t\t\thtmlFor={control.htmlFor}\r\n\t\t\t\t\tkey={controlName + index}\r\n\t\t\t\t\ttype={control.type}\r\n\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\tname={control.name}\r\n\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\tonChange={event => this.onChangeHandler(event, controlName)}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\teditDate(idThisCategory, idThisSubcategory) {\r\n\r\n\t\tconst { name, describe, image } = this.state.formControls\r\n\r\n\t\tthis.props.editSubcategory({\r\n\t\t\tidThisCategory,\r\n\t\t\tidThisSubcategory,\r\n\t\t\tname: name.value,\r\n\t\t\tdescribe: describe.value,\r\n\t\t\timage: image.value\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tisFormValid: false\r\n\t\t})\r\n\r\n\t\tthis.handleClose()\r\n\t}\r\n\r\n\trenderModalEdit() {\r\n\r\n\t\tconst idThisCategory = this.props.idCategory\r\n\t\tconst idThisSubcategory = this.props.idSubcategory\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\tonClick={this.handleShow}\r\n\t\t\t\t\tdata_idThisCategory={idThisCategory}\r\n\t\t\t\t>\r\n\t\t\t\t\tEdit\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal className={classes.ModalEdit} show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"align-items-center\">\r\n\t\t\t\t\t\t<Modal.Title>Edit date:</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={classes.modalBodyProductsEdit} >\r\n\r\n\t\t\t\t\t\t<div className={classes.ProductsEdit}>\r\n\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t<form className={classes.ProductsEditForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t{this.renderInputs()}\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex justify-content-end\">\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\tonClick={() => this.editDate(idThisCategory, idThisSubcategory)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.ModalEdit}>\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalEdit()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\tisSubcategories: state.products.isSubcategories,\r\n\t\terror: state.products.error\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\teditSubcategory: obj => dispatch(editSubcategory(obj))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalEdit)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductPage\\ProductPage.js",["303","304","305","306","307"],"import React, { Component } from 'react'\r\nimport classes from './ProductPage.module.css'\r\nimport Button from '../../components/UI/Button/Button'\r\nimport Input from '../../components/UI/Input/Input'\r\nimport Loader from '../../components/UI/Loader/Loader'\r\nimport axios from '../../axios/axios-quiz'\r\nimport firebase from 'firebase'\r\nimport { connect } from 'react-redux'\r\nimport { addProductToCart, priceIncludedPromotion } from '../../redux/actions/products'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { addNewUnKnownCustomer } from '../../redux/actions/inform'\r\n\r\nclass ProductPage extends Component {\r\n\r\n\tonChangeQuantity(obj) {\r\n\t\tlet { value: quantity, price, promotion, id, maxQuantity, stepunits } = obj\r\n\r\n\t\tif (quantity < stepunits) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet thisPrice = +(this.props.priceIncludedPromotion(price, promotion) * quantity).toFixed(1)\r\n\r\n\t\tdocument.querySelector(`span[id = product_price_${id}]`).innerHTML = thisPrice\r\n\r\n\t}\r\n\r\n\r\n\taddProductToCart(obj) {\r\n\r\n\t\tconst { event, productId, price, promotion, customerId, stepunits } = obj\r\n\t\tevent.preventDefault()\r\n\r\n\t\tthis.props.addProductToCart({ event, productId, customerId, price, promotion, stepunits })\r\n\t}\r\n\r\n\tonMaxQuantity(obj) {\r\n\r\n\t\tlet { value: quantity, maxQuantity, id } = obj\r\n\r\n\t\tlet elem = document.querySelector(`p[id = warning_${id}]`)\r\n\t\tif (quantity >= maxQuantity) {\r\n\t\t\telem.classList.add(\"shadow\")\r\n\t\t} else {\r\n\t\t\telem.classList.remove(\"shadow\")\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonClickArrow(obj) {\r\n\r\n\t\tlet { clickevent, id, maxQuantity } = obj\r\n\r\n\t\tlet divInputNumber =\r\n\t\t\tdocument.querySelector(`.divInputNumberProduct_${id}`),\r\n\t\t\tnumberPlus = divInputNumber.querySelector('.arrow_plus'),\r\n\t\t\tnumberMinus = divInputNumber.querySelector('.arrow_minus'),\r\n\t\t\tnumberInput = divInputNumber.querySelector('[type=\"number\"]'),\r\n\t\t\tquantity = +numberInput.value,\r\n\t\t\tmin = +numberInput.getAttribute('min'),\r\n\t\t\tmax = +numberInput.getAttribute('max'),\r\n\t\t\tstep = +numberInput.getAttribute('step') || 1\r\n\r\n\t\tlet valueInput = +numberInput.value\r\n\r\n\t\tnumberInput.focus()\r\n\r\n\t\tif (clickevent === \"plus\") {\r\n\r\n\t\t\tif (!(max <= valueInput + step)) {\r\n\t\t\t\tnumberInput.value = (valueInput * 10 + step * 10) / 10\r\n\t\t\t} else {\r\n\t\t\t\tnumberInput.value = max\r\n\t\t\t}\r\n\r\n\t\t} else if (clickevent === \"minus\") {\r\n\r\n\t\t\tif (!(min > valueInput - step)) {\r\n\t\t\t\tnumberInput.value = (valueInput * 10 - step * 10) / 10\r\n\t\t\t} else {\r\n\t\t\t\tnumberInput.value = min\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tnumberInput.blur()\r\n\r\n\t\tthis.onMaxQuantity({ value: quantity, maxQuantity, id })\r\n\r\n\t}\r\n\r\n\t//    goToHomePage = () => {\r\n\t//        this.props.history.push({\r\n\t//            pathname: '/'\r\n\t//        })\r\n\t//    }\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tlet url = window.location.pathname;\r\n\t\tlet id = +url.substring(url.lastIndexOf('/') + 1);\r\n\t\tlet thisProduct = this.props.products.filter(product => product.id === id)[0]\r\n\t\treturn (\r\n\t\t\tthis.props.loading\r\n\r\n\t\t\t\t? <Loader />\r\n\t\t\t\t: this.props.products[0]\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<div className=\"overflow-auto webkit_scrollbar_width webkit_scrollbar_style\">\r\n\t\t\t\t\t\t<NavLink to={'/'} className={`d-block mb-2 btnBack`} >\r\n\t\t\t\t\t\t\t<i className=\"fa fa-arrow-left\" aria-hidden=\"true\"></i> Вернутись на головну\r\n\t\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t\t<div className={`d-flex flex-column col col-xs-6 col-sm-6 col-md-6 col-lg-4 border p-3 ${classes.Product}`}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className={`w-100 mb-3 ${classes.productFoto}`} style={{ backgroundImage: `url(${thisProduct.image})`, backgroundSize: 'cover' }}>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<h3>{thisProduct.name}</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className={`p-1 mb-2 border rounded overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.describe}`}>\r\n\t\t\t\t\t\t\t\t<p>{thisProduct.describe}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<p className={`text-info mb-1 mb-xs-3 mt-auto ${classes.pPrice}`}  >\r\n\t\t\t\t\t\t\t\t<span>{thisProduct.promotion ? <span><span className={`text-uppercase text-danger ${classes.spanPromotion}`}>Акція {thisProduct.promotion}%</span> <br /><s className={`text-dark`}><span>{+thisProduct.price.toFixed(1)}</span></s> <span>{this.props.priceIncludedPromotion(thisProduct.price, thisProduct.promotion)}</span></span> : <span>{+thisProduct.price.toFixed(1)}</span>}</span> грн / {thisProduct.units}\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<form onSubmit={event => this.addProductToCart({ event, productId: thisProduct.id, customerId: this.props.customerId, price: thisProduct.price, promotion: thisProduct.promotion, stepunits: thisProduct.stepunits })} className={`d-flex align-items-center justify-content-between w-100 product_cart ${classes.productFooter}`} id={`${thisProduct.id}`}>\r\n\r\n\t\t\t\t\t\t\t\t<div className={`divInputNumber divInputNumberProduct_${thisProduct.id}  ${classes.divInputNum} mx-right position-relation`}>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"arrow arrow_minus d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'minus', id: thisProduct.id, maxQuantity: thisProduct.quantity })} ><i className=\"fa fa-minus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t\t\t\t<Input id={`input_product_${thisProduct.id}`} type=\"number\" labelDisplay=\"d-none\" className={`inputNumber text-center`} min={thisProduct.stepunits} step={thisProduct.stepunits} max={`${thisProduct.quantity}`} name={`product_${thisProduct.id}`} defaultValue={thisProduct.quantity ? 1 : 0} data_price={`${thisProduct.price}`} data_quantity={`${thisProduct.quantity}`} onFocus={event => this.onMaxQuantity({ value: +event.target.value, maxQuantity: thisProduct.quantity, id: thisProduct.id })} onBlur={event => this.onChangeQuantity({ value: +event.target.value, price: thisProduct.price, promotion: thisProduct.promotion, id: thisProduct.id, maxQuantity: thisProduct.quantity, stepunits: thisProduct.stepunits })} />\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"arrow arrow_plus  d-flex justify-content-center align-items-center position-absolute\" onClick={() => this.onClickArrow({ clickevent: 'plus', id: thisProduct.id, maxQuantity: thisProduct.quantity })} ><i className=\"fa fa-plus\" aria-hidden=\"true\"></i></div>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tid={thisProduct.id}\r\n\t\t\t\t\t\t\t\t\tonClick={!window.localStorage.getItem('idThisUnKnownCustomers') ? this.props.addNewUnKnownCustomer : null}\r\n\t\t\t\t\t\t\t\t\tselfType=\"success\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success btn_to_cart\"\r\n\t\t\t\t\t\t\t\t\tdisabled={!thisProduct.quantity}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-shopping-basket\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t<p className={`text-success mb-1 mb-xs-3 mt-auto ${classes.pPrice}`}  >\r\n\t\t\t\t\t\t\t\t<span className={`text-info font-weight-bold`}>Total: </span>\r\n\t\t\t\t\t\t\t\t<span id={`product_price_${thisProduct.id}`}>{this.props.priceIncludedPromotion(thisProduct.price, thisProduct.promotion)}</span> грн\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t{this.props.authAdmin\r\n\t\t\t\t\t\t\t\t? <p className=\"mb-0 text-danger rounded\" id={`warning_${thisProduct.id}`} >Доступно: <span className=\"text-primary\">{`${thisProduct.quantity} ${thisProduct.units}.`}</span></p>\r\n\t\t\t\t\t\t\t\t: thisProduct.quantity\r\n\t\t\t\t\t\t\t\t\t? <p className=\"mb-0 text-success rounded\" id={`warning_${thisProduct.id}`} >Товар є в наявності</p>\r\n\t\t\t\t\t\t\t\t\t: <p className=\"mb-0 text-danger rounded\" id={`warning_${thisProduct.id}`} >Товару немає в наявності</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div className={`d-flex flex-column col col-xs-6 col-sm-6 col-md-6 col-lg-4 border p-3 ${classes.Product}`}>\r\n\t\t\t\t\t\t<h2 className=\"mx-auto text-center\">Товар не знайдено!!! </h2>\r\n\t\t\t\t\t</div>\r\n\t\t)\r\n\r\n\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcustomerId: state.inform.customerId,\r\n\t\tauthAdmin: state.inform.authAdmin,\r\n\t\tproducts: state.products.products,\r\n\t\tloading: state.products.loading,\r\n\t\torders: state.products.orders\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddProductToCart: obj => dispatch(addProductToCart(obj)),\r\n\t\tpriceIncludedPromotion: (price, promotion) => dispatch(priceIncludedPromotion(price, promotion)),\r\n\t\taddNewUnKnownCustomer: () => dispatch(addNewUnKnownCustomer())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductPage)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ProductsTable\\ProductsTable.js",["308","309","310","311","312","313","314"],"import React, { Component } from 'react'\r\nimport classes from './ProductsTable.module.css'\r\nimport ProductItem from '../ProductItem/ProductItem'\r\nimport { connect } from 'react-redux'\r\nimport orderBy from 'lodash/orderBy'\r\nimport Select from '../../../components/UI/Select/Select'\r\nimport { toggleAllProducts, fetchIsSubcategories, resetFiltersAdmin, categoriesFilterAdmin, subcategoriesFilterAdmin, unitFilterAdmin, promotionFilterAdmin, visibleFilterAdmin, filterConditionAdmin, popularityFilterAdmin } from '../../../redux/actions/products'\r\n\r\nclass ProductsTable extends Component {\r\n\r\n\tstate = {\r\n\t\tchecked: false,\r\n\t\tidSelectedCategory: 0,\r\n\t\tidSelectedSubcategory: 0,\r\n\t\tvalueSelectedPromotion: 0,\r\n\t\tvalueSelectedVisible: true,\r\n\t\tdisabledOptionChooseCategory: false,\r\n\t\tdisabledOptionChooseSubcategory: false,\r\n\t\tdisabledOptionChooseUnit: false,\r\n\t\tdisabledOptionChoosePromotion: false,\r\n\t\tdisabledOptionChooseVisible: false,\r\n\t\tpopularityFilterAdmin: false\r\n\t}\r\n\r\n\tuseInputCheckedAll(defaultValue = '') {  // self hook chanch value in input\r\n\r\n\t\treturn {\r\n\t\t\tbind: {\r\n\t\t\t\tonChange: event => { this.setState({ checked: event.target.checked }) },\r\n\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\tonClick: event => {\r\n\r\n\t\t\t\t\tlet status = event.target.checked\r\n\r\n\t\t\t\t\tthis.props.toggleAllProducts(status)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tselectChangeCategory = event => {\r\n\r\n\t\tlet idSelectedCategory = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tidSelectedCategory, disabledOptionChooseCategory: true\r\n\t\t})\r\n\r\n\t\tthis.props.fetchIsSubcategories(idSelectedCategory)\r\n\r\n\t\tthis.clickFiltersAdmin({ filter: 'categoriesFilterAdmin', event, categoryid: idSelectedCategory })\r\n\r\n\t}\r\n\r\n\tselectChangeSubcategory = event => {\r\n\r\n\t\tlet idSelectedCategory = this.state.idSelectedCategory\r\n\r\n\t\tlet idSelectedSubcategory = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tidSelectedSubcategory, disabledOptionChooseSubcategory: true\r\n\t\t})\r\n\r\n\t\tthis.clickFiltersAdmin({ filter: 'subcategoriesFilterAdmin', event, categoryid: idSelectedCategory, subcategoryid: idSelectedSubcategory })\r\n\r\n\t}\r\n\r\n\tselectChangeUnits = event => {\r\n\r\n\t\tlet valueSelectedUnit = event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedUnit, disabledOptionChooseUnit: true\r\n\t\t})\r\n\r\n\t\tthis.clickFiltersAdmin({ filter: 'unitFilterAdmin', event, units: valueSelectedUnit })\r\n\r\n\t}\r\n\r\n\tselectChangePromotions = event => {\r\n\r\n\t\tlet valueSelectedPromotion = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedPromotion, disabledOptionChoosePromotion: true\r\n\t\t})\r\n\r\n\t\tthis.clickFiltersAdmin({ filter: 'promotionFilterAdmin', event, promotion: valueSelectedPromotion })\r\n\r\n\t}\r\n\r\n\tselectChangeVisible = event => {\r\n\r\n\t\tlet valueSelectedVisible = event.target.value === \"true\" ? true : false\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedVisible, disabledOptionChooseVisible: true\r\n\t\t})\r\n\r\n\t\tthis.clickFiltersAdmin({ filter: 'visibleFilterAdmin', event, visibleproduct: valueSelectedVisible })\r\n\r\n\t}\r\n\r\n\r\n\toptionSelectCategory = event => {\r\n\r\n\t\tif (this.props.categories[0]) {\r\n\r\n\t\t\t//            return this.props.categories.map(category => {\r\n\t\t\t//                return {text: category.name, value: category.id}\r\n\t\t\t//            })\r\n\r\n\t\t\tconst thisOptions = this.props.categories.map(category => {\r\n\t\t\t\treturn { text: category.name, value: category.id }\r\n\t\t\t})\r\n\r\n\t\t\tlet thisOption\r\n\r\n\t\t\tthisOptions.forEach((category, index) => {\r\n\r\n\t\t\t\tif (category.value === this.state.idSelectedCategory) {\r\n\t\t\t\t\tthisOption = category\r\n\t\t\t\t\tthisOptions.splice(index, 1)\r\n\t\t\t\t\tthisOptions.unshift(thisOption)\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\r\n\t\t\tthisOptions.unshift({ text: 'Виберіть категорію', value: -1, disabled: this.state.disabledOptionChooseCategory })\r\n\r\n\t\t\treturn thisOptions\r\n\r\n\t\t} else {\r\n\t\t\treturn [{ text: \"Немає категорії\", value: \"Немає категорії\" }]\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\toptionPromotionsProduct = event => {\r\n\r\n\t\tconst thisPromotionsOptions = []\r\n\r\n\t\tfor (let i = 0; i <= 100; i += 5) {\r\n\t\t\tthisPromotionsOptions.push({ text: i, value: i })\r\n\t\t}\r\n\r\n\t\tlet thisPromotion\r\n\r\n\t\tthisPromotionsOptions.forEach((promotion, index) => {\r\n\r\n\t\t\tif (promotion.value === this.state.valueSelectedPromotion) {\r\n\t\t\t\tthisPromotion = promotion\r\n\r\n\t\t\t\tthisPromotionsOptions.splice(index, 1)\r\n\t\t\t\tthisPromotionsOptions.unshift(thisPromotion)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\tthisPromotionsOptions.unshift({ text: 'Виберіть знижку', value: -1, disabled: this.state.disabledOptionChoosePromotion })\r\n\r\n\t\treturn thisPromotionsOptions\r\n\r\n\t}\r\n\r\n\toptionSelectSubcategory = idSelectedCategory => {\r\n\r\n\t\tif (this.props.categories[idSelectedCategory]) {\r\n\t\t\tif (this.props.categories[idSelectedCategory].subcategories) {\r\n\t\t\t\t//               return this.props.categories[idSelectedCategory].subcategories.map(subcategory => {         \r\n\t\t\t\t//                   \r\n\t\t\t\t//                    if(subcategory.id === 0) {\r\n\t\t\t\t//                        return {text: `${subcategory.name}`, value: subcategory.id, selected: 'selected'}\r\n\t\t\t\t//                    }\r\n\t\t\t\t//                   \r\n\t\t\t\t//                    return {text: `${subcategory.name}`, value: subcategory.id}\r\n\t\t\t\t//                })\r\n\r\n\t\t\t\tconst thisOptions = this.props.categories[idSelectedCategory].subcategories.map(subcategory => {\r\n\t\t\t\t\treturn { text: subcategory.name, value: subcategory.id }\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet thisOption\r\n\r\n\t\t\t\tthisOptions.forEach((subcategory, index) => {\r\n\r\n\t\t\t\t\tif (subcategory.value === this.state.idSelectedSubcategory) {\r\n\t\t\t\t\t\tthisOption = subcategory\r\n\t\t\t\t\t\tthisOptions.splice(index, 1)\r\n\t\t\t\t\t\tthisOptions.unshift(thisOption)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthisOptions.unshift({ text: 'Виберіть підкатегорію', value: -1, disabled: this.state.disabledOptionChooseSubcategory })\r\n\r\n\t\t\t\treturn thisOptions\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn [{ text: \"Немає підкатегорії\", value: \"Немає підкатегорії\" }]\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\treturn [{ text: \"Немає підкатегорії\", value: \"Немає підкатегорії\" }]\r\n\t\t}\r\n\r\n\t}\r\n\r\n\toptionUnitsProduct = event => {\r\n\r\n\t\tconst thisUnitsOptions = [{ text: \"шт\", value: \"шт\" }, { text: \"кг\", value: \"кг\" }]\r\n\r\n\t\tlet thisUnit\r\n\r\n\t\tthisUnitsOptions.forEach((unit, index) => {\r\n\r\n\t\t\tif (unit.value === this.state.valueSelectedUnit) {\r\n\t\t\t\tthisUnit = unit\r\n\t\t\t\tthisUnitsOptions.splice(index, 1)\r\n\t\t\t\tthisUnitsOptions.unshift(thisUnit)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\tthisUnitsOptions.unshift({ text: 'Виберіть одиниці', value: -1, disabled: this.state.disabledOptionChooseUnit })\r\n\r\n\t\treturn thisUnitsOptions\r\n\r\n\t}\r\n\r\n\toptionVisibleProduct = event => {\r\n\r\n\t\tconst thisVisibleOptions = [{ text: \"Видимий\", value: true }, { text: \"Невидимий\", value: false }]\r\n\r\n\t\tlet thisVisible\r\n\r\n\t\tthisVisibleOptions.forEach((visible, index) => {\r\n\r\n\t\t\tif (visible.value === this.state.valueSelectedVisible) {\r\n\t\t\t\tthisVisible = visible\r\n\t\t\t\tthisVisibleOptions.splice(index, 1)\r\n\t\t\t\tthisVisibleOptions.unshift(thisVisible)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\tthisVisibleOptions.unshift({ text: 'Виберіть видимість', value: -1, disabled: this.state.disabledOptionChooseVisible })\r\n\r\n\t\treturn thisVisibleOptions\r\n\r\n\t}\r\n\r\n\t//    resetFiltersAdmin = event => {       \r\n\t//            \r\n\t//        this.props.resetFiltersAdmin()\r\n\t//        \r\n\t//        this.setState({            \r\n\t//            idSelectedCategory: 0, idSelectedSubcategory: 0, valueSelectedPromotion: 0, valueSelectedVisible: true, disabledOptionChooseCategory: false, disabledOptionChooseSubcategory: false, disabledOptionChooseUnit: false, disabledOptionChooseVisible: false, disabledOptionChoosePromotion: false, popularityFilterAdmin: false\r\n\t//        })\r\n\t//        \r\n\t////        document.querySelector(`select[name = \"categories\"]`).value = 0        \r\n\t////        document.querySelector(`select[name = \"subcategories\"]`).value = 0        \r\n\t//                \r\n\t//    }\r\n\r\n\t//    popularityFilterAdmin = () => {\r\n\t//                    \r\n\t//        const popularityLinks = [...document.querySelectorAll('.popularityFilterAdmin')]\r\n\t//           \r\n\t//        popularityLinks.forEach(link => {\r\n\t//            link.classList.toggle('active')\r\n\t//        })\r\n\t//\r\n\t//        let status\r\n\t//        \r\n\t//        if (this.state.popularityFilterAdmin === false) {\r\n\t//            status = true\r\n\t//            this.props.popularityFilterAdmin({status})\r\n\t//            this.setState({ popularityFilterAdmin: true })\r\n\t//        } else {\r\n\t//            status = false\r\n\t//            this.props.popularityFilterAdmin({status})\r\n\t//            this.setState({ popularityFilterAdmin: false })\r\n\t//        }\r\n\t//        \r\n\t//        \r\n\t//        \r\n\t//        \r\n\t//    }\r\n\r\n\tclickFiltersAdmin = obj => {\r\n\r\n\t\tconst { filter, event } = obj\r\n\r\n\t\tconsole.log('filter', filter)\r\n\t\tconsole.log('event.target.dataset', event.target.dataset)\r\n\r\n\t\tif (filter === 'resetFiltersAdmin') {\r\n\r\n\t\t\tthis.props.resetFiltersAdmin()\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tidSelectedCategory: 0, idSelectedSubcategory: 0, valueSelectedPromotion: 0, valueSelectedVisible: true, disabledOptionChooseCategory: false, disabledOptionChooseSubcategory: false, disabledOptionChooseUnit: false, disabledOptionChooseVisible: false, disabledOptionChoosePromotion: false, popularityFilterAdmin: false\r\n\t\t\t})\r\n\r\n\t\t} else if (filter === 'promotionFilterAdmin') {\r\n\r\n\t\t\tconst { promotion } = obj\r\n\r\n\t\t\tthis.props.promotionFilterAdmin({ promotion })\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tpopularityFilterAdmin: false\r\n\t\t\t})\r\n\r\n\t\t} else if (filter === 'popularityFilterAdmin') {\r\n\r\n\t\t\tconst popularityLinks = [...document.querySelectorAll('.popularityFilterAdmin')]\r\n\r\n\t\t\tpopularityLinks.forEach(link => {\r\n\t\t\t\tlink.classList.toggle('active')\r\n\t\t\t})\r\n\r\n\t\t\tlet status\r\n\r\n\t\t\tif (this.state.popularityFilterAdmin === false) {\r\n\t\t\t\tstatus = true\r\n\t\t\t\tthis.props.popularityFilterAdmin({ status })\r\n\t\t\t\tthis.setState({ popularityFilterAdmin: true })\r\n\t\t\t} else {\r\n\t\t\t\tstatus = false\r\n\t\t\t\tthis.props.popularityFilterAdmin({ status })\r\n\t\t\t\tthis.setState({ popularityFilterAdmin: false })\r\n\t\t\t}\r\n\r\n\t\t} else if (filter === 'categoriesFilterAdmin') {\r\n\r\n\t\t\tconst { categoryid } = obj\r\n\r\n\t\t\tthis.props.categoriesFilterAdmin({ categoryid })\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tpopularityFilterAdmin: false\r\n\t\t\t})\r\n\r\n\t\t} else if (filter === 'unitFilterAdmin') {\r\n\r\n\t\t\tconst { units } = obj\r\n\r\n\t\t\tthis.props.unitFilterAdmin({ units })\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tpopularityFilterAdmin: false\r\n\t\t\t})\r\n\r\n\t\t} else if (filter === 'visibleFilterAdmin') {\r\n\r\n\t\t\tconst { visibleproduct } = obj\r\n\r\n\t\t\tthis.props.visibleFilterAdmin({ visibleproduct })\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tpopularityFilterAdmin: false\r\n\t\t\t})\r\n\r\n\t\t} else if (filter === 'subcategoriesFilterAdmin') {\r\n\r\n\t\t\tconst { categoryid, subcategoryid } = obj\r\n\r\n\t\t\tthis.props.subcategoriesFilterAdmin({ categoryid, subcategoryid })\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tpopularityFilterAdmin: false\r\n\t\t\t})\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst inputCheckedAll = this.useInputCheckedAll(false)\r\n\r\n\t\tconst selectPromotionsProduct = <Select\r\n\t\t\tname=\"promotion\"\r\n\t\t\tonChange={this.selectChangePromotions}\r\n\t\t\toption={this.optionPromotionsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst selectCategories = <Select\r\n\t\t\tonChange={this.selectChangeCategory}\r\n\t\t\tname=\"categories\"\r\n\t\t\toption={this.optionSelectCategory()}\r\n\t\t/>\r\n\r\n\t\tconst selectSubcategories = <Select\r\n\t\t\tonChange={this.selectChangeSubcategory}\r\n\t\t\tname=\"subcategories\"\r\n\t\t\toption={this.optionSelectSubcategory(this.state.idSelectedCategory)}\r\n\t\t/>\r\n\r\n\t\tconst selectUnitsProduct = <Select\r\n\t\t\tname=\"units\"\r\n\t\t\tonChange={this.selectChangeUnits}\r\n\t\t\toption={this.optionUnitsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst selectVisibleProduct = <Select\r\n\t\t\tonChange={this.selectChangeVisible}\r\n\t\t\tname=\"visibleproduct\"\r\n\t\t\toption={this.optionVisibleProduct()}\r\n\t\t/>\r\n\r\n\t\treturn (\r\n\t\t\t<table className={classes.ProductsTable}>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr className={classes.trHeader}>\r\n\t\t\t\t\t\t<th className={classes.headerTitleCheckAll}>\r\n\t\t\t\t\t\t\t<div className={classes.leftTitle}>Check All</div>\r\n\t\t\t\t\t\t\t<div className={classes.th_value}><input {...inputCheckedAll.bind} /></div>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>id</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width} ${classes.th_image}`}>image</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>name</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>price</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>quantity</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>promotion</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>popularity</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>units</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>describe</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>category</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>subcategory</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>visible</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>Edit</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle} ${classes.min_width}`}>remove</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<thead className={classes.productsFilters}>\r\n\t\t\t\t\t<tr className={classes.trHeaderSelect}>\r\n\t\t\t\t\t\t<th className={classes.headerTitleCheckAll}>\r\n\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}></th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}></th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}>name</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}></th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}></th>\r\n\t\t\t\t\t\t<th className={classes.headerTitleSelect}>{selectPromotionsProduct}</th>\r\n\t\t\t\t\t\t<th className={`${classes.headerTitle, classes.headerTitleFilter}`}><span className={`mb-3 mb-lg-0 d-inline-block border-0 d-lg-flex flex-column justify-content-center align-items-center popularityFilterAdmin ${classes.popularityFilterAdmin}`} onClick={event => this.clickFiltersAdmin({ filter: 'popularityFilterAdmin', event })} >Популярні <i className=\"ml-3 ml-lg-0 fa fa-hand-pointer-o\" aria-hidden=\"true\"></i></span></th>\r\n\t\t\t\t\t\t<th className={classes.headerTitleSelect}>{selectUnitsProduct}</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}></th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle, classes.headerTitleSelect}>{selectCategories}</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle, classes.headerTitleSelect}>{selectSubcategories}</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle, classes.headerTitleSelect}>{selectVisibleProduct}</th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle}></th>\r\n\t\t\t\t\t\t<th className={classes.headerTitle, classes.headerTitleFilter}>{this.props.categories[0] ? <span className={`d-inline-block d-lg-flex flex-column justify-content-center align-items-center mb-3 ${classes.resetFiltersAdmin}`} onClick={event => this.clickFiltersAdmin({ filter: 'resetFiltersAdmin', event })} >Скинути фільтри <i className=\"ml-3 ml-lg-0 fa fa-hand-pointer-o\" aria-hidden=\"true\"></i></span> : null}</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{this.props.selectedProductsAdmin[0]\r\n\t\t\t\t\t\t? orderBy(this.props.products, ['popularity', 'promotion', 'price', 'name'], ['desc', 'desc', 'asc', 'desc']).map((product, index) => {\r\n\t\t\t\t\t\t\tif (this.props.filterConditionAdmin(product, this.props.filterPropsAdmin)) {\r\n\t\t\t\t\t\t\t\treturn <ProductItem key={product.id} productId={product.id} promotion={product.promotion} index={index} />\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t: this.props.selectedProductsAdmin[0] === null\r\n\t\t\t\t\t\t\t? <tr><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th><h3 className=\"text-danger text-center m-1\">В даній категорії немає продуктів</h3></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th><th className={classes.mob_d_none}></th></tr>\r\n\t\t\t\t\t\t\t: orderBy(this.props.products, ['popularity', 'promotion', 'price', 'name'], ['desc', 'desc', 'asc', 'desc']).map((product, index) => {\r\n\t\t\t\t\t\t\t\tif (this.props.filterConditionAdmin(product, this.props.filterPropsAdmin)) {\r\n\t\t\t\t\t\t\t\t\treturn <ProductItem key={product.id} productId={product.id} promotion={product.promotion} index={index} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</tbody>\r\n\r\n\t\t\t</table>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\tisSubcategories: state.products.isSubcategories,\r\n\t\tselectedProductsAdmin: state.products.selectedProductsAdmin,\r\n\t\tfilterPropsAdmin: state.products.filterPropsAdmin\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\ttoggleAllProducts: status => dispatch(toggleAllProducts(status)),\r\n\t\tfetchIsSubcategories: idCategory => dispatch(fetchIsSubcategories(idCategory)),\r\n\t\tcategoriesFilterAdmin: obj => dispatch(categoriesFilterAdmin(obj)),\r\n\t\tsubcategoriesFilterAdmin: obj => dispatch(subcategoriesFilterAdmin(obj)),\r\n\t\tunitFilterAdmin: obj => dispatch(unitFilterAdmin(obj)),\r\n\t\tpromotionFilterAdmin: obj => dispatch(promotionFilterAdmin(obj)),\r\n\t\tvisibleFilterAdmin: obj => dispatch(visibleFilterAdmin(obj)),\r\n\t\tresetFiltersAdmin: () => dispatch(resetFiltersAdmin()),\r\n\t\tpopularityFilterAdmin: obj => dispatch(popularityFilterAdmin(obj)),\r\n\t\tfilterConditionAdmin: (objproduct, objprops) => dispatch(filterConditionAdmin(objproduct, objprops))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsTable)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\ModalForCategories\\ModalAdd\\ModalAdd.js",["315","316"],"import React, { Component } from 'react'\r\nimport classes from './ModalAdd.module.css'\r\nimport Button from '../../../../components/UI/Button/Button'\r\nimport Input from '../../../../components/UI/Input/Input'\r\nimport Select from '../../../../components/UI/Select/Select'\r\nimport { createControl, validate, validateForm } from '../../../../form/formFramework'\r\nimport Auxiliary from '../../../../hoc/Auxiliary/Auxiliary'\r\nimport { Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { addNewCategory, existingCategories } from '../../../../redux/actions/products'\r\nimport { onScroll, topFunction } from '../../../../redux/actions/menu'\r\n\r\nfunction createFormControls() {\r\n\treturn {\r\n\t\tname: createControl({\r\n\t\t\tlabel: 'Введіть назву',\r\n\t\t\terrorMessage: 'Поле з назвою не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\tdescribe: createControl({\r\n\t\t\tlabel: 'Добавте опис',\r\n\t\t\terrorMessage: 'Поле з описом не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\timage: createControl({\r\n\t\t\tlabel: 'Добавте ссилку на картинку',\r\n\t\t\terrorMessage: 'Введіть ссилку на картинку'\r\n\t\t}, { required: true }),\r\n\t}\r\n}\r\n\r\nclass ModalAdd extends Component {\r\n\r\n\tstate = {\r\n\t\tisFormValid: false,\r\n\t\tformControls: createFormControls()\r\n\t}\r\n\r\n\tsubmitHandler = event => {\r\n\t\tevent.preventDefault()\r\n\t}\r\n\r\n\taddCategoryHandler = async event => {\r\n\r\n\t\tconst { name, describe, image } = this.state.formControls\r\n\r\n\t\tthis.props.addNewCategory({\r\n\t\t\tname: name.value,\r\n\t\t\tdescribe: describe.value,\r\n\t\t\timage: image.value\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tisFormValid: false,\r\n\t\t\tformControls: createFormControls()\r\n\t\t})\r\n\r\n\t\tthis.handleClose()\r\n\r\n\t}\r\n\r\n\tonChangeHandler = (value, controlName) => {\r\n\t\tconst formControls = { ...this.state.formControls }\r\n\t\tconst control = { ...formControls[controlName] }\r\n\r\n\t\tcontrol.value = value\r\n\t\tcontrol.touched = true\r\n\t\tcontrol.valid = validate(control.value, control.validation)\r\n\r\n\t\tformControls[controlName] = control\r\n\r\n\t\tthis.setState({\r\n\t\t\tformControls,\r\n\t\t\tisFormValid: validateForm(formControls)\r\n\t\t})\r\n\t}\r\n\r\n\trenderControls() {\r\n\t\treturn Object.keys(this.state.formControls).map((controlName, index) => {\r\n\t\t\tconst control = this.state.formControls[controlName]\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Auxiliary key={controlName + index}>\r\n\t\t\t\t\t{ <Input\r\n\t\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\t\tonChange={event => this.onChangeHandler(event.target.value, controlName)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{ index === 0 ? <hr /> : null}\r\n\t\t\t\t</Auxiliary>\r\n\t\t\t)\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trenderModalAdd() {\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\tonClick={this.handleShow}\r\n\t\t\t\t\tclassName={\"mb-3\"}\r\n\t\t\t\t>\r\n\t\t\t\t\tAdd New Category\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal className={classes.ModalAdd} show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"align-items-center\">\r\n\t\t\t\t\t\t<Modal.Title>Add Category:</Modal.Title>\r\n\t\t\t\t\t\t<h3 className=\"error text-danger text-center\" >{this.props.error ? this.props.error.message : null}</h3>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={classes.modalBodyCategoriesAdd} >\r\n\r\n\t\t\t\t\t\t<div className={classes.CategoriesAdd}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"mx-auto d-flex flex-column\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"text-center\">Наявні категорії:</h3>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`d-inline-block mx-auto border pr-5 overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.existingCategories}`} >\r\n\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.existingCategories()}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<form className={classes.CategoriesAddForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t{this.renderControls()}\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex justify-content-end\">\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\tonClick={this.addCategoryHandler}\r\n\t\t\t\t\t\t\tdisabled={!this.state.isFormValid}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style scrollToTop ${classes.CategoryCreator}`} onScroll={this.props.onScroll} >\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalAdd()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\tisSubcategories: state.products.isSubcategories,\r\n\t\terror: state.products.error\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddNewCategory: obj => dispatch(addNewCategory(obj)),\r\n\t\texistingCategories: () => dispatch(existingCategories()),\r\n\t\tonScroll: () => dispatch(onScroll()),\r\n\t\ttopFunction: () => dispatch(topFunction())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalAdd)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\ModalForCustomers\\ModalEdit\\ModalEdit.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalAddNewField\\ModalAddNewField.js",["317"],"import React, { Component } from 'react'\r\nimport classes from './ModalAddNewField.module.css'\r\nimport Button from '../../../../components/UI/Button/Button'\r\nimport Input from '../../../../components/UI/Input/Input'\r\nimport Select from '../../../../components/UI/Select/Select'\r\nimport { createControl, validate, validateForm } from '../../../../form/formFramework'\r\nimport Auxiliary from '../../../../hoc/Auxiliary/Auxiliary'\r\nimport { Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { addNewFieldProduct } from '../../../../redux/actions/products'\r\n\r\nfunction createFormControls() {\r\n\treturn {\r\n\t\tkey: createControl({\r\n\t\t\tlabel: 'Ключ',\r\n\t\t\terrorMessage: 'Поле з ключом не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\tval: createControl({\r\n\t\t\tlabel: 'Значення',\r\n\t\t\terrorMessage: 'Поле з значенням не повинне бути пустим'\r\n\t\t}, { required: true })\r\n\t}\r\n}\r\n\r\nclass ModalAddNewField extends Component {\r\n\r\n\tstate = {\r\n\t\tvalueSelectedTypeVal: \"Text\",\r\n\t\tisFormValid: false,\r\n\t\tformControls: createFormControls()\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\taddFieldProductHandler = event => {\r\n\r\n\t\tconst { key, val } = this.state.formControls\r\n\r\n\t\tconst selectsForm = [...document.querySelectorAll('select.addOptionToAddField')].map(select => {\r\n\t\t\treturn { name: select.name, value: select.value }\r\n\t\t});\r\n\r\n\t\tconst selectValue = ['typeval']\r\n\r\n\t\tselectsForm.forEach(select => {\r\n\t\t\tif (select.name === 'typeval') {\r\n\t\t\t\tselectValue[0] = select.value\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//        if (val === \"false\" || val === '0' || val === 'null') {\r\n\t\t//            val = false\r\n\t\t//        } else if (val === \"true\") {\r\n\t\t//            val = true\r\n\t\t//        }\r\n\r\n\t\tconst [typeval] = selectValue\r\n\r\n\t\tif (typeval === \"Text\") {\r\n\t\t\tthis.props.addNewFieldProduct({\r\n\t\t\t\tkey: key.value,\r\n\t\t\t\tval: val.value\r\n\t\t\t})\r\n\t\t} else if (typeval === \"Number\") {\r\n\t\t\tthis.props.addNewFieldProduct({\r\n\t\t\t\tkey: key.value,\r\n\t\t\t\tval: +val.value\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tisFormValid: false,\r\n\t\t\tformControls: createFormControls()\r\n\t\t})\r\n\r\n\t\tthis.handleClose()\r\n\r\n\t}\r\n\r\n\tonChangeHandler = (value, controlName) => {\r\n\t\tconst formControls = { ...this.state.formControls }\r\n\t\tconst control = { ...formControls[controlName] }\r\n\r\n\t\tcontrol.value = value\r\n\t\tcontrol.touched = true\r\n\t\tcontrol.valid = validate(control.value, control.validation)\r\n\r\n\t\tformControls[controlName] = control\r\n\r\n\t\tthis.setState({\r\n\t\t\tformControls,\r\n\t\t\tisFormValid: validateForm(formControls)\r\n\t\t})\r\n\t}\r\n\r\n\trenderControls() {\r\n\t\treturn Object.keys(this.state.formControls).map((controlName, index) => {\r\n\t\t\tconst control = this.state.formControls[controlName]\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Auxiliary key={controlName + index}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\t\t\tonChange={event => this.onChangeHandler(event.target.value, controlName)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{ index === 0 ? <hr /> : null}\r\n\t\t\t\t</Auxiliary>\r\n\t\t\t)\r\n\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tselectChangeTypeVal = event => {\r\n\r\n\t\tlet valueSelectedTypeVal = event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedTypeVal\r\n\t\t})\r\n\r\n\t}\r\n\r\n\toptionTypeVal = event => {\r\n\r\n\t\tconst thisTypeValOptions = [{ text: \"Text\", value: \"Text\" }, { text: \"Number\", value: \"Number\" }]\r\n\r\n\t\tlet thisTypeVal\r\n\r\n\t\tthisTypeValOptions.forEach((typeval, index) => {\r\n\r\n\t\t\tif (typeval.value === this.state.valueSelectedTypeVal) {\r\n\t\t\t\tthisTypeVal = typeval\r\n\t\t\t\tthisTypeValOptions.splice(index, 1)\r\n\t\t\t\tthisTypeValOptions.unshift(thisTypeVal)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisTypeValOptions\r\n\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trenderModalAddNewField() {\r\n\r\n\t\tconst selectTypeVal = <Select\r\n\t\t\tlabel=\"Тип значення\"\r\n\t\t\tname=\"typeval\"\r\n\t\t\tclassName=\"addOptionToAddField\"\r\n\t\t\tonChange={this.selectChangeTypeVal}\r\n\t\t\toption={this.optionTypeVal()}\r\n\t\t/>\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\tonClick={this.handleShow}\r\n\t\t\t\t\tclassName={`mb-2 mb-md-3 mr-3 p-2 p-md-3 ${classes.btnOpenModule}`}\r\n\t\t\t\t>\r\n\t\t\t\t\tДодати нове поле\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal className={classes.ProductsModalAddNewField} show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"align-items-center\">\r\n\t\t\t\t\t\t<Modal.Title>Додати нове поле всім продуктам:</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={classes.modalBodyProductsAdd} >\r\n\t\t\t\t\t\t{this.props.error ? <h3 className=\"d-block error text-danger text-center\" >{this.props.error.message}</h3> : null}\r\n\t\t\t\t\t\t<div className=\"p-3 border rounded shadow text-center\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"><b>Ви додаєте нове поле всім продуктам !!!</b></p>\r\n\t\t\t\t\t\t\t<p className=\"text-info\"><b>Обов'язково виберіть тип значення !!!</b></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={classes.ProductsAdd}>\r\n\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t<form className={classes.ProductsAddForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t{this.renderControls()}\r\n\t\t\t\t\t\t\t\t\t{selectTypeVal}\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex justify-content-end\">\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\tonClick={this.addFieldProductHandler}\r\n\t\t\t\t\t\t\tdisabled={!this.state.isFormValid}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tДодати\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.ModalAddNewField}>\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalAddNewField()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\terror: state.products.error\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddNewFieldProduct: obj => dispatch(addNewFieldProduct(obj))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalAddNewField)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsList\\ProductsList.js",["318"],"import React, { Component } from 'react'\r\nimport classes from './ProductsList.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Loader from '../../components/UI/Loader/Loader'\r\nimport Button from '../../components/UI/Button/Button'\r\nimport Product from '../Product/Product'\r\nimport MenuToggle from '../../components/Navigation/MenuToggle/MenuToggle'\r\nimport Drawer from '../../components/Navigation/Drawer/Drawer'\r\nimport { connect } from 'react-redux'\r\nimport { Navbar, Nav, Form, FormControl } from 'react-bootstrap'\r\nimport orderBy from 'lodash/orderBy'\r\nimport { toggleFilterHandler, menuCloseHandler, resetFilter, promotionFilter, categoriesFilter, subcategoriesFilter, filterCondition, setFilterBy, setSearchQuery, setCurrentPage, setTotalProductsCount, changePortionNumber } from '../../redux/actions/products'\r\nimport { onScroll, topFunction } from '../../redux/actions/menu'\r\n\r\nclass ProductsList extends Component {\r\n\r\n\tstate = {\r\n\t\tpromotionFilter: false\r\n\t}\r\n\r\n\trenderCategories() {\r\n\r\n\t\tif (this.props.categories[0]) {\r\n\t\t\treturn this.props.categories.map(сategory => {\r\n\r\n\t\t\t\treturn (\r\n\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tkey={сategory.id}\r\n\t\t\t\t\t\tclassName=\"mr-3 border-top border-bottom liCategory\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto={'/сat/' + сategory.id}\r\n\t\t\t\t\t\t\tclassName={`filter_link ${classes.filter_link_cat}`}\r\n\t\t\t\t\t\t\tdata-categoryid={сategory.id}\r\n\t\t\t\t\t\t\tonClick={event => this.clickFilters({ filter: 'categoriesFilter', event })} >\r\n\t\t\t\t\t\t\t{сategory.name}\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{сategory.subcategories\r\n\t\t\t\t\t\t\t\t? сategory.subcategories.map(subcategory => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\tkey={subcategory.id}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-3 ml-3 liSubcategory\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={'/subcat/' + subcategory.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`filter_link ${classes.filter_link_subcat}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-categoryid={сategory.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-subcategoryid={subcategory.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => this.clickFilters({ filter: 'subcategoriesFilter', event })} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t{subcategory.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\treturn (\r\n\r\n\t\t\t\tthis.props.loading ? <Loader />\r\n\t\t\t\t\t: this.props.error ? <h3 className=\"error text-danger text-center mx-auto\" >{this.props.error.message}</h3> : <h5>Немає категорій!!! </h5>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tsortBy(products, filterBy) {\r\n\r\n\t\tswitch (filterBy) {\r\n\t\t\tcase 'all':\r\n\t\t\t\treturn products\r\n\t\t\tcase 'popularity':\r\n\t\t\t\treturn orderBy(products, 'popularity', 'desc')\r\n\t\t\tcase 'promotion':\r\n\t\t\t\treturn orderBy(products, 'promotion', 'desc')\r\n\t\t\tcase 'price':\r\n\t\t\t\treturn orderBy(products, 'price', 'asc')\r\n\t\t\tcase 'name':\r\n\t\t\t\treturn orderBy(products, 'name', 'asc')\r\n\t\t\tdefault:\r\n\t\t\t\treturn products\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfilterProducts(products, searchQuery) {\r\n\r\n\t\treturn products.filter(product => product.name.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tsearchProducts(products, searchQuery, filterBy) {\r\n\r\n\t\treturn this.sortBy(this.filterProducts(products, searchQuery), filterBy)\r\n\r\n\t}\r\n\r\n\trenderProducts() {\r\n\r\n\t\tif (this.props.selectedProducts[0] === null) {\r\n\t\t\treturn <h3 className=\"mx-auto text-danger m-5\">В даній категорії немає продуктів</h3>\r\n\t\t} else {\r\n\t\t\tif (this.props.products[0]) {\r\n\r\n\t\t\t\tconst productsForCustomers = this.searchProducts(orderBy(this.props.products, ['promotion', 'price', 'name'], ['desc', 'asc', 'desc']), this.props.searchQuery, this.props.filterBy).filter(prod => this.props.filterCondition(prod, this.props.filterProps)).map(product => {\r\n\r\n\t\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\t<Product key={product.id} name={product.name} price={product.price} units={product.units} stepunits={product.stepunits} quantity={product.quantity} describe={product.describe} image={product.image} id={product.id} promotion={product.promotion} />\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (productsForCustomers.length) {\r\n\r\n\t\t\t\t\tconst selectProductsForCustomers = productsForCustomers.splice((this.props.currentPage - 1) * this.props.pageSize, this.props.pageSize)\r\n\r\n\t\t\t\t\treturn selectProductsForCustomers\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center align-self-center align-self-md-start\">\r\n\t\t\t\t\t\t\t<h4 className=\"mx-auto text-center text-danger\">В даній категорії немає таких товарів !!! </h4>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.props.loading ? <Loader />\r\n\t\t\t\t\t\t: this.props.error ? <h3 className=\"error text-danger text-center mx-auto\" >{this.props.error.message}</h3> : <h2 className=\"mx-auto text-center\">В магазинів немає товарів !!! </h2>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\tclickFilters = obj => {\r\n\r\n\t\tconst { filter, event } = obj\r\n\r\n\t\tif (filter === 'resetFilter') {\r\n\r\n\t\t\tthis.props.resetFilter()\r\n\t\t\tthis.props.changePortionNumber(1)\r\n\t\t\tthis.props.setFilterBy('popularity')\r\n\r\n\t\t\tconst sortLinks = [...document.querySelectorAll('.aSort .nav-link')]\r\n\t\t\tsortLinks.forEach(link => {\r\n\t\t\t\tlink.classList.remove('active')\r\n\t\t\t})\r\n\r\n\t\t\tconst sortLinksThis = [...document.querySelectorAll(`.nav-link[name = popularity]`)]\r\n\t\t\tsortLinksThis.forEach(link => {\r\n\t\t\t\tlink.classList.add('active')\r\n\t\t\t})\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tpromotionFilter: false,\r\n\r\n\t\t\t})\r\n\r\n\t\t} else if (filter === 'promotionFilter') {\r\n\t\t\tconst promotionLinks = [...document.querySelectorAll('.promotionFilter')]\r\n\r\n\t\t\tpromotionLinks.forEach(link => {\r\n\t\t\t\tlink.classList.toggle('active')\r\n\t\t\t})\r\n\r\n\t\t\tlet status\r\n\t\t\tthis.props.changePortionNumber(1)\r\n\t\t\tif (this.state.promotionFilter === false) {\r\n\t\t\t\tstatus = true\r\n\t\t\t\tconsole.log(status)\r\n\t\t\t\tthis.props.promotionFilter({ status })\r\n\t\t\t\tthis.setState({ promotionFilter: true })\r\n\t\t\t} else {\r\n\t\t\t\tstatus = false\r\n\t\t\t\tconsole.log(status)\r\n\t\t\t\tthis.props.promotionFilter({ status })\r\n\t\t\t\tthis.setState({ promotionFilter: false })\r\n\t\t\t}\r\n\t\t} else if (filter === 'categoriesFilter') {\r\n\t\t\tthis.props.categoriesFilter({ categoryid: +event.target.dataset.categoryid, products: this.props.products })\r\n\t\t\tthis.props.changePortionNumber(1)\r\n\t\t\tthis.setState({\r\n\t\t\t\tpromotionFilter: false\r\n\t\t\t})\r\n\r\n\t\t} else if (filter === 'subcategoriesFilter') {\r\n\t\t\tthis.props.subcategoriesFilter({ categoryid: +event.target.dataset.categoryid, subcategoryid: +event.target.dataset.subcategoryid, products: this.props.products })\r\n\t\t\tthis.props.changePortionNumber(1)\r\n\t\t\tthis.setState({\r\n\t\t\t\tpromotionFilter: false\r\n\t\t\t})\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tsetSearchQuery(e) {\r\n\r\n\t\tif (this.props.products[0]) {\r\n\r\n\t\t\tconst productsForCustomers = this.searchProducts(orderBy(this.props.products, ['promotion', 'price', 'name'], ['desc', 'asc', 'desc']), e, this.props.filterBy).filter(prod => this.props.filterCondition(prod, this.props.filterProps)).map(product => true)\r\n\r\n\t\t\tconst totalProductsCount = productsForCustomers.length\r\n\r\n\t\t\tthis.props.setSearchQuery(e, totalProductsCount)\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tlet pageSize = this.props.pageSize\r\n\t\tlet totalProductsCount = this.props.totalProductsCount\r\n\t\tlet pagesCount = Math.ceil(totalProductsCount / pageSize)\r\n\r\n\t\tlet portionSize = this.props.portionSize\r\n\t\tlet portionCount = Math.ceil(pagesCount / portionSize)\r\n\t\tlet portionNumber = this.props.portionNumber\r\n\t\tlet leftPortionNumber = (portionNumber - 1) * portionSize + 1\r\n\t\tlet rightPortionNumber = portionNumber * portionSize\r\n\r\n\t\tlet pages = []\r\n\r\n\t\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\t\tpages.push(i);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={`row h-100 flex-column flex-md-row ${classes.ProductsList}`}>\r\n\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tisOpen={this.props.filter}\r\n\t\t\t\t\tonClose={this.props.menuCloseHandler}\r\n\t\t\t\t\tlinks={this.props.categories}\r\n\t\t\t\t\tnameDrawer=\"Категорії\"\r\n\t\t\t\t\tonToggle={this.props.toggleFilterHandler}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className={`d-none position-relative d-md-block col-md-3 pl-5 pl-md-3 ${classes.blockCategory}`}>\r\n\r\n\t\t\t\t\t{this.props.categories[0]\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<div className={`position-absolute ${classes.topFilters}`}>\r\n\t\t\t\t\t\t\t<h3>Категорії</h3>\r\n\t\t\t\t\t\t\t<span className={`d-inline-block mb-3 ${classes.resetFilter}`} onClick={event => this.clickFilters({ filter: 'resetFilter', event })} >Скинути фільтри <i className=\"ml-1 ml-lg-0 fa fa-hand-pointer-o\" aria-hidden=\"true\"></i></span>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<span className={`d-inline-block mb-3 promotionFilter ${classes.promotionFilter}`} onClick={event => this.clickFilters({ filter: 'promotionFilter', event })} >Акції <i className=\"ml-1 ml-lg-0 fa fa-hand-pointer-o\" aria-hidden=\"true\"></i></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t: <h3>Категорії</h3>}\r\n\r\n\t\t\t\t\t<ul className={`d-flex d-md-block overflow-auto webkit_scrollbar_width webkit_scrollbar_style renderCategories ${classes.renderCategories}`}>\r\n\t\t\t\t\t\t{this.renderCategories()}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t<div className={`col col-md-9  px-3 ${classes.blockProducts}`}>\r\n\r\n\t\t\t\t\t<div className=\"d-md-none d-flex flex-column rounded filterToggle\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center menuToggle\">\r\n\t\t\t\t\t\t\t<MenuToggle\r\n\t\t\t\t\t\t\t\tonToggle={this.props.toggleFilterHandler}\r\n\t\t\t\t\t\t\t\tisOpen={this.props.filter}\r\n\t\t\t\t\t\t\t\ticonOpen=\"fa-hand-pointer-o\"\r\n\t\t\t\t\t\t\t\ticonClose=\"fa-hand-pointer-o\"\r\n\t\t\t\t\t\t\t\tclassName=\"text-center\"\r\n\t\t\t\t\t\t\t\tnameToggle=\"Каталог товарів\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Navbar className={`w-100 border d-md-flex flex-md-column align-items-start navbarSort ${classes.navbarSortMob}`} collapseOnSelect expand=\"md\" bg=\"light\" variant=\"light\">\r\n\r\n\t\t\t\t\t\t\t<Navbar.Brand href=\"#sort\" className=\"font-weight-bold\">Сортування по:</Navbar.Brand>\r\n\t\t\t\t\t\t\t<Navbar.Toggle className={`btnToggleSort`} aria-controls=\"responsive-navbar-nav\" />\r\n\t\t\t\t\t\t\t<Navbar.Collapse className={`w-100 d-md-flex justify-content-between bg-light`} id=\"responsive-navbar-nav\" >\r\n\t\t\t\t\t\t\t\t<Nav className=\"mr-auto aSortMobile aSort\">\r\n\t\t\t\t\t\t\t\t\t<Nav.Link href=\"#sort_by_popularity\" name=\"popularity\" onClick={this.props.setFilterBy.bind(this, 'popularity')}>Популярні</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link href=\"#sort_by_promotion\" name=\"promotion\" onClick={this.props.setFilterBy.bind(this, 'promotion')}>Акція</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link href=\"#sort_by_price\" name=\"price\" onClick={this.props.setFilterBy.bind(this, 'price')}>Ціна</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link href=\"#sort_by_name\" name=\"name\" onClick={this.props.setFilterBy.bind(this, 'name')}>Назва</Nav.Link>\r\n\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t\t\t</Navbar>\r\n\t\t\t\t\t\t<Navbar className={`w-100 border position-relative searchBooks`} collapseOnSelect expand=\"md\" bg=\"light\" variant=\"light\">\r\n\t\t\t\t\t\t\t<Nav className={`w-100 position-relative`}>\r\n\t\t\t\t\t\t\t\t<FormControl type=\"text\" value={this.props.searchQuery} placeholder=\"Пошук товарів\" className=\"w-100\" onChange={e => this.setSearchQuery(e.target.value)} />\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t</Navbar>\r\n\t\t\t\t\t\t<div className={`mb-1 bg-light d-flex justify-content-center align-items-center ${classes.pagination}`} >\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tportionNumber > 1 ?\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.changePortionNumber(portionNumber - 1)}\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-success ${classes.arrow_pagination}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpages.filter(p => p >= leftPortionNumber && p <= rightPortionNumber).map(p => {\r\n\t\t\t\t\t\t\t\t\treturn <span key={p + Math.random()} className={this.props.currentPage === p ? classes.selectedPage : null} onClick={() => this.props.setCurrentPage(p)} >{p}</span>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tportionCount > portionNumber ?\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.changePortionNumber(portionNumber + 1)}\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-success ${classes.arrow_pagination}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{this.props.loading\r\n\r\n\t\t\t\t\t\t? <Loader />\r\n\t\t\t\t\t\t: <div className={`row align-items-start px-3 overflow-auto webkit_scrollbar_width webkit_scrollbar_style scrollToTop ${classes.Products}`} onScroll={this.props.onScroll}>\r\n\r\n\r\n\t\t\t\t\t\t\t<Navbar className={`w-100 border d-none d-md-flex flex-md-column align-items-start navbarSort ${classes.navbarSort}`} collapseOnSelect expand=\"md\" bg=\"light\" variant=\"light\">\r\n\t\t\t\t\t\t\t\t<Navbar.Brand href=\"#sort\" className=\"font-weight-bold\">Сортування по:</Navbar.Brand>\r\n\t\t\t\t\t\t\t\t<Navbar.Toggle className={`btnToggleSort`} aria-controls=\"responsive-navbar-nav\" />\r\n\t\t\t\t\t\t\t\t<Navbar.Collapse className={`w-100 d-md-flex justify-content-between align-items-center`} id=\"responsive-navbar-nav\">\r\n\t\t\t\t\t\t\t\t\t<Nav className=\"mr-auto aSortDesktop aSort\">\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"#sort_by_popularity\" name=\"popularity\" onClick={this.props.setFilterBy.bind(this, 'popularity')}>Популярні</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"#sort_by_promotion\" name=\"promotion\" onClick={this.props.setFilterBy.bind(this, 'promotion')}>Акція</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"#sort_by_price\" name=\"price\" onClick={this.props.setFilterBy.bind(this, 'price')}>Ціна</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<Nav.Link href=\"#sort_by_name\" name=\"name\" onClick={this.props.setFilterBy.bind(this, 'name')}>Назва</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t\t<Nav className={`position-relative`}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl type=\"text\" value={this.props.searchQuery} placeholder=\"Пошук товарів\" className=\"mr-2\" onChange={e => this.setSearchQuery(e.target.value)} />\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t\t\t\t\t<div className={`w-100 bg-light d-flex justify-content-center align-items-center ${classes.pagination_md}`} >\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tportionNumber > 1 ?\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.changePortionNumber(portionNumber - 1)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-success ${classes.arrow_pagination}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t: null\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpages.filter(p => p >= leftPortionNumber && p <= rightPortionNumber).map(p => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <span key={p + Math.random()} className={this.props.currentPage === p ? classes.selectedPage : null} onClick={() => this.props.setCurrentPage(p)} >{p}</span>\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tportionCount > portionNumber ?\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.changePortionNumber(portionNumber + 1)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-success ${classes.arrow_pagination}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t: null\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Navbar>\r\n\r\n\r\n\t\t\t\t\t\t\t{this.renderProducts()}\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t\t\tid={'goToTop'}\r\n\t\t\t\t\t\t\t\tonClick={this.props.topFunction}\r\n\t\t\t\t\t\t\t\tclassName={`btn btn-danger ${classes.btnTop}`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tcustomers: state.inform.customers,\r\n\t\tnameShop: state.inform.nameShop,\r\n\t\torders: state.products.orders,\r\n\t\tproducts: state.products.products,\r\n\t\tidLastProduct: state.products.idLastProduct,\r\n\t\tcategories: state.products.categories,\r\n\t\tselectedProducts: state.products.selectedProducts,\r\n\t\tloading: state.products.loading,\r\n\t\tfilter: state.products.filter,\r\n\t\tfilterBy: state.products.filterBy,\r\n\t\tsearchQuery: state.products.searchQuery,\r\n\t\tcustomerId: state.inform.customerId,\r\n\t\tfilterProps: state.products.filterProps,\r\n\t\terror: state.products.error,\r\n\t\tpageSize: state.products.pageSize,\r\n\t\ttotalProductsCount: state.products.totalProductsCount,\r\n\t\tcurrentPage: state.products.currentPage,\r\n\t\tportionSize: state.products.portionSize,\r\n\t\tportionNumber: state.products.portionNumber\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\ttoggleFilterHandler: () => dispatch(toggleFilterHandler()),\r\n\t\tmenuCloseHandler: () => dispatch(menuCloseHandler()),\r\n\t\tcategoriesFilter: obj => dispatch(categoriesFilter(obj)),\r\n\t\tsubcategoriesFilter: obj => dispatch(subcategoriesFilter(obj)),\r\n\t\tresetFilter: () => dispatch(resetFilter()),\r\n\t\tpromotionFilter: obj => dispatch(promotionFilter(obj)),\r\n\t\tonScroll: () => dispatch(onScroll()),\r\n\t\ttopFunction: () => dispatch(topFunction()),\r\n\t\tfilterCondition: (objproduct, objprops) => dispatch(filterCondition(objproduct, objprops)),\r\n\t\tsetFilterBy: val => dispatch(setFilterBy(val)),\r\n\t\tsetSearchQuery: (val, totalProductsCount) => dispatch(setSearchQuery(val, totalProductsCount)),\r\n\t\tsetCurrentPage: currentPage => dispatch(setCurrentPage(currentPage)),\r\n\t\tsetTotalProductsCount: totalProductsCount => dispatch(setTotalProductsCount(totalProductsCount)),\r\n\t\tchangePortionNumber: portionNumber => dispatch(changePortionNumber(portionNumber))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsList)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\products.js",["319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334"],"import { FETCH_PRODUCTS_DATA_START, FETCH_PRODUCTS_DATA_SUCCESS, FETCH_PRODUCTS_DATA_ERROR, TOGGLE_FILTER_HANDLER, MENU_CLOSE_HANDLER, ON_SELECTED_PRODUCTS, ON_SELECTED_PRODUCTS_ADMIN, RESET_FILTERS, RESET_FILTERS_ADMIN, UPDATE_IS_SUBCATEGORY, UPDATE_ORDERS, UPDATE_ORDERS_HISTORY, UPDATEPRODUCTS, UPDATE_PRODUCTS_DELETED, UPDATECATEGORIES, UPDATE_IS_ORDERS_THIS_CART, UPDATE_IS_ORDERS_HISTORY_THIS_CART, UPDATE_FILTER_PROPS, UPDATE_FILTER_PROPS_ADMIN, UPDATE_IS_QUANT_PROD_IN_DB, SET_FILTER_BY, SET_SEARCH_QUERY, SET_CURRENT_PAGE, SET_TOTAL_PRODUCTS_COUNT, CHANGE_PORTION_NUMBER } from './actionTypes'\nimport axios from '../../axios/axios-quiz'\nimport firebase from 'firebase'\nimport classes from '../../containers/Cart/Cart.module.css'\nimport Input from '../../components/UI/Input/Input'\nimport { NavLink } from 'react-router-dom'\n\nexport function fetchProductsData() {\n\treturn async dispatch => {\n\n\t\tdispatch(fetchProductsDataStart())\n\n\t\ttry {\n\n\t\t\tconst responseCategories = await axios.get('categories.json')\n\n\t\t\tconst categoriesData = responseCategories.data\n\n\t\t\tconst responseProducts = await axios.get('products.json')\n\n\t\t\tconst products = responseProducts.data\n\n\t\t\tdispatch(setTotalProductsCount(products.length))\n\n\t\t\tconst responseProductsDeleted = await axios.get('productsDeleted.json')\n\n\t\t\tconst productsDeleted = responseProductsDeleted.data\n\n\n\t\t\tconst responseOrders = await axios.get('orders.json')\n\n\t\t\tconst ordersData = responseOrders.data\n\n\t\t\tconst responseOrdersHistory = await axios.get('ordersHistory.json')\n\n\t\t\tconst ordersHistoryData = responseOrdersHistory.data\n\n\t\t\tdispatch(fetchProductsDataSuccess(categoriesData, products, productsDeleted, ordersData, ordersHistoryData))\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchProductsDataError(e))\n\t\t}\n\t}\n}\n\nexport function fetchProductsDataStart() {\n\treturn {\n\t\ttype: FETCH_PRODUCTS_DATA_START\n\t}\n}\n\nexport function fetchProductsDataSuccess(categories, products, productsDeleted, orders, ordersHistory) {\n\treturn {\n\t\ttype: FETCH_PRODUCTS_DATA_SUCCESS,\n\t\tpayload: { categories, products, productsDeleted, orders, ordersHistory }\n\t}\n}\n\nexport function fetchProductsDataError(e) {\n\treturn {\n\t\ttype: FETCH_PRODUCTS_DATA_ERROR,\n\t\terror: e\n\t}\n}\n\nexport function getIndexCategory(idCategory, categories) {\n\n\tlet indexCategory\n\n\tconst category = categories.filter((category, index) => {\n\n\t\tif (category.id === idCategory) {\n\t\t\tindexCategory = index\n\t\t}\n\n\t\treturn category.id === idCategory\n\n\t})[0]\n\n\treturn indexCategory\n}\n\nfunction getCategory(indexCategory, categories) {\n\n\tconst category = categories[indexCategory]\n\n\treturn category\n}\n\nexport function getIsSubcategories(indexCategory, categories) {\n\n\tlet isSubcategories = Object.keys(categories[indexCategory]).filter(category => category === \"subcategories\")[0] ? true : false\n\n\treturn isSubcategories\n}\n\nfunction getSubcategories(indexCategory, categories) {\n\n\tconst subcategories = categories[indexCategory].subcategories\n\n\treturn subcategories\n}\n\nfunction getIndexSubcategory(idSubcategory, subcategories) {\n\tlet indexSubcategory\n\tlet subcategory = subcategories.filter((subcategory, index) => {\n\n\t\tif (subcategory.id === idSubcategory) {\n\t\t\tindexSubcategory = index\n\t\t}\n\n\t\treturn subcategory.id === idSubcategory\n\n\t})[0]\n\n\treturn indexSubcategory\n}\n\nexport function fetchIsSubcategories(idCategory = 0) {\n\treturn async dispatch => {\n\n\t\tconst responseCategories = await axios.get('categories.json')\n\t\tconst categories = responseCategories.data\n\n\t\tlet indexCategory = getIndexCategory(idCategory, categories)\n\n\t\tlet isSubcategories = getIsSubcategories(indexCategory, categories)\n\n\t\tdispatch(updateIsSubcategory(isSubcategories))\n\t}\n}\n\nexport function updateIsSubcategory(isSubcategories) {\n\treturn {\n\t\ttype: UPDATE_IS_SUBCATEGORY,\n\t\tisSubcategories\n\t}\n}\n\nexport function addNewProduct(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { name, category, subcategory, price, promotion, units, stepunits, quantity, describe, image, visibleproduct } = obj\n\n\t\tlet idLastProduct = -1\n\n\t\tconst responseIdLastProduct = await axios.get('idLastProduct.json')\n\t\tconst idLastProductData = responseIdLastProduct.data\n\n\t\tif (idLastProductData !== null) {\n\t\t\tidLastProduct = idLastProductData\n\t\t}\n\n\t\t//        const products = [...getState().products.products]\n\n\t\t//        if (products[0]) {                \n\t\t//            idLastProduct = idLastProductData\n\t\t//        } else {\n\t\t//            idLastProduct = -1\n\t\t//        } \n\n\t\tlet idThisProduct = idLastProduct + 1\n\n\t\tconst products = [...getState().products.products]\n\n\t\tconst existingNameProduct = products.filter(product => product.category === category && product.subcategory === subcategory && product.name.toLowerCase() === name.toLowerCase())[0] ? true : false\n\n\n\t\tif (!existingNameProduct) {\n\t\t\tconst productItem = {\n\t\t\t\tname,\n\t\t\t\tcategory,\n\t\t\t\tsubcategory,\n\t\t\t\tprice,\n\t\t\t\tunits,\n\t\t\t\tstepunits,\n\t\t\t\tquantity,\n\t\t\t\tdescribe,\n\t\t\t\timage,\n\t\t\t\tid: idThisProduct,\n\t\t\t\tchecked: false,\n\t\t\t\tpromotion,\n\t\t\t\tpopularity: 0,\n\t\t\t\tvisibleproduct,\n\t\t\t\tvisibleproductAdmin: true\n\t\t\t}\n\n\n\t\t\ttry {\n\n\t\t\t\t//            await axios.post('products.json', this.state.products)      \n\n\t\t\t\tconst db = firebase.database()\n\t\t\t\tdb.ref(`products/${products.length}`).set(productItem)\n\t\t\t\tdb.ref(`idLastProduct`).set(idThisProduct)\n\n\t\t\t} catch (e) {\n\t\t\t\tdispatch(fetchProductsDataError(e))\n\t\t\t}\n\n\t\t\t//        axios.post('products.json', this.state.product)\n\t\t\t//        .then(response => console.log(response))\n\t\t\t//        .catch(error => console.log(error))\n\n\t\t\tproducts.push(productItem)\n\n\t\t\tdispatch(updateProducts(products))\n\t\t} else {\n\t\t\talert(\"Вибачте, в даній підкатегорії продукт з такою назвою вже існує!\")\n\t\t}\n\n\n\t}\n}\n\nexport function addNewFieldProduct(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { key, val } = obj\n\n\n\t\tconst products = [...getState().products.products]\n\n\t\tconsole.log('key', key)\n\t\tconsole.log('val', val)\n\n\t\tconst newProducts = products.map(product => {\n\n\t\t\tproduct[key] = val\n\t\t\tproduct.checked = false\n\n\t\t\treturn product\n\t\t})\n\n\t\tconsole.log('newProducts', newProducts)\n\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`products`).set(newProducts)\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchProductsDataError(e))\n\t\t}\n\n\t\tdispatch(updateProducts(newProducts))\n\n\t}\n}\n\nexport function removeFieldProduct(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { key } = obj\n\n\n\t\tconst products = [...getState().products.products]\n\n\t\tconsole.log('key', key)\n\n\t\tconst newProducts = products.map(product => {\n\n\t\t\tdelete product[key]\n\n\t\t\treturn product\n\t\t})\n\n\t\tconsole.log('newProducts', newProducts)\n\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`products`).set(newProducts)\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchProductsDataError(e))\n\t\t}\n\n\t\tdispatch(updateProducts(newProducts))\n\n\t}\n}\n\nexport function editFieldProduct(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { key, val } = obj\n\n\n\t\tconst products = [...getState().products.products]\n\n\t\tconsole.log('key', key)\n\t\tconsole.log('val', val)\n\n\t\tconst newProducts = products.map(product => {\n\n\t\t\tif (product.checked === true) {\n\t\t\t\tproduct[key] = val\n\t\t\t\tproduct.checked = false\n\t\t\t\tconsole.log('product', product)\n\t\t\t}\n\n\t\t\treturn product\n\t\t})\n\n\t\tconsole.log('newProducts', newProducts)\n\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`products`).set(newProducts)\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchProductsDataError(e))\n\t\t}\n\n\t\tdispatch(updateProducts(newProducts))\n\n\t}\n}\n\n\nexport function editProduct(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { id, name, category, subcategory, price, quantity, describe, image, units, stepunits, visibleproduct, promotion } = obj\n\n\t\tconst productItem = {\n\t\t\tname,\n\t\t\tcategory,\n\t\t\tsubcategory,\n\t\t\tprice,\n\t\t\tunits,\n\t\t\tstepunits,\n\t\t\tquantity,\n\t\t\tdescribe,\n\t\t\timage,\n\t\t\tid,\n\t\t\tchecked: false,\n\t\t\tpromotion,\n\t\t\tvisibleproduct,\n\t\t\tvisibleproductAdmin: true\n\t\t}\n\n\t\tconst products = [...getState().products.products]\n\n\t\tlet indexProducts\n\n\t\tconst product = products.filter((product, index) => {\n\n\t\t\tif (product.id === id) {\n\t\t\t\tindexProducts = index\n\n\t\t\t}\n\n\t\t\treturn product.id === id\n\n\t\t})\n\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`products/${indexProducts}`).set(productItem)\n\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchProductsDataError(e))\n\t\t}\n\n\t\tproducts[indexProducts] = productItem\n\n\t\tdispatch(updateProducts(products))\n\n\t\tdocument.querySelector(`input[name = price_product_${id}]`).value = price\n\t}\n}\n\nexport function editCategory(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { id, name, describe, image } = obj\n\n\n\t\tconst categories = [...getState().products.categories]\n\n\t\tconst indexCategory = getIndexCategory(id, categories)\n\t\tconst subcategories = getSubcategories(indexCategory, categories)\n\n\t\tconst categoryItem = {\n\t\t\tname,\n\t\t\tdescribe,\n\t\t\timage,\n\t\t\tid,\n\t\t\tchecked: false,\n\t\t\tsubcategories\n\t\t}\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`categories/${indexCategory}`).set(categoryItem)\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchProductsDataError(e))\n\t\t}\n\n\t\tcategories[indexCategory] = categoryItem\n\n\t\tdispatch(updateCategories(categories))\n\n\t}\n}\n\nexport function editSubcategory(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { idThisCategory, idThisSubcategory, name, describe, image } = obj\n\n\n\t\tconst categories = [...getState().products.categories]\n\t\tconst indexCategory = getIndexCategory(idThisCategory, categories)\n\t\tconst subcategories = getSubcategories(indexCategory, categories)\n\t\tconst indexSubcategory = getIndexSubcategory(idThisSubcategory, subcategories)\n\t\t//        console.log('editSubcategory_categories', categories)\n\t\t//        console.log('editSubcategory_indexCategory', indexCategory)\n\t\t//        console.log('editSubcategory_subcategories', subcategories)\n\t\t//        console.log('editSubcategory_indexSubcategory', indexSubcategory)\n\t\tconst category = getCategory(indexCategory, categories)\n\n\t\tconst subcategoryItem = {\n\t\t\tname,\n\t\t\tdescribe,\n\t\t\timage,\n\t\t\tid: idThisSubcategory,\n\t\t\tchecked: false\n\t\t}\n\n\t\tsubcategories[indexSubcategory] = subcategoryItem\n\n\t\tconst categoryItem = {\n\t\t\tname: category.name,\n\t\t\tdescribe: category.describe,\n\t\t\timage: category.image,\n\t\t\tid: idThisCategory,\n\t\t\tchecked: category.checked,\n\t\t\tsubcategories\n\t\t}\n\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`categories/${indexCategory}`).set(categoryItem)\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchProductsDataError(e))\n\t\t}\n\n\t\tcategories[indexCategory] = categoryItem\n\n\t\tdispatch(updateCategories(categories))\n\n\t}\n}\n\nexport function onChangePrice(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tlet { price, id } = obj\n\n\t\tconst products = [...getState().products.products]\n\n\t\tproducts.forEach(product => {\n\t\t\tif (product.id === id) {\n\t\t\t\tproduct.price = price\n\t\t\t}\n\t\t})\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`products`).set(products)\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t\tdispatch(updateProducts(products))\n\n\t}\n}\n\nexport function onChangeQuantity(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tlet { quantity, id } = obj\n\n\t\tconst products = [...getState().products.products]\n\n\t\tproducts.forEach(product => {\n\t\t\tif (product.id === id) {\n\t\t\t\tproduct.quantity = quantity\n\t\t\t}\n\t\t})\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`products`).set(products)\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t\tdispatch(updateProducts(products))\n\n\t}\n}\n\nexport function onChangePromotion(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tlet { promotion, id } = obj\n\n\t\tconst products = [...getState().products.products]\n\n\t\tproducts.forEach(product => {\n\t\t\tif (product.id === id) {\n\t\t\t\tproduct.promotion = promotion\n\t\t\t}\n\t\t})\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`products`).set(products)\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t\tdispatch(updateProducts(products))\n\n\t}\n}\n\nexport function updateProducts(products) {\n\treturn {\n\t\ttype: UPDATEPRODUCTS,\n\t\tproducts\n\t}\n}\n\nexport function updateProductsDeleted(productsDeleted) {\n\treturn {\n\t\ttype: UPDATE_PRODUCTS_DELETED,\n\t\tproductsDeleted\n\t}\n}\n\nexport function addNewCategory(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { name, describe, image } = obj\n\n\t\tlet idLastCategory = -1\n\n\n\t\tconst categories = [...getState().products.categories]\n\n\t\tif (categories[0]) {\n\n\t\t\tconst isCategory = categories.filter((category, index) => category.name.toLowerCase() === name.toLowerCase())[0]\n\n\t\t\tif (!isCategory) {\n\t\t\t\tconst responseIdLastCategory = await axios.get('idLastCategory.json')\n\t\t\t\tconst idLastCategoryData = responseIdLastCategory.data\n\n\t\t\t\tif (idLastCategoryData !== null) {\n\t\t\t\t\tidLastCategory = idLastCategoryData\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\talert(\"Така категорія вже існує\")\n\t\t\t\treturn\n\t\t\t}\n\n\t\t}\n\n\t\tlet idThisCategory = idLastCategory + 1\n\n\t\tconst categoryItem = {\n\t\t\tname,\n\t\t\tdescribe,\n\t\t\timage,\n\t\t\tid: idThisCategory,\n\t\t\tchecked: false\n\t\t}\n\n\t\tcategories.push(categoryItem)\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`categories/${categories.length - 1}`).set(categoryItem)\n\t\t\tdb.ref(`idLastCategory`).set(idThisCategory)\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t\tdispatch(updateCategories(categories))\n\t}\n}\n\nexport function updateCategories(categories) {\n\treturn {\n\t\ttype: UPDATECATEGORIES,\n\t\tcategories\n\t}\n}\n\nexport function existingCategories() {\n\treturn (dispatch, getState) => {\n\n\t\tconst categories = [...getState().products.categories]\n\n\t\tif (categories[0]) {\n\n\t\t\treturn categories.map((category, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t{category.name}\n\t\t\t\t\t</li>\n\t\t\t\t)\n\t\t\t})\n\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<li>\n\t\t\t\t\tНемає категорій\n\t\t\t\t</li>\n\t\t\t)\n\t\t}\n\n\n\n\t}\n}\n\nexport function existingSubcategories(idCategory) {\n\treturn (dispatch, getState) => {\n\n\t\tconst categories = [...getState().products.categories]\n\n\t\tif (categories[0]) {\n\n\t\t\tconst indexCategory = getIndexCategory(idCategory, categories)\n\t\t\tconst isSubcategories = getIsSubcategories(indexCategory, categories)\n\n\t\t\tif (isSubcategories) {\n\n\t\t\t\tconst subcategories = getSubcategories(indexCategory, categories)\n\n\t\t\t\treturn subcategories.map((subcategory, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t{subcategory.name}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)\n\t\t\t\t})\n\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<li>\n\t\t\t\t\t\tНемає підкатегорій\n\t\t\t\t\t</li>\n\t\t\t\t)\n\t\t\t}\n\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<li>\n\t\t\t\t\tНемає підкатегорій\n\t\t\t\t</li>\n\t\t\t)\n\t\t}\n\n\t}\n}\n\nexport function optionSelectCategory(idCategory) {\n\treturn (dispatch, getState) => {\n\n\t\tconst categories = [...getState().products.categories]\n\n\t\tif (categories[0]) {\n\n\t\t\t//            return categories.map(category => {\n\t\t\t//                return {text: `${category.name}`, value: category.id}\n\t\t\t//            })\n\n\t\t\tconst thisOptions = categories.map(category => {\n\t\t\t\treturn { text: category.name, value: category.id }\n\t\t\t})\n\n\t\t\tlet thisOption\n\n\t\t\tthisOptions.forEach((category, index) => {\n\n\t\t\t\tif (category.value === idCategory) {\n\t\t\t\t\tthisOption = category\n\t\t\t\t\tthisOptions.splice(index, 1)\n\t\t\t\t\tthisOptions.unshift(thisOption)\n\t\t\t\t}\n\n\t\t\t})\n\n\t\t\treturn thisOptions\n\n\t\t} else {\n\t\t\treturn [{ text: \"Немає категорій\", value: \"Немає категорій\" }]\n\t\t}\n\n\t}\n}\n\nexport function addNewSubcategory(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { name, describe, image, idCategory } = obj\n\n\t\tlet idLastSubcategory = -1\n\n\t\tconst categories = [...getState().products.categories]\n\t\tconst indexCategory = getIndexCategory(idCategory, categories)\n\n\t\t//        if(categories[0] && idCategory) {\n\t\tif (categories[0]) {\n\n\t\t\tconst indexCategory = getIndexCategory(idCategory, categories)\n\t\t\tconst isSubcategories = getIsSubcategories(indexCategory, categories)\n\n\t\t\tconst responseIdLastSubcategory = await axios.get('idLastSubcategory.json')\n\t\t\tconst idLastSubcategoryData = responseIdLastSubcategory.data\n\n\t\t\tif (idLastSubcategoryData !== null) {\n\t\t\t\tidLastSubcategory = idLastSubcategoryData\n\t\t\t}\n\n\t\t\tlet idThisSubcategory = idLastSubcategory + 1\n\n\t\t\tif (!isSubcategories) {\n\n\t\t\t\tconst subcategoryItem = [{\n\t\t\t\t\tname,\n\t\t\t\t\tid: idThisSubcategory,\n\t\t\t\t\timage,\n\t\t\t\t\tdescribe,\n\t\t\t\t\tchecked: false\n\t\t\t\t}]\n\n\t\t\t\tcategories[indexCategory].subcategories = subcategoryItem\n\n\t\t\t} else {\n\n\t\t\t\tconst subcategories = getSubcategories(indexCategory, categories)\n\n\t\t\t\tconst isSubcategoryName = subcategories.filter((subcategory, index) => subcategory.name.toLowerCase() === name.toLowerCase())[0] ? true : false\n\n\t\t\t\tif (!isSubcategoryName) {\n\n\t\t\t\t\tconst subcategoryItem = {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tid: idThisSubcategory,\n\t\t\t\t\t\timage,\n\t\t\t\t\t\tdescribe,\n\t\t\t\t\t\tchecked: false\n\t\t\t\t\t}\n\n\t\t\t\t\tcategories[indexCategory].subcategories.push(subcategoryItem)\n\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Така підкатегорія вже існує!\")\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tconst db = firebase.database()\n\t\t\t\tdb.ref(`categories/${indexCategory}`).set(categories[indexCategory])\n\t\t\t\tdb.ref(`idLastSubcategory`).set(idThisSubcategory)\n\n\t\t\t\tdispatch(updateCategories(categories))\n\n\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e)\n\t\t\t}\n\t\t}\n\n\t}\n}\n\nexport function menuCloseHandler() {\n\treturn {\n\t\ttype: MENU_CLOSE_HANDLER\n\t}\n}\n\n// start filter products on main page\n\nexport function toggleFilterHandler() {\n\treturn {\n\t\ttype: TOGGLE_FILTER_HANDLER\n\t}\n}\n\nexport function resetFilter() {\n\treturn async (dispatch, getState) => {\n\n\t\tconst products = getState().products.products\n\t\tconsole.log('products.length', products.length)\n\t\tdispatch(setTotalProductsCount(products.length))\n\n\t\tdispatch(resetFilters())\n\t\tdispatch(updateIsSubcategory(false))\n\n\t}\n}\n\nexport function changePortionNumber(portionNumber) {\n\treturn {\n\t\ttype: CHANGE_PORTION_NUMBER,\n\t\tportionNumber\n\t}\n}\n\nexport function filterCondition(objproduct, objprops) {\n\treturn (dispatch, getState) => {\n\n\t\tlet filterCond = true\n\n\t\tfor (const property in objprops) {\n\n\t\t\tlet condition\n\n\t\t\tif (property === 'promotion') {\n\t\t\t\tif (objprops[property]) {\n\t\t\t\t\tif (objproduct[property] !== 0) {\n\t\t\t\t\t\tcondition = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcondition = false\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcondition = true\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcondition = objproduct[property] === objprops[property]\n\t\t\t}\n\n\t\t\tif (filterCond === true || filterCond === false) {\n\t\t\t\tlet newCondition = filterCond && condition\n\t\t\t\tfilterCond = newCondition\n\t\t\t} else {\n\t\t\t\tfilterCond = condition\n\t\t\t}\n\t\t}\n\n\t\treturn filterCond\n\t}\n}\n\nexport function categoriesFilter(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\tremoveActiveClass('promotionFilter')\n\n\t\t//selectedProducts:\n\t\tconst products = getState().products.products\n\n\t\tconst { categoryid } = obj\n\n\t\tlet selectedProducts = products.filter(product => product.category === categoryid && product.visibleproduct === true)\n\n\t\tdispatch(onSelectedProducts(selectedProducts))\n\t\tdispatch(setTotalProductsCount(selectedProducts.length))\n\t\tdispatch(setCurrentPage(1))\n\n\t\t//updateFilterProps:        \n\t\tconst filterProps = getState().products.filterProps\n\n\t\tdelete filterProps.promotion\n\t\tdelete filterProps.subcategory\n\t\tfilterProps.category = categoryid\n\n\t\tdispatch(updateFilterProps(filterProps))\n\n\n\t}\n\n}\n\nexport function subcategoriesFilter(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\tremoveActiveClass('promotionFilter')\n\n\t\t//selectedProducts:\n\t\tconst products = getState().products.products\n\n\t\tconst { categoryid, subcategoryid } = obj\n\n\t\tlet selectedProducts = products.filter(product => product.category === categoryid && product.subcategory === subcategoryid && product.visibleproduct === true)\n\n\t\tdispatch(onSelectedProducts(selectedProducts))\n\t\tdispatch(setTotalProductsCount(selectedProducts.length))\n\t\tdispatch(setCurrentPage(1))\n\n\t\t//updateFilterProps:  \n\t\tconst filterProps = getState().products.filterProps\n\n\t\tdelete filterProps.promotion\n\t\tfilterProps.category = categoryid\n\t\tfilterProps.subcategory = subcategoryid\n\n\t\tdispatch(updateFilterProps(filterProps))\n\n\t}\n}\n\nexport function promotionFilter(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\t//        const allLinks = [...document.querySelectorAll('.filter_link')]   \n\t\t//    \n\t\t//        allLinks.forEach(link => {\n\t\t//            link.classList.remove('active')\n\t\t//        })\n\n\t\tconst { status } = obj\n\n\t\t//selectedProducts:\n\t\tconst products = getState().products.products\n\n\t\tlet selectedProducts\n\n\t\tif (status) {\n\t\t\tselectedProducts = products.filter(product => product.promotion !== 0)\n\t\t} else {\n\t\t\tselectedProducts = products.filter(product => product.promotion >= 0)\n\t\t}\n\n\t\tdispatch(onSelectedProducts(selectedProducts))\n\t\tdispatch(setTotalProductsCount(selectedProducts.length))\n\t\tdispatch(setCurrentPage(1))\n\n\t\t//updateFilterProps:        \n\t\tconst filterProps = getState().products.filterProps\n\n\t\t//        delete filterProps.subcategory\n\t\t//        delete filterProps.category\n\t\tfilterProps.promotion = status\n\n\t\tdispatch(updateFilterProps(filterProps))\n\n\n\t}\n\n}\n\nexport function updateFilterProps(filterProps) {\n\treturn {\n\t\ttype: UPDATE_FILTER_PROPS,\n\t\tfilterProps\n\t}\n}\n\nexport function setFilterBy(val) {\n\n\tconst sortLinks = [...document.querySelectorAll('.aSort .nav-link')]\n\tsortLinks.forEach(link => {\n\t\tlink.classList.remove('active')\n\t})\n\n\tconst sortLinksThis = [...document.querySelectorAll(`.nav-link[name = ${val}]`)]\n\tsortLinksThis.forEach(link => {\n\t\tlink.classList.add('active')\n\t})\n\n\treturn {\n\t\ttype: SET_FILTER_BY,\n\t\tval\n\t}\n}\n\nexport function setSearchQuery(val, totalProductsCount) {\n\treturn {\n\t\ttype: SET_SEARCH_QUERY,\n\t\tval, totalProductsCount\n\t}\n}\n\nexport function resetFilters() {\n\n\tremoveActiveClass('filter_link')\n\tremoveActiveClass('promotionFilter')\n\n\treturn {\n\t\ttype: RESET_FILTERS\n\t}\n}\n\nexport function onSelectedProducts(selectedProducts) {\n\n\tif (selectedProducts.length) {\n\t\treturn {\n\t\t\ttype: ON_SELECTED_PRODUCTS,\n\t\t\tpayload: { selectedProducts }\n\t\t}\n\t} else {\n\n\t\treturn {\n\t\t\ttype: ON_SELECTED_PRODUCTS,\n\t\t\tpayload: { selectedProducts: [null] }\n\t\t}\n\t}\n}\n\n// end filter products on main page\n\n\n// start filter products on admin products page\n\nexport function filterConditionAdmin(objproduct, objprops) {\n\treturn (dispatch, getState) => {\n\n\t\tlet filterCond = true\n\n\t\tfor (const property in objprops) {\n\n\t\t\tlet condition\n\n\t\t\tif (property === 'popularity') {\n\n\t\t\t\tif (objprops[property]) {\n\t\t\t\t\tif (objproduct[property] !== 0) {\n\t\t\t\t\t\tcondition = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcondition = false\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcondition = true\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tcondition = objproduct[property] === objprops[property]\n\t\t\t}\n\n\t\t\tif (filterCond === true || filterCond === false) {\n\t\t\t\tlet newCondition = filterCond && condition\n\t\t\t\tfilterCond = newCondition\n\t\t\t} else {\n\t\t\t\tfilterCond = condition\n\t\t\t}\n\t\t}\n\n\t\treturn filterCond\n\t}\n}\n\nexport function visibleFilterAdmin(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\tconst products = getState().products.products\n\n\t\tconst { visibleproduct } = obj\n\n\t\tlet selectedProductsAdmin = products.filter(product => product.visibleproduct === visibleproduct)\n\n\t\tdispatch(onSelectedProductsAdmin(selectedProductsAdmin))\n\n\t\t//updateFilterPropsAdmin:        \n\t\tconst filterPropsAdmin = getState().products.filterPropsAdmin\n\n\t\tremoveActiveClass('popularityFilterAdmin')\n\t\tdelete filterPropsAdmin.popularity\n\t\tfilterPropsAdmin.visibleproduct = visibleproduct\n\n\t\tdispatch(updateFilterPropsAdmin(filterPropsAdmin))\n\n\t}\n}\n\nexport function unitFilterAdmin(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\tconst products = getState().products.products\n\n\t\tconst { units } = obj\n\n\t\tlet selectedProductsAdmin = products.filter(product => product.units === units)\n\n\t\tdispatch(onSelectedProductsAdmin(selectedProductsAdmin))\n\n\t\t//updateFilterPropsAdmin:        \n\t\tconst filterPropsAdmin = getState().products.filterPropsAdmin\n\n\t\tremoveActiveClass('popularityFilterAdmin')\n\t\tdelete filterPropsAdmin.popularity\n\t\tfilterPropsAdmin.units = units\n\n\t\tdispatch(updateFilterPropsAdmin(filterPropsAdmin))\n\n\t}\n}\n\nexport function promotionFilterAdmin(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\tconst products = getState().products.products\n\n\t\tconst { promotion } = obj\n\n\t\tlet selectedProductsAdmin = products.filter(product => product.promotion === promotion)\n\n\t\tdispatch(onSelectedProductsAdmin(selectedProductsAdmin))\n\n\t\t//updateFilterPropsAdmin:        \n\t\tconst filterPropsAdmin = getState().products.filterPropsAdmin\n\n\t\tremoveActiveClass('popularityFilterAdmin')\n\t\tdelete filterPropsAdmin.popularity\n\t\tfilterPropsAdmin.promotion = promotion\n\n\t\tdispatch(updateFilterPropsAdmin(filterPropsAdmin))\n\n\t}\n}\n\nexport function categoriesFilterAdmin(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\t//selectedProductsAdmin:\n\t\tconst products = getState().products.products\n\t\tconst categories = getState().products.categories\n\n\t\tconst { categoryid } = obj\n\n\t\tconst indexCategory = getIndexCategory(categoryid, categories)\n\n\t\t//        const subcategoryid = categories[indexCategory].subcategories[0].id\n\n\t\tlet selectedProductsAdmin = products.filter(product => product.category === categoryid)\n\n\t\tdispatch(onSelectedProductsAdmin(selectedProductsAdmin))\n\n\t\t//updateFilterPropsAdmin:        \n\t\tconst filterPropsAdmin = getState().products.filterPropsAdmin\n\n\t\tremoveActiveClass('popularityFilterAdmin')\n\t\tdelete filterPropsAdmin.popularity\n\t\tfilterPropsAdmin.category = categoryid\n\t\t//        filterPropsAdmin.subcategory = subcategoryid\n\n\t\tdispatch(updateFilterPropsAdmin(filterPropsAdmin))\n\n\t}\n\n}\n\nexport function subcategoriesFilterAdmin(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\t//selectedProductsAdmin:\n\t\tconst products = getState().products.products\n\n\t\tconst { categoryid, subcategoryid } = obj\n\n\t\tlet selectedProductsAdmin = products.filter(product => product.category === categoryid && product.subcategory === subcategoryid)\n\n\t\tdispatch(onSelectedProductsAdmin(selectedProductsAdmin))\n\n\n\t\t//updateFilterPropsAdmin:  \n\t\tconst filterPropsAdmin = getState().products.filterPropsAdmin\n\n\t\tremoveActiveClass('popularityFilterAdmin')\n\t\tdelete filterPropsAdmin.popularity\n\t\tfilterPropsAdmin.category = categoryid\n\t\tfilterPropsAdmin.subcategory = subcategoryid\n\n\t\tdispatch(updateFilterPropsAdmin(filterPropsAdmin))\n\n\t}\n}\n\nexport function popularityFilterAdmin(obj) {\n\n\treturn (dispatch, getState) => {\n\n\t\tconst { status } = obj\n\n\t\t//selectedProducts:\n\t\tconst products = getState().products.products\n\n\t\tlet selectedProductsAdmin\n\n\t\tif (status) {\n\t\t\tselectedProductsAdmin = products.filter(product => product.popularity !== 0)\n\t\t} else {\n\t\t\tselectedProductsAdmin = products.filter(product => product.popularity >= 0)\n\t\t}\n\n\n\t\tdispatch(onSelectedProductsAdmin(selectedProductsAdmin))\n\n\t\t//updateFilterProps:        \n\t\tconst filterPropsAdmin = getState().products.filterPropsAdmin\n\n\t\tfilterPropsAdmin.popularity = status\n\n\t\tdispatch(updateFilterPropsAdmin(filterPropsAdmin))\n\n\n\t}\n\n}\n\nexport function updateFilterPropsAdmin(filterPropsAdmin) {\n\treturn {\n\t\ttype: UPDATE_FILTER_PROPS_ADMIN,\n\t\tfilterPropsAdmin\n\t}\n}\n\nfunction removeActiveClass(filter) {\n\tconst links = [...document.querySelectorAll(`.${filter}`)]\n\n\tlinks.forEach(link => {\n\t\tlink.classList.remove('active')\n\t})\n}\nexport function resetFiltersAdmin() {\n\n\tremoveActiveClass('popularityFilterAdmin')\n\n\treturn {\n\t\ttype: RESET_FILTERS_ADMIN\n\t}\n}\n\nexport function onSelectedProductsAdmin(selectedProductsAdmin) {\n\n\tif (selectedProductsAdmin.length) {\n\t\treturn {\n\t\t\ttype: ON_SELECTED_PRODUCTS_ADMIN,\n\t\t\tpayload: { selectedProductsAdmin }\n\t\t}\n\t} else {\n\n\t\treturn {\n\t\t\ttype: ON_SELECTED_PRODUCTS_ADMIN,\n\t\t\tpayload: { selectedProductsAdmin: [null] }\n\t\t}\n\t}\n}\n\n// end filter products on admin products page\n\nexport function priceIncludedPromotion(price, promotion) {\n\n\treturn (dispatch, getState) => {\n\n\t\tconst thisPrise = +(Math.round(price * ((100 - promotion) / 100)))\n\n\t\treturn thisPrise\n\n\t}\n}\n\nfunction priceIncludedPromotion2(price, promotion) {\n\n\tconst thisPrise = +(Math.round(price * ((100 - promotion) / 100)))\n\n\treturn thisPrise\n}\n\n\n\nexport function addProductToCart(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst { event, productId, price, promotion, stepunits, quantityProductYourOrder, indexOrderInHistory } = obj\n\t\tlet { customerId } = obj\n\n\t\tif (customerId === null) {\n\n\t\t\tconst responseIdLastCustomer = await axios.get(`idLastCustomer.json`)\n\t\t\t//\n\t\t\tcustomerId = responseIdLastCustomer.data + 1\n\t\t}\n\n\t\tconst responseProducts = await axios.get(`products.json`)\n\t\tconst productsData = responseProducts.data\n\n\t\tconst quantityThisProductInDataBase = productsData.filter(product => product.id === productId)[0].quantity\n\n\t\tlet productQuantity\n\n\t\tif (quantityProductYourOrder) {\n\t\t\tproductQuantity = +document.querySelector(`input[name = product_${productId}_inHistory_${indexOrderInHistory}]`).value\n\t\t} else {\n\t\t\tproductQuantity = +document.querySelector(`input[name = product_${productId}]`).value\n\t\t}\n\n\t\tif (productQuantity <= quantityThisProductInDataBase) {\n\n\t\t\tconst responseOrders = await axios.get(`orders.json`)\n\t\t\tconst ordersState = responseOrders.data ? responseOrders.data : []\n\t\t\t//            const ordersState = [...getState().products.orders]\n\n\t\t\tlet { indexOrders, ordersThis } = getThisOrder(ordersState, customerId)\n\n\t\t\tlet time = getDate()\n\n\t\t\tlet orders\n\n\t\t\tif (ordersThis) {\n\n\t\t\t\torders = { ...ordersThis }\n\n\t\t\t\tconst cart = orders.cart\n\t\t\t\tif (cart) {\n\t\t\t\t\tconst isProduct = cart.filter((cart, index) => cart.id === productId)[0]\n\n\t\t\t\t\tif (isProduct) {\n\t\t\t\t\t\tconst quantityInCart = isProduct.quantity\n\n\t\t\t\t\t\tlet quantityTotal = +(quantityInCart + productQuantity).toFixed(1)\n\n\t\t\t\t\t\tisProduct.quantity = quantityTotal\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcart[cart.length] = { id: productId, quantity: productQuantity }\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\torders.cart = []\n\t\t\t\t\torders.cart[0] = { id: productId, quantity: productQuantity }\n\t\t\t\t}\n\n\t\t\t\torders.date = time\n\t\t\t\torders.status = 'in process...'\n\n\t\t\t} else {\n\t\t\t\tconst db = firebase.database();\n\t\t\t\tconst orderId = await addOrderId(db);\n\n\t\t\t\torders = {\n\t\t\t\t\torderId: orderId,      // 👈 додаємо\n\t\t\t\t\tcustomerId: customerId,\n\t\t\t\t\tcart: [{ id: productId, quantity: productQuantity }],\n\t\t\t\t\tdate: time,\n\t\t\t\t\tstatus: 'in process...',\n\t\t\t\t\tchecked: false\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tordersState[indexOrders] = orders\n\t\t\tdispatch(updateOrders(ordersState))\n\n\t\t\ttry {\n\t\t\t\t//            await axios.post(`orders/${customerId}`, this.state.orders)\n\n\t\t\t\tconst db = firebase.database()\n\t\t\t\tdb.ref(`orders/${indexOrders}`).set(orders)\n\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e)\n\t\t\t}\n\t\t\tif (!quantityProductYourOrder) {\n\t\t\t\tdocument.querySelector(`input[id = input_product_${productId}]`).value = 1\n\n\t\t\t\tdocument.querySelector(`span[id = product_price_${productId}]`).innerHTML = priceIncludedPromotion2(price, promotion)\n\n\t\t\t} else {\n\t\t\t\tdocument.querySelector(`input[id = input_product_${productId}_inHistory_${indexOrderInHistory}]`).value = quantityProductYourOrder\n\n\t\t\t\tdocument.querySelector(`p[id = product_price_${productId}_inHistory_${indexOrderInHistory}]`).querySelector('span').innerHTML = price\n\t\t\t}\n\n\t\t} else {\n\t\t\talert('Вибачте, такої кількості товару немає в наявності!')\n\t\t}\n\t}\n}\n\n\n\nfunction getDate() {\n\tNumber.prototype.pad = function (size) {\n\t\tlet s = String(this);\n\t\twhile (s.length < (size || 2)) { s = \"0\" + s; }\n\t\treturn s;\n\t}\n\tlet today = new Date()\n\tlet dd = String(today.getDate()).padStart(2, '0');\n\tlet mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\tlet yyyy = today.getFullYear();\n\tlet time = `${(today.getHours()).pad(2)}:${(today.getMinutes()).pad(2)}, ${dd}/${mm}/${yyyy}`\n\treturn time\n}\n\nexport function setQuantityAll(productsdata) {\n\treturn async (dispatch, getState) => {\n\n\t\tdispatch(updateProducts(productsdata))\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`products`).set(productsdata)\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t}\n}\n\nexport function updateStatusYourOrder(customerId, index) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst responseOrdersHistory = await axios.get('ordersHistory.json')\n\t\tconst ordersHistoryData = responseOrdersHistory.data\n\n\t\tconst thisStatusOrderHistory = ordersHistoryData ? ordersHistoryData.filter(order => order.customerId === customerId)[0].cartsHistory[index].status : null\n\n\t\tdocument.querySelector(`.status_order_${index}`).innerHTML = thisStatusOrderHistory\n\n\t\tif (thisStatusOrderHistory === \"in process...\") {\n\t\t\tdocument.querySelector(`.status_order_${index}`).classList.add(\"text-danger\")\n\t\t\tdocument.querySelector(`.status_order_${index}`).classList.remove(\"text-success\")\n\t\t} else if (thisStatusOrderHistory === \"completed\") {\n\t\t\tdocument.querySelector(`.status_order_${index}`).classList.add(\"text-success\")\n\t\t\tdocument.querySelector(`.status_order_${index}`).classList.remove(\"text-danger\")\n\t\t}\n\n\t\tdocument.querySelector(`.btn_refresh_${index}`).blur()\n\n\t}\n}\n\nexport function updateIsQuantProdInDB(status) {\n\treturn {\n\t\ttype: UPDATE_IS_QUANT_PROD_IN_DB,\n\t\tpayload: { status }\n\t}\n}\n\nexport function updateIsQuantProdInDBNew(customerId, index) {\n\treturn async (dispatch, getState) => {\n\t\tconst db = firebase.database();\n\n\t\ttry {\n\t\t\t// 1️⃣ Отримуємо ordersHistory\n\t\t\tconst responseOrdersHistory = await axios.get('ordersHistory.json');\n\t\t\tconst ordersHistoryData = responseOrdersHistory.data ?? [];\n\n\t\t\t// 2️⃣ Знаходимо конкретне замовлення\n\t\t\tconst customerOrderIndex = ordersHistoryData.findIndex(order => order.customerId === customerId);\n\t\t\tif (customerOrderIndex === -1) return;\n\n\t\t\tconst order = ordersHistoryData[customerOrderIndex];\n\t\t\tconst cartHistoryItem = order.cartsHistory[index];\n\t\t\tif (!cartHistoryItem) return;\n\n\t\t\tconst cart = cartHistoryItem.cart;\n\n\t\t\t// 3️⃣ Отримуємо products.json\n\t\t\tconst responseProducts = await axios.get('products.json');\n\t\t\tconst productsData = responseProducts.data ?? [];\n\n\t\t\t// 4️⃣ Перевіряємо наявність товарів\n\t\t\tlet insufficientProducts = [];\n\n\t\t\tcart.forEach(cartItem => {\n\t\t\t\tconst productInDB = productsData.find(p => p.id === cartItem.id);\n\t\t\t\tif (productInDB) {\n\t\t\t\t\tif (cartItem.quantity > productInDB.quantity) {\n\t\t\t\t\t\tinsufficientProducts.push({\n\t\t\t\t\t\t\tname: productInDB.name,\n\t\t\t\t\t\t\tavailable: productInDB.quantity,\n\t\t\t\t\t\t\trequested: cartItem.quantity\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinsufficientProducts.push({\n\t\t\t\t\t\tname: cartItem.name ?? `ID:${cartItem.id}`,\n\t\t\t\t\t\tavailable: 0,\n\t\t\t\t\t\trequested: cartItem.quantity\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// 5️⃣ Якщо є недостатні товари — повідомляємо адміна і виходимо\n\t\t\tif (insufficientProducts.length > 0) {\n\t\t\t\tlet message = '❌ Не вистачає товарів для списання:\\n';\n\t\t\t\tinsufficientProducts.forEach(item => {\n\t\t\t\t\tmessage += `${item.name}: доступно ${item.available}, запрошено ${item.requested}\\n`;\n\t\t\t\t});\n\n\t\t\t\talert(message); // або показати на фронтенді в спеціальному блоці для адміна\n\t\t\t\treturn; // не списуємо нічого поки адмін не змінить кількість\n\t\t\t}\n\n\t\t\t// 6️⃣ Списуємо товари з бази\n\t\t\tcart.forEach(cartItem => {\n\t\t\t\tconst productInDB = productsData.find(p => p.id === cartItem.id);\n\t\t\t\tif (productInDB) {\n\t\t\t\t\tproductInDB.quantity -= cartItem.quantity;\n\t\t\t\t\tproductInDB.popularity += 1;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// 7️⃣ Оновлюємо статус замовлення на confirmed\n\t\t\tcartHistoryItem.status = 'confirmed';\n\n\t\t\t// 8️⃣ Оновлюємо базу даних\n\t\t\tawait db.ref('products').set(productsData);\n\t\t\tawait db.ref(`ordersHistory/${customerOrderIndex}`).set(order);\n\n\t\t\t// 9️⃣ Оновлюємо Redux\n\t\t\tdispatch({\n\t\t\t\ttype: 'UPDATE_ORDERS_HISTORY',\n\t\t\t\tpayload: ordersHistoryData\n\t\t\t});\n\n\t\t\tconsole.log(`✅ Замовлення клієнта ${customerId} підтверджено, товари списані.`);\n\t\t} catch (err) {\n\t\t\tconsole.error('❌ Помилка при підтвердженні замовлення:', err);\n\t\t}\n\t};\n}\n\nexport const addOrderId = async () => {\n\ttry {\n\t\t// Отримуємо поточне значення idLastOrder\n\t\tconst responseIdLastOrder = await axios.get('idLastOrder.json');\n\t\tlet idLastOrder = responseIdLastOrder.data !== null ? responseIdLastOrder.data : -1;\n\n\t\tconst idThisOrder = idLastOrder + 1;\n\n\t\t// Оновлюємо значення в базі\n\n\t\tconst db = firebase.database()\n\t\tawait db.ref('idLastOrder').set(idThisOrder);\n\n\t\treturn idThisOrder;\n\t} catch (e) {\n\t\tconsole.error('Помилка addOrderId:', e);\n\t\tthrow e;\n\t}\n};\n\n// Додає новий orderHistoryId, використовуючи Axios\nexport const addOrderHistoryId = async () => {\n\ttry {\n\t\t// Отримуємо поточне значення idLastOrderHistory\n\n\t\tconst responseIdLastOrderHistory = await axios.get('idLastOrderHistory.json');\n\t\tlet idLastOrderHistory = responseIdLastOrderHistory.data !== null ? responseIdLastOrderHistory.data : -1;\n\n\t\tconst idThisOrderHistory = idLastOrderHistory + 1;\n\n\t\t// Оновлюємо значення в базі\n\n\t\tconst db = firebase.database()\n\t\tawait db.ref('idLastOrderHistory').set(idThisOrderHistory);\n\n\t\treturn idThisOrderHistory;\n\t} catch (e) {\n\t\tconsole.error('Помилка addOrderHistoryId:', e);\n\t\tthrow e;\n\t}\n};\n\nexport const updateExistingOrders = async (db) => {\n\ttry {\n\t\tconst responseOrders = await axios.get('orders.json');\n\t\tconst ordersData = responseOrders.data;\n\n\t\tif (!ordersData || !Array.isArray(ordersData)) return;\n\n\t\tfor (let i = 0; i < ordersData.length; i++) {\n\t\t\tconst order = ordersData[i];\n\n\t\t\tif (!order.cart) continue;\n\n\t\t\t// Генеруємо унікальний orderId\n\t\t\tconst orderId = await addOrderId(db); // або createNewOrderId()\n\t\t\torder.orderId = orderId;\n\t\t}\n\n\t\t// Записуємо назад у базу\n\t\tawait db.ref('orders').set(ordersData);\n\t\tconsole.log('Всі orderId додані успішно!');\n\t} catch (e) {\n\t\tconsole.error('Помилка при оновленні orders:', e);\n\t}\n};\n\n// Додає orderHistoryId у всі існуючі історії замовлень\n// export const updateExistingOrdersHistory = async (db) => {\n// \ttry {\n// \t\tconst responseOrdersHistory = await axios.get('ordersHistory.json');\n// \t\tconst ordersHistoryData = responseOrdersHistory.data;\n\n// \t\tif (!ordersHistoryData || !Array.isArray(ordersHistoryData)) return;\n\n// \t\tfor (let i = 0; i < ordersHistoryData.length; i++) {\n// \t\t\tconst orderHistory = ordersHistoryData[i];\n\n// \t\t\tif (!orderHistory.cartsHistory) continue;\n\n// \t\t\t// Генеруємо унікальний orderHistoryId\n// \t\t\tconst orderHistoryId = await addOrderHistoryId(db); // або createNewOrderHistoryId()\n// \t\t\torderHistory.orderHistoryId = orderHistoryId;\n// \t\t}\n\n// \t\t// Записуємо назад у базу\n// \t\tawait db.ref('ordersHistory').set(ordersHistoryData);\n// \t\tconsole.log('Всі orderHistoryId додані успішно!');\n// \t} catch (e) {\n// \t\tconsole.error('Помилка при оновленні ordersHistory:', e);\n// \t}\n// };\n\nexport const updateExistingOrdersHistory = async (db) => {\n\ttry {\n\t\tconst responseOrdersHistory = await axios.get('ordersHistory.json');\n\t\tconst ordersHistoryData = responseOrdersHistory.data;\n\n\t\tif (!ordersHistoryData || !Array.isArray(ordersHistoryData)) return;\n\n\t\tfor (let i = 0; i < ordersHistoryData.length; i++) {\n\t\t\tconst orderHistory = ordersHistoryData[i];\n\n\t\t\tif (!orderHistory.cartsHistory) continue;\n\n\t\t\tfor (let j = 0; j < orderHistory.cartsHistory.length; j++) {\n\t\t\t\tconst cartItem = orderHistory.cartsHistory[j];\n\n\t\t\t\t// Додаємо orderHistoryId тільки якщо його ще немає\n\t\t\t\tif (!cartItem.orderHistoryId) {\n\t\t\t\t\tconst newId = await addOrderHistoryId(db);\n\t\t\t\t\tcartItem.orderHistoryId = newId;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Записуємо назад у базу\n\t\tawait db.ref('ordersHistory').set(ordersHistoryData);\n\n\t\tconsole.log('orderHistoryId додані в cartsHistory успішно!');\n\t} catch (e) {\n\t\tconsole.error('Помилка при оновленні ordersHistory:', e);\n\t}\n};\n\nexport const removeOrderHistoryIds = async (db) => {\n\ttry {\n\t\tconst responseOrdersHistory = await axios.get('ordersHistory.json');\n\t\tconst ordersHistoryData = responseOrdersHistory.data;\n\n\t\tif (!ordersHistoryData || !Array.isArray(ordersHistoryData)) return;\n\n\t\tfor (let i = 0; i < ordersHistoryData.length; i++) {\n\t\t\tconst orderHistory = ordersHistoryData[i];\n\n\t\t\tif (!orderHistory.cartsHistory) continue;\n\n\t\t\t// Видаляємо поле orderHistoryId якщо воно є\n\t\t\tdelete orderHistory.orderHistoryId;\n\n\t\t\t// Якщо orderHistoryId знаходиться всередині cartsHistory\n\t\t\tfor (let j = 0; j < orderHistory.cartsHistory.length; j++) {\n\t\t\t\tdelete orderHistory.cartsHistory[j].orderHistoryId;\n\t\t\t}\n\t\t}\n\n\t\tawait db.ref('ordersHistory').set(ordersHistoryData);\n\n\t\tconsole.log('Всі orderHistoryId видалені успішно!');\n\t} catch (e) {\n\t\tconsole.error('Помилка при видаленні orderHistoryId:', e);\n\t}\n};\n\nexport function addProductWithCartToOrdersHistory(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst db = firebase.database()\n\t\tlet { customerId } = obj\n\t\tconst { email } = obj\n\n\t\tconst customersState = [...getState().inform.customers]\n\t\tconst responseOrders = await axios.get(`orders.json`)\n\t\tconst ordersState = responseOrders.data ? responseOrders.data : []\n\n\t\t// find indexOrders in the database orders\n\t\tlet { indexOrders, ordersThis } = getThisOrder(ordersState, customerId)\n\n\t\tconsole.log('addProductWithCartToOrdersHistory_ordersThis_cart', ordersThis.cart)\n\n\t\t// add price in ordersThis.cart`````````````````\n\n\t\tconst responseProducts = await axios.get(`products.json`)\n\t\tconst productsData = responseProducts.data\n\n\t\tlet counterIdInOrdersThisCart = 0\n\t\tconst arrPropsIsQuantityInDB = []\n\n\t\tfor (let i = 0; i < productsData.length; i++) {\n\n\t\t\tif (counterIdInOrdersThisCart >= ordersThis.cart.length) {\n\t\t\t\tconsole.log('The cycle ended with an iteration:', i)\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tordersThis.cart.forEach((cart, index) => {\n\n\t\t\t\tif (productsData[i].id === cart.id) {\n\n\t\t\t\t\tordersThis.cart[index].price = priceIncludedPromotion2(productsData[i].price, productsData[i].promotion)\n\n\t\t\t\t\tcounterIdInOrdersThisCart++\n\t\t\t\t}\n\n\t\t\t})\n\t\t}\n\n\t\tconsole.log('addProductWithCartToOrdersHistory_ordersThisCart', ordersThis.cart)\n\n\t\t// add price in ordersThis.cart..............\n\n\t\t// check if there is a customer in the database customers\n\t\tconst customerInBase = customersState.filter(customer => customer.email === email)[0]\n\n\t\tconst idThisCustomerInBase = customerInBase ? customerInBase.id : null\n\n\t\tif (idThisCustomerInBase) {\n\t\t\tcustomerId = idThisCustomerInBase\n\t\t}\n\n\t\tconst responseOrdersHistory = await axios.get(`ordersHistory.json`)\n\t\tconst ordersHistoryData = responseOrdersHistory.data ? responseOrdersHistory.data : []\n\n\t\tlet orders\n\n\t\tlet time = getDate()\n\n\t\tconst orderHistoryId = await addOrderHistoryId(db);\n\n\t\tif (ordersHistoryData[0]) {\n\n\t\t\t// find indexOrders in the database ordersHistory\n\t\t\tlet { indexOrders: indexOrdersHistory, ordersThis: ordersHistoryThis } = getThisOrder(ordersHistoryData, idThisCustomerInBase)\n\n\t\t\tif (ordersHistoryThis) {\n\n\t\t\t\torders = { ...ordersHistoryThis }\n\t\t\t\torders.cartsHistory.push({ orderHistoryId, cart: ordersThis.cart, date: time, status: 'in process...', customerId, checked: false })\n\n\t\t\t} else {\n\t\t\t\torders = { customerId, cartsHistory: [{ orderHistoryId, cart: ordersThis.cart, date: time, status: 'in process...', customerId, checked: false }], checked: false }\n\t\t\t}\n\n\t\t\tordersHistoryData[indexOrdersHistory] = orders\n\n\t\t\tdispatch(updateOrdersHistory(ordersHistoryData))\n\n\t\t\ttry {\n\t\t\t\t//            await axios.post(`orders/${customerId}`, this.state.orders)\n\n\t\t\t\tdb.ref(`ordersHistory/${indexOrdersHistory}`).set(orders)\n\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e)\n\t\t\t}\n\n\n\n\t\t} else {\n\t\t\torders = { customerId, cartsHistory: [{ orderHistoryId, cart: ordersThis.cart, date: time, status: 'in process...', customerId, checked: false }], checked: false }\n\n\t\t\tordersHistoryData[0] = orders\n\n\t\t\tdispatch(updateOrdersHistory(ordersHistoryData))\n\n\t\t\ttry {\n\t\t\t\t//            await axios.post(`orders/${customerId}`, this.state.orders)\n\n\t\t\t\tdb.ref(`ordersHistory/0`).set(orders)\n\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e)\n\t\t\t}\n\n\n\t\t}\n\n\t\t//        const responseOrders = await axios.get(`orders.json`)\n\t\t//\n\t\t//        const ordersState = responseOrders.data  \n\n\t\tordersState.splice(indexOrders, 1)\n\n\t\tdispatch(updateOrders(ordersState))\n\n\t\ttry {\n\t\t\t//            await axios.post(`orders/${customerId}`, this.state.orders)\n\n\t\t\tdb.ref(`orders`).set(ordersState)\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t\tdispatch(updateIsOrdersThisCart(false))\n\n\t\t// try {\n\n\t\t// \tdb.ref(`requestProducts`).set(false)\n\n\t\t// \tconsole.log('sended_your_order!!!')\n\t\t// \tconsole.log('requestProducts_false')\n\n\t\t// } catch (e) {\n\t\t// \tconsole.log(e)\n\t\t// }\n\n\t}\n}\n\nexport function updateIsOrdersHistoryThisCart(status) {\n\treturn {\n\t\ttype: UPDATE_IS_ORDERS_HISTORY_THIS_CART,\n\t\tpayload: { status }\n\t}\n}\n\nexport function updateIsOrdersThisCart(status) {\n\treturn {\n\t\ttype: UPDATE_IS_ORDERS_THIS_CART,\n\t\tpayload: { status }\n\t}\n}\n\n// export function changeStatusCustomersOrders(customerId, index, valueSelectedStatusOrder) {\n// \treturn async (dispatch, getState) => {\n\n// \t\tconst ordersHistory = [...getState().products.ordersHistory]\n// \t\tconst thisOrdersHistory = ordersHistory.filter(order => order.customerId === customerId)[0] ? ordersHistory.filter(order => order.customerId === customerId)[0].cartsHistory[index] : null\n\n// \t\tlet statusCustomersOrdersInBase = thisOrdersHistory.status\n// \t\t//         \n// \t\tthisOrdersHistory.status = valueSelectedStatusOrder\n\n// \t\ttry {\n\n// \t\t\tconst db = firebase.database()\n// \t\t\tdb.ref(`ordersHistory`).set(ordersHistory)\n\n// \t\t\tdispatch(updateOrdersHistory(ordersHistory))\n\n// \t\t} catch (e) {\n// \t\t\tconsole.log(e)\n// \t\t}\n\n// \t}\n// }\n\nexport function changeStatusCustomersOrders(customerId, orderHistoryId, valueSelectedStatusOrder) {\n\treturn async (dispatch, getState) => {\n\t\tconst db = firebase.database();\n\n\t\t/* ========= 1️⃣ Orders history ========= */\n\t\tconst ordersHistory = [...getState().products.ordersHistory];\n\t\tconst orderIndex = ordersHistory.findIndex(o => o.customerId === customerId);\n\t\tif (orderIndex === -1) return;\n\n\t\tconst order = ordersHistory[orderIndex];\n\t\tconst cartItem = order.cartsHistory.find(c => c.orderHistoryId === orderHistoryId);\n\t\tif (!cartItem) return;\n\n\t\tconst oldStatus = cartItem.status;\n\t\tif (oldStatus === valueSelectedStatusOrder) return;\n\n\t\t/* ========= 2️⃣ Products ========= */\n\t\tconst products = [...getState().products.products];\n\t\tconst productsMap = new Map(products.map(p => [p.id, p]));\n\n\t\t/* ========= 3️⃣ Перевірка кількості при підтвердженні ========= */\n\t\tif (oldStatus === 'in process...' && valueSelectedStatusOrder === 'completed') {\n\t\t\tconst insufficient = cartItem.cart.filter(item => {\n\t\t\t\tconst product = productsMap.get(item.id);\n\t\t\t\treturn !product || Number(product.quantity) < Number(item.quantity);\n\t\t\t});\n\n\t\t\tif (insufficient.length) {\n\t\t\t\tconst msg = insufficient.map(item => {\n\t\t\t\t\tconst product = productsMap.get(item.id);\n\t\t\t\t\treturn `${product?.name || product?.title || item.productName || item.nameProduct || 'Без назви'}: замовлено ${item.quantity}, доступно ${product?.quantity || 0} ${product?.units || ''}`;\n\t\t\t\t}).join('\\n');\n\n\t\t\t\talert(`Неможливо підтвердити замовлення:\\n${msg}`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t/* ========= 4️⃣ Списання / повернення товарів ========= */\n\t\tcartItem.cart.forEach(item => {\n\t\t\tconst product = productsMap.get(item.id);\n\t\t\tif (!product) return;\n\n\t\t\tproduct.quantity = Number(product.quantity) || 0;\n\t\t\tproduct.popularity = Number(product.popularity) || 0;\n\n\t\t\tif (oldStatus === 'in process...' && valueSelectedStatusOrder === 'completed') {\n\t\t\t\tproduct.quantity -= Number(item.quantity);\n\t\t\t\tproduct.popularity += 1;\n\t\t\t}\n\n\t\t\tif (oldStatus === 'completed' && valueSelectedStatusOrder === 'in process...') {\n\t\t\t\tproduct.quantity += Number(item.quantity);\n\t\t\t}\n\t\t});\n\n\t\t/* ========= 5️⃣ Міняємо статус ========= */\n\t\tcartItem.status = valueSelectedStatusOrder;\n\n\t\t/* ========= 6️⃣ Firebase: products + orders ========= */\n\t\tawait Promise.all([\n\t\t\tdb.ref('products').set(products),\n\t\t\tdb.ref('ordersHistory').set(ordersHistory)\n\t\t]);\n\n\t\t/* ========= 7️⃣ Invoices ========= */\n\t\tconst invoiceRef = db.ref(`invoices/${customerId}/${orderHistoryId}`);\n\n\t\tif (oldStatus === 'in process...' && valueSelectedStatusOrder === 'completed') {\n\t\t\t// створюємо накладну\n\t\t\tconst invoiceItems = cartItem.cart.map(item => {\n\t\t\t\tconst product = productsMap.get(item.id);\n\t\t\t\treturn {\n\t\t\t\t\tproductId: item.id ?? 'unknown-id',\n\t\t\t\t\tname: product?.name || product?.title || item.productName || item.nameProduct || 'Без назви',\n\t\t\t\t\tunits: product?.units || 'шт',\n\t\t\t\t\tquantity: Number(item.quantity) || 0,\n\t\t\t\t\tprice: product?.price || 0\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst invoiceData = {\n\t\t\t\tidOrderHistory: cartItem.orderHistoryId,\n\t\t\t\tcustomerId,\n\t\t\t\tdate: cartItem.date,\n\t\t\t\tstatus: 'done',\n\t\t\t\titems: invoiceItems\n\t\t\t};\n\n\t\t\tawait invoiceRef.set(invoiceData);\n\t\t}\n\n\t\tif (oldStatus === 'completed' && valueSelectedStatusOrder === 'in process...') {\n\t\t\t// видаляємо накладну\n\t\t\tawait invoiceRef.remove();\n\t\t}\n\n\t\t/* ========= 8️⃣ invoicesSummary — ПОВНИЙ ПЕРЕРАХУНОК ========= */\n\t\tconst summaryRef = db.ref(`invoicesSummary/${customerId}`);\n\t\tconst invoicesSnapshot = await db.ref(`invoices/${customerId}`).once('value');\n\t\tconst invoicesData = invoicesSnapshot.val();\n\n\t\tif (!invoicesData) {\n\t\t\tawait summaryRef.remove();\n\t\t} else {\n\t\t\tconst summary = {};\n\n\t\t\tObject.values(invoicesData).forEach(inv => {\n\t\t\t\tinv.items.forEach(item => {\n\t\t\t\t\tif (!summary[item.productId]) {\n\t\t\t\t\t\tsummary[item.productId] = {\n\t\t\t\t\t\t\tproductId: item.productId,\n\t\t\t\t\t\t\tname: item.name,\n\t\t\t\t\t\t\tunits: item.units,\n\t\t\t\t\t\t\ttotalQuantity: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tsummary[item.productId].totalQuantity += Number(item.quantity);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tawait summaryRef.set(summary);\n\t\t}\n\n\t\t/* ========= 9️⃣ Redux ========= */\n\t\tdispatch(updateOrdersHistory(ordersHistory));\n\t\tdispatch(updateProducts(products));\n\n\t\tconsole.log('✅ Статус змінено:', oldStatus, '→', valueSelectedStatusOrder);\n\t};\n}\n\n\nexport function changeStatusCustomersCarts(customerId, index, valueSelectedStatusOrder) {\n\treturn async (dispatch, getState) => {\n\n\t\tconst orders = [...getState().products.orders]\n\t\tconst thisOrders = orders.filter(order => order.customerId === customerId)[0] ? orders.filter(order => order.customerId === customerId)[0] : null\n\n\t\tlet statusCustomersOrdersInBase = thisOrders.status\n\t\t//         \n\t\tthisOrders.status = valueSelectedStatusOrder\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`orders`).set(orders)\n\n\t\t\tdispatch(updateOrders(orders))\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t}\n}\n\n\n\nexport function onDelete(obj) {\n\treturn async (dispatch, getState) => {\n\t\tlet { id, customerId } = obj\n\n\t\tconst responseOrders = await axios.get(`orders.json`)\n\t\tconst orders = responseOrders.data ? responseOrders.data : []\n\n\t\tlet { indexOrders, ordersThis } = getThisOrder(orders, customerId)\n\n\t\tconst cart = ordersThis.cart\n\n\t\tcart.forEach((product, index) => {\n\t\t\tif (product.id === id) {\n\t\t\t\tcart.splice(index, 1)\n\t\t\t}\n\t\t})\n\n\t\t//        let elem = document.querySelector(`div[id = product_cart_${id}]`)\n\n\t\t//        elem.remove() // Удаляю всю сторінку\n\n\t\t//        elem.classList.add(\"d-none\")\n\t\t//        orders[indexOrders] = ordersThis\n\n\n\t\t//        const productQuantity = +document.querySelector(`input[name = quantity_product_${id}]`).value \n\t\t//        \n\t\t//        const responseProducts = await axios.get(`products.json`)\n\t\t//        const productsData = responseProducts.data \n\t\t//        productsData.forEach((product, index) => {\n\t\t//            if(product.id === id) {\n\t\t//                let productQuantityInDataBase = productsData[index].quantity\n\t\t//                let productQuantityNow = +(productQuantityInDataBase + productQuantity).toFixed(1)\n\t\t//                console.log('productQuantityInDataBase', productQuantityInDataBase)\n\t\t//                console.log('productQuantity', productQuantity)\n\t\t//                console.log('productQuantityNow', productQuantityNow)\n\t\t//                productsData[index].quantity = productQuantityNow\n\t\t//            }\n\t\t//        })     \n\t\t//        \n\t\t//        dispatch(updateProducts(productsData))\n\n\t\tif (!ordersThis.cart[0]) {\n\t\t\torders.splice(indexOrders, 1)\n\t\t\tordersThis = null\n\t\t}\n\n\t\tdispatch(updateOrders(orders))\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tif (!ordersThis) {\n\t\t\t\tdb.ref(`orders`).set(orders)\n\t\t\t} else {\n\t\t\t\tdb.ref(`orders/${indexOrders}`).update(ordersThis)\n\t\t\t}\n\n\t\t\t//            db.ref(`products`).set(productsData)\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t\tlet isOrdersThisCart\n\n\t\tif (ordersThis) {\n\t\t\tlet ordersThisCart = Object.keys(ordersThis).filter(order => order === 'cart')[0] ? true : false\n\t\t\tif (ordersThisCart) {\n\t\t\t\tisOrdersThisCart = ordersThis.cart[0] ? true : false\n\t\t\t}\n\t\t}\n\n\t\tdispatch(updateIsOrdersThisCart(isOrdersThisCart))\n\n\t}\n}\n\nexport function removeOrdersCustomer(idCustomer) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst responseOrders = await axios.get('orders.json')\n\t\tconst orders = responseOrders.data ? responseOrders.data : []\n\n\t\torders.forEach((order, index) => {\n\t\t\tif (order.customerId === idCustomer) {\n\t\t\t\torders.splice(index, 1)\n\t\t\t}\n\t\t})\n\n\t\tlet elem = document.querySelector(`li[id = li_customer_orders_${idCustomer}]`)\n\n\t\telem.classList.add(\"d-none\")\n\n\n\t\tconst db = firebase.database()\n\n\t\tdb.ref(`orders`).set(orders)\n\n\t\tdispatch(updateOrders(orders))\n\n\t}\n\n}\n\nexport function removeOrdersHistoryCustomer(idCustomer, page) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst responseOrdersHistory = await axios.get('ordersHistory.json')\n\t\tconst ordersHistory = responseOrdersHistory.data ? responseOrdersHistory.data : []\n\n\t\tordersHistory.forEach((order, index) => {\n\t\t\tif (order.customerId === idCustomer) {\n\t\t\t\tordersHistory.splice(index, 1)\n\t\t\t}\n\t\t})\n\n\t\tif (page === 'SwitchCustomersOrders') {\n\t\t\tlet elem = document.querySelector(`li[id = li_customer_orders_${idCustomer}]`)\n\n\t\t\telem.classList.add(\"d-none\")\n\t\t}\n\n\n\t\tconst db = firebase.database()\n\n\t\tdb.ref(`ordersHistory`).set(ordersHistory)\n\n\t\tdispatch(updateOrdersHistory(ordersHistory))\n\n\t}\n\n}\n\nexport function removeOrderHistoryCustomer(idCustomer, indexorder) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst responseOrdersHistory = await axios.get('ordersHistory.json')\n\t\tconst ordersHistory = responseOrdersHistory.data ? responseOrdersHistory.data : []\n\n\t\tconst thisOrderHistory = ordersHistory.filter(order => order.customerId === idCustomer)[0].cartsHistory\n\n\t\tthisOrderHistory.forEach((order, index) => {\n\t\t\tif (index === indexorder) {\n\t\t\t\tthisOrderHistory.splice(index, 1)\n\t\t\t}\n\t\t})\n\n\t\tlet elem = document.querySelector(`div[id = customer_order_${indexorder}]`)\n\n\t\telem.classList.add(\"d-none\")\n\n\t\tconst db = firebase.database()\n\n\t\tdb.ref(`ordersHistory`).set(ordersHistory)\n\n\t\tdispatch(updateOrdersHistory(ordersHistory))\n\n\t}\n\n}\n\nfunction getThisOrder(orders, customerId) {\n\tlet indexOrders\n\tlet indexOrdersNext\n\tlet ordersThis\n\n\tconst order = orders.filter((order, index) => {\n\n\t\tif (order.customerId === customerId) {\n\t\t\tindexOrders = index\n\t\t\tordersThis = order\n\t\t}\n\n\t\treturn order.customerId === customerId\n\n\t})\n\n\tif (!order[0]) {\n\t\tindexOrders = null\n\t\tordersThis = null\n\t}\n\n\tindexOrdersNext = orders.length\n\n\treturn { indexOrders: ordersThis ? indexOrders : indexOrdersNext, ordersThis: ordersThis ? { ...ordersThis } : null }\n}\n\n\n\nexport function updateOrders(orders) {\n\treturn {\n\t\ttype: UPDATE_ORDERS,\n\t\tpayload: { orders }\n\t}\n}\n\nexport function updateOrdersHistory(ordersHistory) {\n\treturn {\n\t\ttype: UPDATE_ORDERS_HISTORY,\n\t\tpayload: { ordersHistory }\n\t}\n}\n\nexport function toggleProduct(id, checked) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst products = getState().products.products\n\n\t\tconst thisProducts = products.map(product => {\n\t\t\tif (product.id === id) {\n\t\t\t\tproduct.checked = checked\n\t\t\t}\n\t\t\treturn product\n\t\t})\n\n\t\tdispatch(updateProducts(thisProducts))\n\n\t}\n\n}\n\nexport function toggleAllProducts(checked) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst products = getState().products.products\n\n\t\tconst thisProducts = products.map(product => {\n\t\t\tproduct.checked = checked\n\t\t\treturn product\n\t\t})\n\n\t\tdispatch(updateProducts(thisProducts))\n\n\t}\n\n}\n\nexport function toggleCategory(id, checked) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst categories = getState().products.categories\n\n\t\tconst thisCategories = categories.map(category => {\n\t\t\tif (category.id === id) {\n\t\t\t\tcategory.checked = checked\n\t\t\t}\n\t\t\treturn category\n\t\t})\n\n\t\tdispatch(updateCategories(thisCategories))\n\n\t}\n\n}\n\nexport function toggleAllCategories(checked) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst categories = getState().products.categories\n\n\t\tconst thisCategories = categories.map(category => {\n\t\t\tcategory.checked = checked\n\t\t\treturn category\n\t\t})\n\n\t\tdispatch(updateCategories(thisCategories))\n\n\t}\n\n}\n\nexport function toggleSubcategory(idCategory, subcategoryId, checked) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst categories = getState().products.categories\n\t\tconst indexCategory = getIndexCategory(idCategory, categories)\n\t\tconst subcategories = getSubcategories(indexCategory, categories)\n\n\t\tconst thisSubcategories = subcategories.map(subcategory => {\n\t\t\tif (subcategory.id === subcategoryId) {\n\t\t\t\tsubcategory.checked = checked\n\t\t\t}\n\t\t\treturn subcategory\n\t\t})\n\n\t\tdispatch(updateCategories(categories))\n\n\t}\n\n}\n\nexport function toggleAllSubcategories(idCategory, checked) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst categories = getState().products.categories\n\t\tconst indexCategory = getIndexCategory(idCategory, categories)\n\t\tconst subcategories = getSubcategories(indexCategory, categories)\n\n\t\tconst thisSubcategories = subcategories.map(subcategory => {\n\t\t\tsubcategory.checked = checked\n\t\t\treturn subcategory\n\t\t})\n\n\t\tdispatch(updateCategories(categories))\n\n\t}\n\n}\n\n\n\nexport function removeProducts(id) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst db = firebase.database()\n\n\t\t// delete product from orders:\n\n\t\tconst responseOrders = await axios.get(`orders.json`)\n\t\tlet ordersData = responseOrders.data\n\n\t\tif (ordersData) {\n\t\t\tordersData.forEach(order => {\n\n\t\t\t\tlet isCart = Object.keys(order).filter(k => k === \"cart\")[0] ? true : false\n\t\t\t\tif (isCart) {\n\t\t\t\t\torder.cart = order.cart.filter(cartItem => cartItem.id !== id)\n\t\t\t\t}\n\n\t\t\t})\n\n\t\t\t// delete cart without products````````````\n\t\t\tconst ordersDataWithoutElem = ordersData.filter(elem => elem.cart[0] !== undefined)\n\t\t\tordersData = ordersDataWithoutElem\n\t\t\t// delete cart without products.............\n\n\t\t\tdispatch(updateOrders(ordersData))\n\t\t\tdb.ref(`orders`).set(ordersData)\n\n\t\t}\n\n\n\t\t//        // delete product from ordersHistory:\n\t\t//        \n\t\t//        const responseOrdersHistory = await axios.get(`ordersHistory.json`)\n\t\t//        const ordersHistoryData = responseOrdersHistory.data        \n\t\t//        \n\t\t//        if(ordersHistoryData) {\n\t\t//            \n\t\t//            ordersHistoryData.forEach(order => {\n\t\t//                \n\t\t//                const carts = order.cartsHistory\n\t\t//                \n\t\t//                carts.forEach(cartsItem => {                \n\t\t//                    \n\t\t//                    let isCart = Object.keys(cartsItem).filter(k => k === \"cart\")[0] ? true : false\n\t\t//                    if (isCart) {\n\t\t//                        cartsItem.cart = cartsItem.cart.filter(cartItem => cartItem.id !== id)\n\t\t//                    } \n\t\t//                    \n\t\t//                    \n\t\t//                })\n\t\t//                \n\t\t//            })\n\t\t//            \n\t\t//            dispatch(updateOrdersHistory(ordersHistoryData))        \n\t\t//            db.ref(`ordersHistory`).set(ordersHistoryData)\n\t\t//            \n\t\t//        }\n\n\n\t\t// delete product from products:\n\n\t\tconst responseProductsDeleted = await axios.get('productsDeleted.json')\n\t\tconst productsDeleted = responseProductsDeleted.data ? responseProductsDeleted.data : getState().products.productsDeleted\n\n\t\tconst responseProducts = await axios.get('products.json')\n\t\tconst products = responseProducts.data ? responseProducts.data : getState().products.products\n\n\t\tproducts.forEach((product, index) => {\n\t\t\tif (product.id === id) {\n\t\t\t\tproducts.splice(index, 1)\n\t\t\t\tproduct.status = 'deleted'\n\t\t\t\tproductsDeleted.push(product)\n\t\t\t}\n\t\t})\n\n\t\tlet elem = document.querySelector(`tr[id = product_table_${id}]`)\n\n\t\telem.classList.add(\"d-none\")\n\n\t\tdb.ref(`products`).set(products)\n\t\tdb.ref(`productsDeleted`).set(productsDeleted)\n\n\t\tdispatch(updateProducts(products))\n\t\tdispatch(updateProductsDeleted(productsDeleted))\n\n\t}\n\n}\n\nexport function removeCategories(id) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst db = firebase.database()\n\n\t\tconst responseProducts = await axios.get('products.json')\n\t\tconst products = responseProducts.data\n\n\t\tif (products) {\n\t\t\tconst productsThisCategory = []\n\n\t\t\tproducts.forEach(product => {\n\n\t\t\t\tif (product.category === id) {\n\t\t\t\t\tproductsThisCategory.push(product.id)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// delete product from orders:\n\n\t\t\tconst responseOrders = await axios.get(`orders.json`)\n\t\t\tconst ordersData = responseOrders.data\n\n\t\t\tif (ordersData) {\n\t\t\t\tordersData.forEach(order => {\n\n\t\t\t\t\tlet isCart = Object.keys(order).filter(k => k === \"cart\")[0] ? true : false\n\t\t\t\t\tif (isCart) {\n\t\t\t\t\t\tproductsThisCategory.forEach(id => {\n\t\t\t\t\t\t\torder.cart = order.cart.filter(cartItem => cartItem.id !== id)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t})\n\n\n\n\t\t\t\tdispatch(updateOrders(ordersData))\n\t\t\t\tdb.ref(`orders`).set(ordersData)\n\t\t\t}\n\n\t\t\t// delete product from ordersHistory:\n\n\t\t\tconst responseOrdersHistory = await axios.get(`ordersHistory.json`)\n\t\t\tconst ordersHistoryData = responseOrdersHistory.data\n\n\t\t\tif (ordersHistoryData) {\n\n\t\t\t\tordersHistoryData.forEach(order => {\n\n\t\t\t\t\tconst carts = order.cartsHistory\n\n\t\t\t\t\tcarts.forEach(cartsItem => {\n\n\t\t\t\t\t\tlet isCart = Object.keys(cartsItem).filter(k => k === \"cart\")[0] ? true : false\n\t\t\t\t\t\tif (isCart) {\n\t\t\t\t\t\t\tproductsThisCategory.forEach(id => {\n\t\t\t\t\t\t\t\tcartsItem.cart = cartsItem.cart.filter(cartItem => cartItem.id !== id)\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t})\n\n\t\t\t\t})\n\n\t\t\t\tdispatch(updateOrdersHistory(ordersHistoryData))\n\t\t\t\tdb.ref(`ordersHistory`).set(ordersHistoryData)\n\n\t\t\t}\n\n\t\t\t// delete product from products:\n\n\t\t\tproductsThisCategory.forEach(id => {\n\t\t\t\tproducts.forEach((product, index) => {\n\t\t\t\t\tif (product.id === id) {\n\t\t\t\t\t\tproducts.splice(index, 1)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tlet elem = document.querySelector(`tr[id = category_table_${id}]`)\n\n\t\t\telem.classList.add(\"d-none\")\n\n\t\t\tdb.ref(`products`).set(products)\n\t\t\tdispatch(updateProducts(products))\n\t\t}\n\n\n\t\tconst responseCategories = await axios.get('categories.json')\n\t\tconst categories = responseCategories.data\n\n\t\tif (categories) {\n\t\t\tconst newCategories = categories.filter(category => category.id !== id)\n\n\t\t\tdispatch(updateCategories(newCategories))\n\t\t\tdb.ref(`categories`).set(newCategories)\n\t\t}\n\n\t\t// update idLastCategory\n\n\t\tconst responseIdLastCategory = await axios.get('idLastCategory.json')\n\t\tconst idLastCategoryData = responseIdLastCategory.data\n\t\tlet idLastCategory = idLastCategoryData\n\n\t\tlet idLastCategoryNow = idLastCategory - 1\n\n\t\ttry {\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`idLastCategory`).set(idLastCategoryNow)\n\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\n\t}\n\n}\n\nexport function setCurrentPage(currentPage) {\n\treturn {\n\t\ttype: SET_CURRENT_PAGE,\n\t\tcurrentPage\n\t}\n}\n\nexport function setTotalProductsCount(totalProductsCount) {\n\treturn {\n\t\ttype: SET_TOTAL_PRODUCTS_COUNT,\n\t\ttotalProductsCount\n\t}\n}\n\nexport function removeSubcategories(idCategory, subcategoryId) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst db = firebase.database()\n\n\t\tconst responseProducts = await axios.get('products.json')\n\t\tconst products = responseProducts.data\n\n\t\tif (products) {\n\t\t\tconst productsThisSubcategory = []\n\n\t\t\tproducts.forEach(product => {\n\n\t\t\t\tif (product.subcategory === subcategoryId) {\n\t\t\t\t\tproductsThisSubcategory.push(product.id)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// delete product from orders:\n\n\t\t\tconst responseOrders = await axios.get(`orders.json`)\n\t\t\tconst ordersData = responseOrders.data\n\n\t\t\tif (ordersData) {\n\t\t\t\tordersData.forEach(order => {\n\n\t\t\t\t\tlet isCart = Object.keys(order).filter(k => k === \"cart\")[0] ? true : false\n\t\t\t\t\tif (isCart) {\n\t\t\t\t\t\tproductsThisSubcategory.forEach(id => {\n\t\t\t\t\t\t\torder.cart = order.cart.filter(cartItem => cartItem.id !== id)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t})\n\n\n\n\t\t\t\tdispatch(updateOrders(ordersData))\n\t\t\t\tdb.ref(`orders`).set(ordersData)\n\t\t\t}\n\n\t\t\t// delete product from ordersHistory:\n\n\t\t\tconst responseOrdersHistory = await axios.get(`ordersHistory.json`)\n\t\t\tconst ordersHistoryData = responseOrdersHistory.data\n\n\t\t\tif (ordersHistoryData) {\n\n\t\t\t\tordersHistoryData.forEach(order => {\n\n\t\t\t\t\tconst carts = order.cartsHistory\n\n\t\t\t\t\tcarts.forEach(cartsItem => {\n\n\t\t\t\t\t\tlet isCart = Object.keys(cartsItem).filter(k => k === \"cart\")[0] ? true : false\n\t\t\t\t\t\tif (isCart) {\n\t\t\t\t\t\t\tproductsThisSubcategory.forEach(id => {\n\t\t\t\t\t\t\t\tcartsItem.cart = cartsItem.cart.filter(cartItem => cartItem.id !== id)\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t})\n\n\t\t\t\t})\n\n\t\t\t\tdispatch(updateOrdersHistory(ordersHistoryData))\n\t\t\t\tdb.ref(`ordersHistory`).set(ordersHistoryData)\n\n\t\t\t}\n\n\t\t\t// delete product from products:\n\n\t\t\tproductsThisSubcategory.forEach(id => {\n\t\t\t\tproducts.forEach((product, index) => {\n\t\t\t\t\tif (product.id === id) {\n\t\t\t\t\t\tproducts.splice(index, 1)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tlet elem = document.querySelector(`tr[id = subcategory_table_${subcategoryId}]`)\n\n\t\t\telem.classList.add(\"d-none\")\n\n\t\t\tdb.ref(`products`).set(products)\n\t\t\tdispatch(updateProducts(products))\n\t\t}\n\n\t\tconst responseCategories = await axios.get('categories.json')\n\t\tconst categories = responseCategories.data\n\n\t\tconst indexCategory = getIndexCategory(idCategory, categories)\n\t\tconst subcategories = getSubcategories(indexCategory, categories)\n\n\t\tif (categories) {\n\t\t\tconst newSubcategories = subcategories.filter(subcategory => subcategory.id !== subcategoryId)\n\n\t\t\tcategories[indexCategory].subcategories = newSubcategories\n\n\t\t\tdispatch(updateCategories(categories))\n\t\t\tdb.ref(`categories`).set(categories)\n\t\t}\n\n\t}\n\n}","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\CategoriesListEdit.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Loader\\Loader.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\Navigation\\MenuToggle\\MenuToggle.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\menu.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\SubcategoryItem\\SubcategoryItem.js",["335","336","337","338","339"],"import React, { Component } from 'react'\r\nimport classes from './SubcategoryItem.module.css'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport axios from '../../../axios/axios-quiz'\r\nimport { toggleSubcategory, removeSubcategories, existingSubcategories } from '../../../redux/actions/products'\r\nimport ModalEdit from '../ModalForSubcategories/ModalEdit/ModalEdit'\r\n\r\nclass SubcategoryItem extends Component {\r\n\r\n\tstate = {\r\n\t\tchecked: false\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst { index } = this.props\r\n\r\n\t\tlet idCategory = this.props.categoryId\r\n\t\tlet subcategoryId = this.props.subcategoryId\r\n\t\tlet thisSubcategory = this.props.thisSubcategory\r\n\r\n\t\tconst cls = [classes.SubcategoryItem]\r\n\r\n\t\tlet indexCategory\r\n\t\tlet indexSubcategory\r\n\r\n\t\tconst checked = this.props.categories.filter(category => category.id === idCategory)[0].subcategories.filter(subcategory => subcategory.id === subcategoryId)[0].checked\r\n\r\n\t\t//        let checked = this.props.checked\r\n\r\n\t\tif (checked) {\r\n\t\t\tcls.push('done') // in index.css\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<tr className={cls.join(' ')} id={`subcategory_table_${subcategoryId}`}>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>check</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\r\n\t\t\t\t\t\t\tonChange={event => {\r\n\r\n\t\t\t\t\t\t\t\tlet checked = event.target.checked\r\n\r\n\t\t\t\t\t\t\t\tthis.setState({ checked })\r\n\r\n\t\t\t\t\t\t\t\tthis.props.toggleSubcategory(idCategory, subcategoryId, checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={checked}\r\n\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>subcategoryId</div>\r\n\t\t\t\t\t<div className={classes.th_value}>{subcategoryId}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th className={classes.th_image}>\r\n\t\t\t\t\t<div className={classes.leftTitle}>image</div>\r\n\t\t\t\t\t<div className={`mx-3 my-1 ${classes.subcategoryFoto}`} style={{ backgroundImage: `url(${thisSubcategory.image})`, backgroundSize: 'cover' }}></div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>name</div>\r\n\t\t\t\t\t<div className={classes.th_value}>{thisSubcategory.name}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th className={classes.th_describe}>\r\n\t\t\t\t\t<div className={classes.leftTitle}>describe</div>\r\n\t\t\t\t\t<div className={`pl-3 d-flex text-left justify-content-md-center align-items-center overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`} >{thisSubcategory.describe}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>edit</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<ModalEdit idCategory={idCategory} idSubcategory={subcategoryId} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>remove</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<button className={classes.btnRemove} onClick={() => this.props.removeSubcategories(idCategory, subcategoryId)} ><i className=\"fa fa-times\" aria-hidden=\"true\"></i></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t</tr>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\ttoggleSubcategory: (idCategory, subcategoryId, checked) => dispatch(toggleSubcategory(idCategory, subcategoryId, checked)),\r\n\t\tremoveSubcategories: (idCategory, subcategoryId) => dispatch(removeSubcategories(idCategory, subcategoryId)),\r\n\t\texistingSubcategories: idCategory => dispatch(existingSubcategories(idCategory))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SubcategoryItem)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersCarts\\CustomersCarts.js",["340","341","342","343","344","345"],"import React, { Component } from 'react'\r\nimport classes from './CustomersCarts.module.css'\r\nimport { connect } from 'react-redux'\r\nimport Button from '../../components/UI/Button/Button'\r\nimport Input from '../../components/UI/Input/Input'\r\nimport Select from '../../components/UI/Select/Select'\r\nimport Loader from '../../components/UI/Loader/Loader'\r\nimport { NavLink } from 'react-router-dom'\r\nimport firebase from 'firebase'\r\nimport { updateIsOrdersThisCart, changeStatusCustomersCarts } from '../../redux/actions/products'\r\nimport { onScroll, topFunction } from '../../redux/actions/menu'\r\n\r\nclass CustomersCarts extends Component {\r\n\r\n\tstate = {\r\n\t\thasAccount: false,\r\n\t\tvalueSelectedStatusOrder: this.props.status\r\n\t}\r\n\r\n\tgetThisOrder(orders, customerId) {\r\n\t\tlet indexOrders\r\n\t\tlet indexOrdersNext\r\n\t\tlet ordersThis\r\n\r\n\t\tconst order = orders.filter((order, index) => {\r\n\r\n\t\t\tif (order.customerId === customerId) {\r\n\t\t\t\tindexOrders = index\r\n\t\t\t\tordersThis = order\r\n\t\t\t}\r\n\r\n\t\t\treturn order.customerId === customerId\r\n\r\n\t\t})\r\n\r\n\t\tif (!order[0]) {\r\n\t\t\tindexOrders = null\r\n\t\t\tordersThis = null\r\n\t\t}\r\n\r\n\t\tindexOrdersNext = orders.length\r\n\r\n\t\treturn { indexOrders: ordersThis ? indexOrders : indexOrdersNext, ordersThis: ordersThis ? { ...ordersThis } : null }\r\n\t}\r\n\r\n\r\n\tcalculationTotalPriceForCart(orders, customerId) {\r\n\r\n\t\tlet { indexOrders, ordersThis } = this.getThisOrder(orders, customerId)\r\n\r\n\t\tif (ordersThis) {\r\n\t\t\treturn (\r\n\t\t\t\tordersThis.customerId === customerId\r\n\t\t\t\t\t? ordersThis.cart\r\n\r\n\t\t\t\t\t\t? ordersThis.cart.map(product => {\r\n\r\n\t\t\t\t\t\t\tconst { id } = product\r\n\t\t\t\t\t\t\tconst thisProduct = this.props.products.filter(product => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\tproduct.id === id\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\t\tlet totalPrice = +(product.quantity * thisProduct.price).toFixed(1)\r\n\r\n\t\t\t\t\t\t\treturn totalPrice\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t).reduce((sum, val) => sum + val, 0)\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t: null\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t}\r\n\r\n\trenderOrders(ordersThis, indexOrderInCart, customerId) {\r\n\r\n\t\t//        const orders = this.props.orders        \r\n\r\n\t\tconst products = this.props.products\r\n\r\n\t\tlet isOrdersThisCart\r\n\r\n\t\tif (ordersThis) {\r\n\t\t\tlet ordersThisCart = Object.keys(ordersThis).filter(order => order === 'cart')[0] ? true : false\r\n\t\t\tif (ordersThisCart) {\r\n\t\t\t\tisOrdersThisCart = ordersThis.cart[0] ? true : false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//        this.props.updateIsOrdersThisCart(isOrdersThisCart)\r\n\r\n\t\tif (isOrdersThisCart) {\r\n\t\t\tconst thisCart = ordersThis.cart\r\n\r\n\t\t\tif (thisCart) {\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthisCart.map(product => {\r\n\t\t\t\t\t\tconst { id } = product\r\n\t\t\t\t\t\tconst quantityProductYourOrder = product.quantity\r\n\r\n\t\t\t\t\t\tconst thisProduct = products.filter(product => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tproduct.id === id\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\tconst thisOrder = ordersThis\r\n\r\n\t\t\t\t\t\tconst thisCart = thisOrder.cart.filter(cart => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tcart.id === id\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})[0]\r\n\r\n\t\t\t\t\t\tconst productQuantityInCar = thisCart.quantity\r\n\r\n\t\t\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\t\tkey={thisProduct.id}\r\n\t\t\t\t\t\t\t\tclassName={`row w-100 py-3 justify-content-between border-top border-bottom product_cart_history`}\r\n\t\t\t\t\t\t\t\tid={`product_cart_history_${thisProduct.id}`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<NavLink to={'/product/' + thisProduct.id} className=\"col-12 col-md-6 d-flex align-items-center order-1 mb-3 mb-md-0\">\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`mb-3 ${classes.productFoto}`} style={{ backgroundImage: `url(${thisProduct.image})`, backgroundSize: 'cover' }}>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ml-3 font-weight text-dark\">\r\n\t\t\t\t\t\t\t\t\t\t{thisProduct.name}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t<div className=\"col-12 col-md-6 d-flex justify-content-between align-items-center order-3 order-md-2\">\r\n\r\n\t\t\t\t\t\t\t\t\t<Input type=\"number\" className={`${classes.inputPrice}`} name={`product_${thisProduct.id}_inHistory_${indexOrderInCart}`} id={`input_product_${thisProduct.id}_inHistory_${indexOrderInCart}`} data_price={`${thisProduct.price}`} defaultValue={product.quantity} readOnly=\"readOnly\" />\r\n\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0\" id={`product_price_${thisProduct.id}_inHistory_${indexOrderInCart}`}><span name={`product_price_inHistory_${indexOrderInCart}`}>{+(thisProduct.price * product.quantity).toFixed(1)}</span> грн</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col order-4\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0 text-danger mt-3 rounded p-2\" id={`warning_cart_${thisProduct.id}`} >Доступно: <span className=\"text-primary\">{`${thisProduct.quantity} ${thisProduct.units}.`}</span></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn <h6 className=\"text-danger\">Ви ще не зробили замовлення!!!</h6>\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tselectChangeStatusOrder(event, customerId, index) {\r\n\r\n\t\tlet valueSelectedStatusOrder = event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedStatusOrder\r\n\t\t})\r\n\r\n\t\tthis.props.changeStatusCustomersCarts(customerId, index, valueSelectedStatusOrder)\r\n\r\n\t}\r\n\r\n\toptionStatusOrder(orderStatus) {\r\n\r\n\t\tconst thisStatusOrderOptions = [{ text: 'in process...', value: 'in process...', className: \"text-danger\" }, { text: \"completed\", value: \"completed\", className: \"text-success\" }]\r\n\r\n\t\tlet thisStatusOrder\r\n\r\n\t\tthisStatusOrderOptions.forEach((status, index) => {\r\n\r\n\t\t\tif (status.value === orderStatus) {\r\n\t\t\t\tthisStatusOrder = status\r\n\t\t\t\tthisStatusOrderOptions.splice(index, 1)\r\n\t\t\t\tthisStatusOrderOptions.unshift(thisStatusOrder)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisStatusOrderOptions\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tlet url = window.location.pathname\r\n\t\tlet customerId = +url.substring(url.lastIndexOf('/') + 1)\r\n\r\n\t\tconst thisCustomer = this.props.customers.filter(customer => customer.id === customerId)[0]\r\n\r\n\t\tconst { hasAccount } = this.props\r\n\t\tconst orders = this.props.orders\r\n\r\n\t\tconst thisOrders = orders.filter(order => order.customerId === customerId)[0] ? orders.filter(order => order.customerId === customerId) : null\r\n\r\n\t\treturn (\r\n\r\n\t\t\tthis.props.loading\r\n\r\n\t\t\t\t? <Loader />\r\n\t\t\t\t: this.props.orders[0]\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<div className={`wrapper ${classes.CustomersCarts, classes.Wrapper}`} >\r\n\r\n\t\t\t\t\t\t<div>\r\n\r\n\r\n\t\t\t\t\t\t\t<div className={`overflow-auto webkit_scrollbar_width webkit_scrollbar_style scrollToTop ${classes.renderOrders}`} onScroll={this.props.onScroll} >\r\n\r\n\t\t\t\t\t\t\t\t<div className={\"infoAboutCustomer\"}>\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0 text-center\">Це кошик користувача <span className=\"text-success\">{thisCustomer.name}</span></p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0 text-center\">Id: <span className=\"text-success\">{thisCustomer.id}</span></p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0 text-center\">Email: <span className=\"text-success\">{thisCustomer.email}</span></p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0 text-center\">Phone: <span className=\"text-success\">{thisCustomer.tel}</span></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t<h3 className={\"mb-2 border-bottom text-center h1Title\"}>Замовлення:</h3>\r\n\r\n\t\t\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t\t\tthisOrders ? thisOrders.map((order, index) => {\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst selectStatusOrder = <Select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"statusorder\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`addOptionToProduct_${index} ${order.status === \"in process...\" ? \"text-danger\" : \"text-success\"}`}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={event => this.selectChangeStatusOrder(event, customerId, index)}\r\n\t\t\t\t\t\t\t\t\t\t\toption={this.optionStatusOrder(order.status)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={Math.random() + order.date} className={`border border-success p-3 mb-5`} id={`customer_order_${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className={`text-primary ${classes.h5}`}>Дата замовлення: &nbsp;<span className={\"text-info\"}>{order.date}</span></h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className={`${classes.h5}`}>Статус: &nbsp;<span className={\"text-warning\"}>{selectStatusOrder}</span></h5>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.renderOrders(order, index, customerId)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"mr-3 font-weight-bold\">Загальна сума:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-primary\" id={`totalPrice_inHistory_${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.calculationTotalPriceForCart([order], customerId)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span><span className=\"text-primary\"> грн</span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}) : <h6 className=\"text-danger\">Немає замовлення !!!</h6>\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t\t\t\tid={'goToTop'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.props.topFunction}\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-danger ${classes.btnTop}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: <div className={`d-flex border shadow p-3 blockError`}>\r\n\t\t\t\t\t\t<p className=\"mx-auto text-center text-danger font-weight-bold\">Йде загрузка замовлень... </p>\r\n\t\t\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\torders: state.products.orders,\r\n\t\tordersHistory: state.products.ordersHistory,\r\n\t\tproducts: state.products.products,\r\n\t\tcustomers: state.inform.customers,\r\n\t\tcustomerId: state.inform.customerId,\r\n\t\tcustomerName: state.inform.customerName,\r\n\t\thasAccount: state.inform.hasAccount,\r\n\t\tisOrdersThisCart: state.products.isOrdersThisCart\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tupdateIsOrdersThisCart: isOrdersThisCart => dispatch(updateIsOrdersThisCart(isOrdersThisCart)),\r\n\t\tonScroll: () => dispatch(onScroll()),\r\n\t\ttopFunction: () => dispatch(topFunction()),\r\n\t\tchangeStatusCustomersCarts: (customerId, index, valueSelectedStatusOrder) => dispatch(changeStatusCustomersCarts(customerId, index, valueSelectedStatusOrder))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomersCarts)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalAdd\\ModalAdd.js",["346"],"import React, { Component } from 'react'\r\nimport classes from './ModalAdd.module.css'\r\nimport Button from '../../../../components/UI/Button/Button'\r\nimport Input from '../../../../components/UI/Input/Input'\r\nimport Select from '../../../../components/UI/Select/Select'\r\nimport { createControl, validate, validateForm } from '../../../../form/formFramework'\r\nimport Auxiliary from '../../../../hoc/Auxiliary/Auxiliary'\r\nimport { Modal } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { addNewProduct } from '../../../../redux/actions/products'\r\n\r\nfunction createFormControls() {\r\n\treturn {\r\n\t\tname: createControl({\r\n\t\t\tlabel: 'Введіть назву',\r\n\t\t\terrorMessage: 'Поле з назвою не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\tprice: createControl({\r\n\t\t\tlabel: 'Введіть ціну',\r\n\t\t\terrorMessage: 'Поле з ціною не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\tquantity: createControl({\r\n\t\t\tlabel: 'Введіть кількість товару',\r\n\t\t\terrorMessage: 'Поле з кількістю товару не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\tdescribe: createControl({\r\n\t\t\tlabel: 'Добавте опис',\r\n\t\t\terrorMessage: 'Поле з описом не повинне бути пустим'\r\n\t\t}, { required: true }),\r\n\t\timage: createControl({\r\n\t\t\tlabel: 'Добавте ссилку на картинку',\r\n\t\t\terrorMessage: 'Введіть ссилку на картинку'\r\n\t\t}, { required: true }),\r\n\t}\r\n}\r\n\r\nclass ModalAdd extends Component {\r\n\r\n\tstate = {\r\n\t\tidSelectedCategory: 0,\r\n\t\tidSelectedSubcategory: 0,\r\n\t\tisFormValid: false,\r\n\t\tvalueSelectedVisible: true,\r\n\t\tvalueSelectedUnit: \"шт\",\r\n\t\tvalueSelectedStepUnit: 1,\r\n\t\tvalueSelectedPromotion: 0,\r\n\t\tformControls: createFormControls()\r\n\t}\r\n\r\n\tselectChangeCategory = event => {\r\n\r\n\t\tlet idSelectedCategory = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tidSelectedCategory\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tselectChangePromotions = event => {\r\n\r\n\t\tlet valueSelectedPromotion = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedPromotion\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tselectChangeSubcategory = event => {\r\n\t\tlet idSelectedSubcategory = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tidSelectedSubcategory\r\n\t\t})\r\n\t}\r\n\r\n\tselectChangeVisible = event => {\r\n\r\n\t\tlet valueSelectedVisible = event.target.value === \"true\" ? true : false\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedVisible\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tselectChangeUnits = event => {\r\n\r\n\t\tlet valueSelectedUnit = event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedUnit\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tselectChangeStepUnits = event => {\r\n\r\n\t\tlet valueSelectedStepUnit = +event.target.value\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalueSelectedStepUnit\r\n\t\t})\r\n\r\n\t}\r\n\r\n\taddProductHandler = event => {\r\n\r\n\t\tconst { name, price, quantity, describe, image } = this.state.formControls\r\n\r\n\t\tconst selectsForm = [...document.querySelectorAll('select.addOptionToAddProduct')].map(select => {\r\n\t\t\treturn { name: select.name, value: select.value }\r\n\t\t});\r\n\r\n\t\tconst selectValue = ['promotion', 'categories', 'subcategories', 'units', 'stepunits', 'visibleproduct']\r\n\r\n\t\tselectsForm.forEach(select => {\r\n\t\t\tif (select.name === 'promotion') {\r\n\t\t\t\tselectValue[0] = +select.value\r\n\t\t\t} else if (select.name === 'categories') {\r\n\t\t\t\tselectValue[1] = +select.value\r\n\t\t\t} else if (select.name === 'subcategories') {\r\n\t\t\t\tselectValue[2] = +select.value\r\n\t\t\t} else if (select.name === 'units') {\r\n\t\t\t\tselectValue[3] = select.value\r\n\t\t\t} else if (select.name === 'stepunits') {\r\n\t\t\t\tselectValue[4] = +select.value\r\n\t\t\t} else if (select.name === 'visibleproduct') {\r\n\t\t\t\tselectValue[5] = select.value === \"true\" ? true : false\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst [promotion, category, subcategory, units, stepunits, visibleproduct] = selectValue\r\n\r\n\t\tthis.props.addNewProduct({\r\n\t\t\tname: name.value,\r\n\t\t\tcategory,\r\n\t\t\tsubcategory,\r\n\t\t\tprice: +price.value,\r\n\t\t\tpromotion,\r\n\t\t\tunits,\r\n\t\t\tstepunits,\r\n\t\t\tquantity: +quantity.value,\r\n\t\t\tdescribe: describe.value,\r\n\t\t\timage: image.value,\r\n\t\t\tvisibleproduct\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n\t\t\tisFormValid: false,\r\n\t\t\tformControls: createFormControls()\r\n\t\t})\r\n\r\n\t\tthis.handleClose()\r\n\r\n\t}\r\n\r\n\tonChangeHandler = (value, controlName) => {\r\n\t\tconst formControls = { ...this.state.formControls }\r\n\t\tconst control = { ...formControls[controlName] }\r\n\r\n\t\tcontrol.value = value\r\n\t\tcontrol.touched = true\r\n\t\tcontrol.valid = validate(control.value, control.validation)\r\n\r\n\t\tformControls[controlName] = control\r\n\r\n\t\tthis.setState({\r\n\t\t\tformControls,\r\n\t\t\tisFormValid: validateForm(formControls)\r\n\t\t})\r\n\t}\r\n\r\n\trenderControls() {\r\n\t\treturn Object.keys(this.state.formControls).map((controlName, index) => {\r\n\t\t\tconst control = this.state.formControls[controlName]\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Auxiliary key={controlName + index}>\r\n\t\t\t\t\t{ controlName === 'price' || controlName === 'quantity'\r\n\t\t\t\t\t\t? <Input\r\n\t\t\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\t\t\tonChange={event => this.onChangeHandler(event.target.value, controlName)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: <Input\r\n\t\t\t\t\t\t\tclassName={\"w-100\"}\r\n\t\t\t\t\t\t\tvalue={control.value}\r\n\t\t\t\t\t\t\tvalid={control.valid}\r\n\t\t\t\t\t\t\ttouched={control.touched}\r\n\t\t\t\t\t\t\tlabel={control.label}\r\n\t\t\t\t\t\t\tshouldValidate={!!control.validation}\r\n\t\t\t\t\t\t\terrorMessage={control.errorMessage}\r\n\t\t\t\t\t\t\tonChange={event => this.onChangeHandler(event.target.value, controlName)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{ index === 0 ? <hr /> : null}\r\n\t\t\t\t</Auxiliary>\r\n\t\t\t)\r\n\r\n\t\t})\r\n\t}\r\n\r\n\toptionPromotionsProduct = event => {\r\n\r\n\t\tconst thisPromotionsOptions = []\r\n\r\n\t\tfor (let i = 0; i <= 100; i += 5) {\r\n\t\t\tthisPromotionsOptions.push({ text: i, value: i })\r\n\t\t}\r\n\r\n\t\tlet thisPromotion\r\n\r\n\t\tthisPromotionsOptions.forEach((promotion, index) => {\r\n\r\n\t\t\tif (promotion.value === this.state.valueSelectedPromotion) {\r\n\t\t\t\tthisPromotion = promotion\r\n\r\n\t\t\t\tthisPromotionsOptions.splice(index, 1)\r\n\t\t\t\tthisPromotionsOptions.unshift(thisPromotion)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisPromotionsOptions\r\n\r\n\t}\r\n\r\n\toptionSelectCategory = event => {\r\n\r\n\t\tif (this.props.categories[0]) {\r\n\r\n\t\t\t//            return this.props.categories.map(category => {\r\n\t\t\t//                return {text: category.name, value: category.id}\r\n\t\t\t//            })\r\n\r\n\t\t\tconst thisOptions = this.props.categories.map(category => {\r\n\t\t\t\treturn { text: category.name, value: category.id }\r\n\t\t\t})\r\n\r\n\t\t\tlet thisOption\r\n\r\n\t\t\tthisOptions.forEach((category, index) => {\r\n\r\n\t\t\t\tif (category.value === this.state.idSelectedCategory) {\r\n\t\t\t\t\tthisOption = category\r\n\t\t\t\t\tthisOptions.splice(index, 1)\r\n\t\t\t\t\tthisOptions.unshift(thisOption)\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\r\n\r\n\t\t\treturn thisOptions\r\n\r\n\t\t} else {\r\n\t\t\treturn [{ text: \"Немає категорії\", value: \"Немає категорії\" }]\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\toptionSelectSubcategory = idSelectedCategory => {\r\n\r\n\t\tif (this.props.categories[idSelectedCategory]) {\r\n\t\t\tif (this.props.categories[idSelectedCategory].subcategories) {\r\n\t\t\t\t//               return this.props.categories[idSelectedCategory].subcategories.map(subcategory => {\r\n\t\t\t\t//                    return {text: `${subcategory.name}`, value: subcategory.id}\r\n\t\t\t\t//                })\r\n\r\n\t\t\t\tconst thisOptions = this.props.categories[idSelectedCategory].subcategories.map(subcategory => {\r\n\t\t\t\t\treturn { text: `${subcategory.name}`, value: subcategory.id }\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet thisOption\r\n\r\n\t\t\t\tthisOptions.forEach((subcategory, index) => {\r\n\r\n\t\t\t\t\tif (subcategory.value === this.state.idSelectedSubcategory) {\r\n\t\t\t\t\t\tthisOption = subcategory\r\n\t\t\t\t\t\tthisOptions.splice(index, 1)\r\n\t\t\t\t\t\tthisOptions.unshift(thisOption)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t\treturn thisOptions\r\n\r\n\t\t\t} else {\r\n\t\t\t\treturn [{ text: \"Немає підкатегорії\", value: \"Немає підкатегорії\" }]\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\treturn [{ text: \"Немає підкатегорії\", value: \"Немає підкатегорії\" }]\r\n\t\t}\r\n\r\n\t}\r\n\r\n\toptionVisibleProduct = event => {\r\n\r\n\t\tconst thisVisibleOptions = [{ text: \"Видимий\", value: true }, { text: \"Невидимий\", value: false }]\r\n\r\n\t\tlet thisVisible\r\n\r\n\t\tthisVisibleOptions.forEach((visible, index) => {\r\n\r\n\t\t\tif (visible.value === this.state.valueSelectedVisible) {\r\n\t\t\t\tthisVisible = visible\r\n\t\t\t\tthisVisibleOptions.splice(index, 1)\r\n\t\t\t\tthisVisibleOptions.unshift(thisVisible)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisVisibleOptions\r\n\r\n\t}\r\n\r\n\toptionUnitsProduct = event => {\r\n\r\n\t\tconst thisUnitsOptions = [{ text: \"шт\", value: \"шт\" }, { text: \"кг\", value: \"кг\" }]\r\n\r\n\t\tlet thisUnit\r\n\r\n\t\tthisUnitsOptions.forEach((unit, index) => {\r\n\r\n\t\t\tif (unit.value === this.state.valueSelectedUnit) {\r\n\t\t\t\tthisUnit = unit\r\n\t\t\t\tthisUnitsOptions.splice(index, 1)\r\n\t\t\t\tthisUnitsOptions.unshift(thisUnit)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisUnitsOptions\r\n\r\n\t}\r\n\r\n\toptionStepUnitsProduct = event => {\r\n\r\n\t\tconst thisStepUnitsOptions = []\r\n\r\n\t\tfor (let i = 0.1; i <= 1; i += 0.1) {\r\n\t\t\tthisStepUnitsOptions.push({ text: +i.toFixed(2), value: +i.toFixed(2) })\r\n\t\t}\r\n\r\n\t\tlet thisStepUnit\r\n\r\n\t\tthisStepUnitsOptions.forEach((stepunit, index) => {\r\n\r\n\t\t\tif (stepunit.value === this.state.valueSelectedStepUnit) {\r\n\t\t\t\tthisStepUnit = stepunit\r\n\r\n\t\t\t\tthisStepUnitsOptions.splice(index, 1)\r\n\t\t\t\tthisStepUnitsOptions.unshift(thisStepUnit)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\treturn thisStepUnitsOptions\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshow: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleShow = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tshow: true\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trenderModalAdd() {\r\n\r\n\t\tconst selectPromotionsProduct = <Select\r\n\t\t\tlabel=\"Знижка в %\"\r\n\t\t\tname=\"promotion\"\r\n\t\t\tclassName=\"addOptionToAddProduct\"\r\n\t\t\tonChange={this.selectChangePromotions}\r\n\t\t\toption={this.optionPromotionsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst selectCategories = <Select\r\n\t\t\tlabel=\"Виберіть категорію\"\r\n\t\t\tonChange={this.selectChangeCategory}\r\n\t\t\tname=\"categories\"\r\n\t\t\tclassName=\"addOptionToAddProduct\"\r\n\t\t\toption={this.optionSelectCategory()}\r\n\t\t/>\r\n\r\n\t\tconst selectSubcategories = <Select\r\n\t\t\tlabel=\"Виберіть підкатегорію\"\r\n\t\t\tonChange={this.selectChangeSubcategory}\r\n\t\t\tname=\"subcategories\"\r\n\t\t\tclassName=\"addOptionToAddProduct\"\r\n\t\t\t//            disabled={!this.props.isSubcategories}\r\n\t\t\toption={this.optionSelectSubcategory(this.state.idSelectedCategory)}\r\n\t\t/>\r\n\r\n\t\tconst selectUnitsProduct = <Select\r\n\t\t\tlabel=\"Одиниці вимірювання\"\r\n\t\t\tname=\"units\"\r\n\t\t\tclassName=\"addOptionToAddProduct\"\r\n\t\t\tonChange={this.selectChangeUnits}\r\n\t\t\toption={this.optionUnitsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst selectStepUnitsProduct = <Select\r\n\t\t\tlabel=\"Крок одиниць вимірювань\"\r\n\t\t\tname=\"stepunits\"\r\n\t\t\tclassName=\"addOptionToAddProduct\"\r\n\t\t\tonChange={this.selectChangeStepUnits}\r\n\t\t\toption={this.optionStepUnitsProduct()}\r\n\t\t/>\r\n\r\n\t\tconst selectVisibleProduct = <Select\r\n\t\t\tlabel=\"Видимість продукту\"\r\n\t\t\tname=\"visibleproduct\"\r\n\t\t\tclassName=\"addOptionToAddProduct\"\r\n\t\t\tonChange={this.selectChangeVisible}\r\n\t\t\toption={this.optionVisibleProduct()}\r\n\t\t/>\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tselfType=\"primary\"\r\n\t\t\t\t\tonClick={this.handleShow}\r\n\t\t\t\t\tclassName={`mb-2 mb-md-3 mr-3 p-2 p-md-3 ${classes.btnOpenModule}`}\r\n\t\t\t\t>\r\n\t\t\t\t\tДодати продукт\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Modal className={classes.ProductsModalAdd} show={this.state.show} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton className=\"align-items-center\">\r\n\r\n\t\t\t\t\t\t<Modal.Title>Додати продукт:</Modal.Title>\r\n\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body className={classes.modalBodyProductsAdd} >\r\n\r\n\t\t\t\t\t\t{this.props.error ? <h3 className=\"d-block error text-danger text-center\" >{this.props.error.message}</h3> : null}\r\n\r\n\t\t\t\t\t\t<div className={classes.ProductsAdd}>\r\n\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t<form className={classes.ProductsAddForm}>\r\n\r\n\t\t\t\t\t\t\t\t\t{this.renderControls()}\r\n\t\t\t\t\t\t\t\t\t{selectPromotionsProduct}\r\n\t\t\t\t\t\t\t\t\t{selectCategories}\r\n\t\t\t\t\t\t\t\t\t{selectSubcategories}\r\n\t\t\t\t\t\t\t\t\t{selectUnitsProduct}\r\n\t\t\t\t\t\t\t\t\t{selectStepUnitsProduct}\r\n\t\t\t\t\t\t\t\t\t{selectVisibleProduct}\r\n\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer className=\"d-flex justify-content-end\">\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\r\n\t\t\t\t\t\t\tonClick={this.addProductHandler}\r\n\t\t\t\t\t\t\tdisabled={!this.state.isFormValid}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tДодати\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.ModalAdd}>\r\n\r\n\t\t\t\t<div className=\"container px-0\">\r\n\t\t\t\t\t{this.renderModalAdd()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories,\r\n\t\terror: state.products.error\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\taddNewProduct: obj => dispatch(addNewProduct(obj))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalAdd)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ModalForProducts\\ModalEditField\\ModalEditField.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Backdrop\\Backdrop.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\SubcategoriesListEdit\\SubcategoriesListEdit.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\components\\UI\\Select\\Select.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\Registr\\Registr.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersCarts\\SwitchCustomersCarts\\SwitchCustomersCarts.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\ProductsListEdit\\ProductsListEdit.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\actionTypes.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersOrders\\CustomersOrders.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CategoriesListEdit\\CategoryItem\\CategoryItem.js",["347","348","349"],"import React, { Component } from 'react'\r\nimport classes from './CategoryItem.module.css'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport axios from '../../../axios/axios-quiz'\r\nimport { toggleCategory, removeCategories, existingSubcategories } from '../../../redux/actions/products'\r\nimport ModalEdit from '../ModalForCategories/ModalEdit/ModalEdit'\r\n\r\nclass CategoryItem extends Component {\r\n\r\n\tstate = {\r\n\t\tchecked: false\r\n\t}\r\n\r\n\t//    existingSubcategories(idCategory) {        \r\n\t//        \r\n\t//        const categories = this.props.categories\r\n\t//\r\n\t//        if(categories[0]) {\r\n\t//\r\n\t//            let isSubcategories = Object.keys(categories[idCategory]).filter(category => category === \"subcategories\")[0] ? true : false\r\n\t//\r\n\t//            if (isSubcategories){\r\n\t//                const subcategories = categories[idCategory].subcategories\r\n\t//\r\n\t//                return subcategories.map((subcategory, index) => {\r\n\t//                    return (\r\n\t//                        <li key={index} >\r\n\t//                            {subcategory.name}\r\n\t//                            <ModalEditSubc idCategory={idCategory} idSubcategory={subcategory.id} />\r\n\t//                        </li>\r\n\t//                    )\r\n\t//                })\r\n\t//\r\n\t//            } else {\r\n\t//                return (\r\n\t//                    <li>\r\n\t//                        Немає підкатегорій\r\n\t//                    </li>\r\n\t//                )\r\n\t//            }\r\n\t//\r\n\t//        } else {\r\n\t//            return (\r\n\t//                <li>\r\n\t//                    Немає підкатегорій\r\n\t//                </li>\r\n\t//            )\r\n\t//        }        \r\n\t//    }\r\n\r\n\trender() {\r\n\r\n\t\tconst { index, categoryId } = this.props\r\n\r\n\t\tlet category = this.props.category\r\n\r\n\t\tconst cls = [classes.CategoryItem]\r\n\r\n\t\tlet id = categoryId\r\n\r\n\t\tlet checked = category.checked\r\n\r\n\t\tif (checked) {\r\n\t\t\tcls.push('done') // in index.css\r\n\t\t}\r\n\r\n\t\tconst thisCategory = this.props.categories.filter(category => category.id === this.props.categoryId)[0]\r\n\r\n\t\t//        const nameCategory = thisCategory.name\r\n\t\t//        const idCategory = thisCategory.id\r\n\r\n\t\tconst thisSubcategory = thisCategory.subcategories\r\n\r\n\t\t//        const nameSubcategory = thisSubcategory.name\r\n\t\t//        const idSubcategory = thisSubcategory.id\r\n\r\n\t\treturn (\r\n\t\t\t<tr className={cls.join(' ')} id={`category_table_${id}`}>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>check</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\r\n\t\t\t\t\t\t\tonChange={event => {\r\n\r\n\t\t\t\t\t\t\t\tlet checked = event.target.checked\r\n\r\n\t\t\t\t\t\t\t\tthis.setState({ checked })\r\n\r\n\t\t\t\t\t\t\t\tthis.props.toggleCategory(id, checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>id</div>\r\n\t\t\t\t\t<div className={classes.th_value}>{id}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th className={classes.th_image}>\r\n\t\t\t\t\t<div className={classes.leftTitle}>image</div>\r\n\t\t\t\t\t<div className={`ml-3 my-1 ${classes.categoryFoto}`} style={{ backgroundImage: `url(${category.image})`, backgroundSize: 'cover' }}></div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>name</div>\r\n\t\t\t\t\t<div className={classes.th_value}>{category.name}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th className={classes.th_describe}>\r\n\t\t\t\t\t<div className={classes.leftTitle}>describe</div>\r\n\t\t\t\t\t<div className={`pl-3 d-flex text-left justify-content-md-center align-items-center overflow-auto webkit_scrollbar_width webkit_scrollbar_style ${classes.th_value}`} >{category.describe}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>subcategory</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<div className={`d-inline-block border pr-3 ${classes.existingSubcategories}`}>\r\n\t\t\t\t\t\t\t<NavLink to={`/subcategories/${id}`} className=\"text-dunger\" >\r\n\t\t\t\t\t\t\t\t<h3 className={`mb-0 ${classes.h3}`}>Підкатегорії</h3>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>edit</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<ModalEdit idCategory={id} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div className={classes.leftTitle}>remove</div>\r\n\t\t\t\t\t<div className={classes.th_value}>\r\n\t\t\t\t\t\t<button className={classes.btnRemove} onClick={() => this.props.removeCategories(id)} ><i className=\"fa fa-times\" aria-hidden=\"true\"></i></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t</tr>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tproducts: state.products.products,\r\n\t\tcategories: state.products.categories\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\ttoggleCategory: (id, checked) => dispatch(toggleCategory(id, checked)),\r\n\t\tremoveCategories: id => dispatch(removeCategories(id)),\r\n\t\texistingSubcategories: idCategory => dispatch(existingSubcategories(idCategory))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryItem)","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\inform.js",["350","351","352"],"import { ADD_NEW_CUSTOMER, HAS_ACCOUNT, FETCH_CUSTOMERS_DATA_SUCCESS, FETCH_CUSTOMERS_DATA_ERROR, CUSTOMER_NEXT_ID, TOGGLE_ALL_CUSTOMERS, UPDATE_CUSTOMERS, UPDATE_CUSTOMER_NAME, UPDATE_ORDERS, UPDATE_ORDERS_HISTORY, UPDATE_CUSTOMER_ID, UPDATE_ID_LAST_CUSTOMER, AUTH_SUCCESS, AUTH_SUCCESS_ADMIN, AUTH_LOGOUT, AUTH_LOGOUT_ADMIN, FETCH_DATE_OF_FIRST_VISIT_NEW_CUSTOMER, FETCH_QUANTITY_VISITORS, FETCH_QUANTITY_OF_DOWNLOADS } from './actionTypes'\nimport axios from '../../axios/axios-quiz'\nimport firebase from 'firebase'\n\nexport function fetchCustomersData() {\n\treturn async dispatch => {\n\n\t\ttry {\n\n\t\t\tconst responseCustomers = await axios.get('customers.json')\n\t\t\tconst customersData = responseCustomers.data\n\n\t\t\tconst responseIdLastCustomer = await axios.get('idLastCustomer.json')\n\t\t\tconst idLastCustomerData = responseIdLastCustomer.data\n\n\t\t\tdispatch(fetchCustomersDataSuccess(customersData, idLastCustomerData))\n\n\t\t\t// update quantityVisitors````````\n\n\t\t\tconst responseQuantityVisitors = await axios.get('quantityVisitors.json')\n\t\t\tconst quantityVisitorsData = responseQuantityVisitors.data\n\n\t\t\tconst responseDateOfFirstVisitNewCustomer = await axios.get('dateOfFirstVisitNewCustomer.json')\n\t\t\tconst dateOfFirstVisitNewCustomerData = responseDateOfFirstVisitNewCustomer.data\n\n\t\t\tlet ifVisitedShop = window.localStorage.getItem('https://react-shop-54401.web.app/')\n\t\t\tif (ifVisitedShop) {\n\t\t\t\tconsole.log('ifVisitedShop', true)\n\t\t\t\tdispatch(fetchQuantityVisitors(quantityVisitorsData))\n\t\t\t\tdispatch(fetchDateOfFirstVisitNewCustomer(dateOfFirstVisitNewCustomerData))\n\n\t\t\t} else {\n\t\t\t\tconsole.log('ifVisitedShop', false)\n\t\t\t\twindow.localStorage.setItem('https://react-shop-54401.web.app/', 'visited')\n\n\n\n\t\t\t\tconst newQuantityVisitorsData = quantityVisitorsData ? (quantityVisitorsData + 1) : 1\n\t\t\t\tconst newDateOfFirstVisitNewCustomerData = getDate()\n\n\t\t\t\ttry {\n\n\t\t\t\t\tconst db = firebase.database()\n\t\t\t\t\tdb.ref(`quantityVisitors`).set(newQuantityVisitorsData)\n\t\t\t\t\tdb.ref(`dateOfFirstVisitNewCustomer`).set(newDateOfFirstVisitNewCustomerData)\n\t\t\t\t\tdispatch(fetchQuantityVisitors(newQuantityVisitorsData))\n\t\t\t\t\tdispatch(fetchDateOfFirstVisitNewCustomer(newDateOfFirstVisitNewCustomerData))\n\n\t\t\t\t} catch (e) {\n\t\t\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update quantityVisitors............\n\n\t\t\t// update quantityOfDownloads````````\n\n\t\t\tconst responseQuantityOfDownloads = await axios.get('quantityOfDownloads.json')\n\n\t\t\tconst quantityOfDownloadsData = responseQuantityOfDownloads.data\n\n\t\t\tconst newQuantityOfDownloadsData = quantityOfDownloadsData ? (quantityOfDownloadsData + 1) : 1\n\n\t\t\ttry {\n\n\t\t\t\tconst db = firebase.database()\n\t\t\t\tdb.ref(`quantityOfDownloads`).set(newQuantityOfDownloadsData)\n\t\t\t\tdispatch(fetchQuantityOfDownloads(newQuantityOfDownloadsData))\n\n\t\t\t} catch (e) {\n\t\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t\t}\n\n\t\t\t// update quantityOfDownloads............\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t}\n\t}\n}\n\nexport function fetchQuantityVisitors(quantityVisitors) {\n\tconsole.log('fetchQuantityVisitors', quantityVisitors)\n\treturn {\n\t\ttype: FETCH_QUANTITY_VISITORS,\n\t\tquantityVisitors\n\t}\n}\n\nexport function fetchDateOfFirstVisitNewCustomer(dateOfFirstVisitNewCustomer) {\n\tconsole.log('fetchDateOfFirstVisitNewCustomer', dateOfFirstVisitNewCustomer)\n\treturn {\n\t\ttype: FETCH_DATE_OF_FIRST_VISIT_NEW_CUSTOMER,\n\t\tdateOfFirstVisitNewCustomer\n\t}\n}\n\nexport function updateStatusQuantityVisitors() {\n\treturn async dispatch => {\n\n\t\tconst responseQuantityVisitors = await axios.get('quantityVisitors.json')\n\t\tconst quantityVisitorsData = responseQuantityVisitors.data\n\n\t\tconst responseDateOfFirstVisitNewCustomer = await axios.get('dateOfFirstVisitNewCustomer.json')\n\t\tconst dateOfFirstVisitNewCustomerData = responseDateOfFirstVisitNewCustomer.data\n\n\t\tdocument.querySelector(`.status_quantityVisitors`).innerHTML = quantityVisitorsData\n\t\tdocument.querySelector(`.status_date_first_visit_new_customer`).innerHTML = dateOfFirstVisitNewCustomerData\n\n\t\tdocument.querySelector(`.btn_refresh_quantityVisitors`).blur()\n\n\t}\n}\n\nexport function fetchQuantityOfDownloads(quantityOfDownloads) {\n\n\treturn {\n\t\ttype: FETCH_QUANTITY_OF_DOWNLOADS,\n\t\tquantityOfDownloads\n\t}\n}\n\nexport function updateStatusQuantityOfDownloads() {\n\treturn async (dispatch, getState) => {\n\n\t\tconst responseQuantityOfDownloads = await axios.get('quantityOfDownloads.json')\n\t\tconst quantityOfDownloadsData = responseQuantityOfDownloads.data\n\n\t\tdocument.querySelector(`.status_quantityOfDownloads`).innerHTML = quantityOfDownloadsData\n\n\t\tdocument.querySelector(`.btn_refresh_quantityOfDownloads`).blur()\n\n\t}\n}\n\nfunction getDate() {\n\tNumber.prototype.pad = function (size) {\n\t\tlet s = String(this);\n\t\twhile (s.length < (size || 2)) { s = \"0\" + s; }\n\t\treturn s;\n\t}\n\tlet today = new Date()\n\tlet dd = String(today.getDate()).padStart(2, '0');\n\tlet mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\tlet yyyy = today.getFullYear();\n\tlet time = `${(today.getHours()).pad(2)}:${(today.getMinutes()).pad(2)}, ${dd}/${mm}/${yyyy}`\n\treturn time\n}\n\nexport function addNewCustomer(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\ttry {\n\n\t\t\tconst responseCustomers = await axios.get('customers.json')\n\t\t\tconst customers = responseCustomers.data ? responseCustomers.data : getState().inform.customers\n\n\t\t\tlet idThisCustomers = window.localStorage.getItem('idThisUnKnownCustomers') ? window.localStorage.getItem('idThisUnKnownCustomers') : null\n\n\t\t\tconst responseIdLastCustomer = await axios.get('idLastCustomer.json')\n\n\t\t\tconst idLastCustomerData = responseIdLastCustomer.data\n\n\t\t\tlet indexThisUnKnownCustomer\n\n\t\t\tif (!idThisCustomers) {\n\n\t\t\t\tlet idLastCustomers = -1\n\n\t\t\t\tif (idLastCustomerData !== null) {\n\t\t\t\t\tidLastCustomers = idLastCustomerData\n\t\t\t\t}\n\n\t\t\t\tidThisCustomers = idLastCustomers + 1\n\n\t\t\t\tdispatch(updateIdLastCustomer(idThisCustomers))\n\n\t\t\t\tindexThisUnKnownCustomer = customers.length\n\n\t\t\t} else {\n\n\t\t\t\t// find indexThisUnKnownCustomer\n\n\t\t\t\tlet whereIdThisUnKnownCustomers = customers.filter((customer, index) => {\n\n\t\t\t\t\tif (customer.id === +idThisCustomers) {\n\t\t\t\t\t\tindexThisUnKnownCustomer = index\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\tcustomer.id === +idThisCustomers\n\t\t\t\t\t)\n\t\t\t\t})[0]\n\n\t\t\t\tif (!whereIdThisUnKnownCustomers) {\n\t\t\t\t\tindexThisUnKnownCustomer = customers.length\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet { email, name, tel, auth } = obj\n\n\t\t\tlet time = getDate()\n\n\t\t\tconst thisCustomer = {\n\t\t\t\temail, name, tel: +tel, id: +idThisCustomers, date: time, checked: false, auth\n\t\t\t}\n\n\t\t\tlet indexThisCustomerEmailInBase\n\n\t\t\tconst thisCustomerEmailInBase = customers.filter((customer, index) => {\n\n\t\t\t\tif (customer.email === thisCustomer.email) {\n\t\t\t\t\tindexThisCustomerEmailInBase = index\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\tcustomer.email === thisCustomer.email\n\t\t\t\t)\n\n\t\t\t})[0]\n\n\t\t\tconst isThisCustomerEmailInBase = thisCustomerEmailInBase ? true : false\n\n\t\t\tconst { hasAccount } = obj\n\n\t\t\tif (!isThisCustomerEmailInBase) {\n\t\t\t\t//                await axios.post('customers.json', thisCustomer)\n\t\t\t\tconst db = firebase.database()\n\t\t\t\tdb.ref(`customers/${indexThisUnKnownCustomer}`).set(thisCustomer)\n\n\t\t\t\tif (+idThisCustomers > idLastCustomerData) {\n\t\t\t\t\tdb.ref(`idLastCustomer`).set(+idThisCustomers)\n\t\t\t\t}\n\n\t\t\t\tcustomers[indexThisUnKnownCustomer] = thisCustomer\n\n\t\t\t\tif (hasAccount) {\n\t\t\t\t\tdispatch(addNewCustomerSuccess(customers, +idThisCustomers, name, hasAccount))\n\t\t\t\t\twindow.localStorage.removeItem('idThisUnKnownCustomers')\n\t\t\t\t\twindow.localStorage.setItem('idThisCustomers', +idThisCustomers)\n\t\t\t\t\twindow.localStorage.setItem('nameThisCustomers', name)\n\t\t\t\t\twindow.localStorage.setItem('hasAccount', hasAccount)\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(addNewCustomerSuccess(customers, +idThisCustomers, name, hasAccount))\n\t\t\t\t\twindow.localStorage.removeItem('idThisUnKnownCustomers')\n\t\t\t\t\twindow.localStorage.setItem('idThisCustomers', +idThisCustomers)\n\t\t\t\t\twindow.localStorage.setItem('nameThisCustomers', name)\n\t\t\t\t\twindow.localStorage.setItem('hasAccount', hasAccount)\n\t\t\t\t}\n\n\n\t\t\t} else {\n\n\n\t\t\t\tconst auth = thisCustomerEmailInBase.auth\n\n\t\t\t\tif (auth) {\n\t\t\t\t\talert('Вибачте, під цим емейлом вже зареєстрований користувач, ідентифікуйтеся або введіть інший емейл!!!')\n\t\t\t\t} else {\n\n\t\t\t\t\tcustomers.forEach((customer, index) => {\n\t\t\t\t\t\tif (customer.id === thisCustomer.id) {\n\t\t\t\t\t\t\tcustomers.splice(index, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tidThisCustomers = thisCustomerEmailInBase.id\n\t\t\t\t\tthisCustomer.id = idThisCustomers\n\n\t\t\t\t\tcustomers[indexThisCustomerEmailInBase] = thisCustomer\n\n\t\t\t\t\tconst db = firebase.database()\n\t\t\t\t\tdb.ref(`customers`).set(customers)\n\n\t\t\t\t\tif (hasAccount) {\n\t\t\t\t\t\tdispatch(addNewCustomerSuccess(customers, +idThisCustomers, name, hasAccount))\n\t\t\t\t\t\twindow.localStorage.removeItem('idThisUnKnownCustomers')\n\t\t\t\t\t\twindow.localStorage.setItem('idThisCustomers', +idThisCustomers)\n\t\t\t\t\t\twindow.localStorage.setItem('nameThisCustomers', name)\n\t\t\t\t\t\twindow.localStorage.setItem('hasAccount', hasAccount)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdispatch(addNewCustomerSuccess(customers, +idThisCustomers, name, hasAccount))\n\t\t\t\t\t\twindow.localStorage.removeItem('idThisUnKnownCustomers')\n\t\t\t\t\t\twindow.localStorage.setItem('idThisCustomers', +idThisCustomers)\n\t\t\t\t\t\twindow.localStorage.setItem('nameThisCustomers', name)\n\t\t\t\t\t\twindow.localStorage.setItem('hasAccount', hasAccount)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t}\n\n\t}\n}\n\nexport function editCustomer(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\ttry {\n\n\t\t\tlet { email, name, tel, idEdit } = obj\n\n\t\t\tconst responseCustomers = await axios.get('customers.json')\n\t\t\tconst customers = responseCustomers.data ? responseCustomers.data : getState().inform.customers\n\n\t\t\tlet indexThisCustomerEmailInBase\n\n\t\t\tconst customerEmailInBase = customers.filter((customer, index) => {\n\n\t\t\t\tif (customer.id === idEdit) {\n\t\t\t\t\tindexThisCustomerEmailInBase = index\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\tcustomer.id === idEdit\n\t\t\t\t)\n\n\t\t\t})[0]\n\n\n\t\t\tcustomerEmailInBase.email = email\n\t\t\tcustomerEmailInBase.name = name\n\t\t\tif (+window.localStorage.getItem('idThisCustomers') === idEdit) {\n\t\t\t\twindow.localStorage.setItem('nameThisCustomers', name)\n\t\t\t\tdispatch(updateCustomerName(name))\n\t\t\t}\n\t\t\tcustomerEmailInBase.tel = tel\n\n\t\t\tcustomers[indexThisCustomerEmailInBase] = customerEmailInBase\n\n\t\t\tconst db = firebase.database()\n\t\t\tdb.ref(`customers`).set(customers)\n\n\t\t\tdispatch(updateCustomers(customers))\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t}\n\n\t}\n}\n\nexport function addNewUnKnownCustomer() {\n\treturn async (dispatch, getState) => {\n\n\t\tconst customerId = getState().inform.customerId\n\n\t\tconst responseCustomers = await axios.get('customers.json')\n\t\tconst customers = responseCustomers.data ? responseCustomers.data : getState().inform.customers\n\n\t\ttry {\n\n\t\t\tlet isIdThisUnKnownCustomers = window.localStorage.getItem('idThisUnKnownCustomers') ? window.localStorage.getItem('idThisUnKnownCustomers') : null\n\n\t\t\tlet isIdThisCustomers = window.localStorage.getItem('idThisCustomers') ? window.localStorage.getItem('idThisCustomers') : null\n\n\t\t\tlet isNameThisCustomers = window.localStorage.getItem('nameThisCustomers') ? window.localStorage.getItem('nameThisCustomers') : null\n\n\t\t\tlet isHasAccount = window.localStorage.getItem('hasAccount') === 'true' ? true : false\n\n\t\t\tif (isIdThisUnKnownCustomers) {\n\n\t\t\t\tif (isIdThisCustomers) {\n\n\t\t\t\t\tdispatch(addNewCustomerSuccess(customers, +isIdThisCustomers, isNameThisCustomers, isHasAccount))\n\n\t\t\t\t\treturn\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst isIdThisUnKnownCustomersInDB = customers.filter(customer => customer.id === +isIdThisUnKnownCustomers)[0]\n\n\t\t\t\t\tif (isIdThisUnKnownCustomersInDB) {\n\n\t\t\t\t\t\tdispatch(nextUnKnownCustomerId(+isIdThisUnKnownCustomers))\n\t\t\t\t\t\treturn\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// update quantityVisitors````````\n\n\t\t\t\t\tconst responseQuantityVisitors = await axios.get('quantityVisitors.json')\n\t\t\t\t\tconst quantityVisitorsData = responseQuantityVisitors.data\n\n\t\t\t\t\twindow.localStorage.setItem('https://react-shop-54401.web.app/', 'visited')\n\n\t\t\t\t\tconst newQuantityVisitorsData = quantityVisitorsData ? (quantityVisitorsData + 1) : 1\n\t\t\t\t\tconst newDateOfFirstVisitNewCustomerData = getDate()\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst db = firebase.database()\n\t\t\t\t\t\tdb.ref(`quantityVisitors`).set(newQuantityVisitorsData)\n\t\t\t\t\t\tdb.ref(`dateOfFirstVisitNewCustomer`).set(newDateOfFirstVisitNewCustomerData)\n\t\t\t\t\t\tdispatch(fetchQuantityVisitors(newQuantityVisitorsData))\n\t\t\t\t\t\tdispatch(fetchDateOfFirstVisitNewCustomer(newDateOfFirstVisitNewCustomerData))\n\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t\t\t\t}\n\n\t\t\t\t\t// update quantityVisitors............\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (isIdThisCustomers) {\n\n\t\t\t\tdispatch(addNewCustomerSuccess(customers, +isIdThisCustomers, isNameThisCustomers, isHasAccount))\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlet idLastCustomers = -1\n\n\t\t\tconst responseIdLastCustomer = await axios.get('idLastCustomer.json')\n\n\t\t\tconst idLastCustomerData = responseIdLastCustomer.data\n\n\t\t\tif (idLastCustomerData !== null) {\n\t\t\t\tidLastCustomers = idLastCustomerData\n\t\t\t}\n\n\t\t\tlet idThisCustomers = idLastCustomers + 1\n\n\t\t\tdispatch(updateIdLastCustomer(idThisCustomers))\n\n\n\t\t\t// add New UnKnown Customer:\n\t\t\twindow.localStorage.setItem('idThisUnKnownCustomers', idThisCustomers)\n\n\t\t\tlet name = \"Шановний клієнт\"\n\n\t\t\tlet time = getDate()\n\n\t\t\tconst thisCustomer = {\n\t\t\t\tname, email: '', tel: '', id: idThisCustomers, date: time, checked: false, auth: false\n\t\t\t}\n\n\t\t\tdispatch(nextUnKnownCustomerId(idThisCustomers))\n\n\n\t\t\tconst db = firebase.database()\n\n\t\t\tdb.ref(`customers/${customers.length}`).set(thisCustomer)\n\n\t\t\tdb.ref(`idLastCustomer`).set(idThisCustomers)\n\n\t\t\tcustomers.push(thisCustomer)\n\n\t\t\tconst hasAccount = false\n\n\t\t\tdispatch(addNewCustomerSuccess(customers, idThisCustomers, name, hasAccount))\n\t\t} catch (e) {\n\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t}\n\n\t}\n}\n\n//export function updateUnKnownCustomer() {\n//    return async (dispatch, getState) => {\n//        \n//        const responseCustomers = await axios.get('customers.json')\n//        const customers = responseCustomers.data ? responseCustomers.data : getState().inform.customers\n//        \n//        const responseIdLastCustomer = await axios.get('idLastCustomer.json')\n//\n//        const idLastCustomerData = responseIdLastCustomer.data\n//\n//        let idLastCustomer = -1\n//\n//        if (idLastCustomerData !== null) {\n//            idLastCustomer = idLastCustomerData\n//        }\n//\n//        let idThisCustomer = idLastCustomer + 1\n//        \n//        dispatch(updateIdLastCustomer(idThisCustomer))\n//\n//        // update id UnKnown Customer:\n//        window.localStorage.setItem('idThisUnKnownCustomers', idThisCustomer)\n//        \n//        try { \n//\n//            let name = \"Шановний клієнт\"                \n//\n//            let time = getDate()\n//            \n//            const thisCustomer = {\n//                name, email: '', tel: '', id: idThisCustomer, date: time, checked: false, auth: false\n//            }           \n//\n//            dispatch(nextUnKnownCustomerId(idThisCustomer))           \n//\n//\n//            const db = firebase.database()\n//\n//            db.ref(`customers/${customers.length}`).set(thisCustomer)\n//\n//            customers.push(thisCustomer)\n//\n//            const hasAccount = false                \n//\n//            dispatch(addNewCustomerSuccess(customers, idThisCustomer, name, hasAccount))                      \n//        } catch (e) {\n//            dispatch(fetchCustomersDataError(e))\n//        }      \n//        \n//    }\n//}\n\nexport function nextUnKnownCustomerId(id) {\n\tconst customerNextId = id === null ? null : +id\n\treturn {\n\t\ttype: CUSTOMER_NEXT_ID,\n\t\tpayload: { id: customerNextId }\n\t}\n}\n\nexport function createUser(obj) {\n\treturn async dispatch => {\n\n\t\ttry {\n\t\t\tlet { email, password } = obj\n\n\t\t\tfirebase.auth().createUserWithEmailAndPassword(email, password)\n\t\t\t\t.catch(error => console.log(error))\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t}\n\n\t}\n}\n\nexport function authUser(obj) {\n\treturn async (dispatch, getState) => {\n\n\t\ttry {\n\t\t\tlet { email, password } = obj\n\n\t\t\tfirebase.auth().signInWithEmailAndPassword(email, password)\n\t\t\t\t.then(response => {\n\n\t\t\t\t\tconst thisCustomer = getState().inform.customers.filter(customer => customer.email === email)[0]\n\n\t\t\t\t\tconst { id, name } = thisCustomer\n\n\t\t\t\t\tdispatch(hasAccount({ hasAccount: true, textErrorAuth: '', customerId: id, customerName: name }))\n\n\t\t\t\t\twindow.localStorage.setItem('idThisCustomers', id)\n\t\t\t\t\twindow.localStorage.setItem('nameThisCustomers', name)\n\t\t\t\t\twindow.localStorage.setItem('hasAccount', true)\n\n\t\t\t\t\tif (email === 'admin@ukr.net') {\n\t\t\t\t\t\tdispatch(authSuccessAdmin())\n\t\t\t\t\t} // signIn for Admin\n\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\n\t\t\t\t\tlet idThisUnKnownCustomers = window.localStorage.getItem('idThisUnKnownCustomers') ? +window.localStorage.getItem('idThisUnKnownCustomers') : null\n\n\t\t\t\t\tdispatch(hasAccount({ textErrorAuth: 'Введіть будь ласка правильний емейл і пароль!', customerId: idThisUnKnownCustomers }))\n\n\t\t\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t\t\t})\n\n\t\t} catch (e) {\n\t\t\tdispatch(fetchCustomersDataError(e))\n\t\t}\n\n\n\n\t}\n}\n\nexport function authSuccess(token) {\n\treturn {\n\t\ttype: AUTH_SUCCESS,\n\t\ttoken\n\t}\n}\n\nexport function authSuccessAdmin() {\n\n\twindow.localStorage.setItem('authAdmin', true)\n\n\treturn {\n\t\ttype: AUTH_SUCCESS_ADMIN\n\t}\n}\n\nexport function logout() {\n\n\treturn {\n\t\ttype: AUTH_LOGOUT\n\t}\n}\n\nexport function logoutAdmin() {\n\n\twindow.localStorage.removeItem('authAdmin')\n\n\treturn {\n\t\ttype: AUTH_LOGOUT_ADMIN\n\t}\n}\n\nexport function singOutAccount() {\n\treturn async (dispatch, getState) => {\n\n\t\tfirebase.auth().signOut().then(() => {\n\t\t\twindow.localStorage.removeItem('idThisCustomers')\n\t\t\twindow.localStorage.removeItem('nameThisCustomers')\n\t\t\twindow.localStorage.removeItem('hasAccount')\n\t\t})\n\n\t\tlet idThisUnKnownCustomers = +window.localStorage.getItem('idThisUnKnownCustomers')\n\t\tif (idThisUnKnownCustomers) {\n\t\t\tdispatch(nextUnKnownCustomerId(idThisUnKnownCustomers))\n\t\t} else {\n\t\t\tdispatch(nextUnKnownCustomerId(null))\n\t\t}\n\n\t\tdispatch(logout())\n\t\tdispatch(logoutAdmin())\n\t}\n}\n\n\n\nexport function hasAccount(obj) {\n\n\tconst { hasAccount, textErrorAuth, customerId, customerName } = obj\n\n\treturn {\n\t\ttype: HAS_ACCOUNT,\n\t\tpayload: { hasAccount, textErrorAuth, customerId, customerName }\n\t}\n}\n\nexport function fetchCustomersDataSuccess(customers, idLastCustomer) {\n\treturn {\n\t\ttype: FETCH_CUSTOMERS_DATA_SUCCESS,\n\t\tpayload: { customers, idLastCustomer }\n\t}\n}\n\nexport function addNewCustomerSuccess(customers, idThisCustomers, name, hasAccount) {\n\treturn {\n\t\ttype: ADD_NEW_CUSTOMER,\n\t\tpayload: { customers, idThisCustomers, name, hasAccount }\n\t}\n}\n\n\nexport function fetchCustomersDataError(e) {\n\treturn {\n\t\ttype: FETCH_CUSTOMERS_DATA_ERROR,\n\t\terror: e\n\t}\n}\n\nexport function toggleCustomer(id, checked) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst customers = getState().inform.customers\n\n\t\tconst thisCustomers = customers.map(customer => {\n\t\t\tif (customer.id === id) {\n\t\t\t\tcustomer.checked = checked\n\t\t\t}\n\t\t\treturn customer\n\t\t})\n\n\t\tdispatch(updateCustomers(thisCustomers))\n\n\t}\n\n}\n\nexport function toggleAllCustomers(checked) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst customers = getState().inform.customers\n\n\t\tconst thisCustomers = customers.map(customer => {\n\t\t\tcustomer.checked = checked\n\t\t\treturn customer\n\t\t})\n\n\t\tdispatch(updateCustomers(thisCustomers))\n\n\t}\n\n}\n\nexport function removeCustomers(id, email) {\n\n\treturn async (dispatch, getState) => {\n\n\t\tconst responseCustomers = await axios.get('customers.json')\n\t\tconst customers = responseCustomers.data ? responseCustomers.data : getState().inform.customers\n\n\t\tcustomers.forEach((customer, index) => {\n\t\t\tif (customer.id === id) {\n\t\t\t\tcustomers.splice(index, 1)\n\t\t\t}\n\t\t})\n\n\t\tlet elem = document.querySelector(`tr[id = customer_table_${id}]`)\n\n\t\telem.classList.add(\"d-none\")\n\n\t\tconst db = firebase.database()\n\n\t\tdb.ref(`customers`).set(customers)\n\n\n\t\t//        const admin = require('firebase-admin')\n\t\t//        let app = admin.initializeApp()\n\t\t//        \n\t\t//        admin.auth().getUserByEmail(email).then((user) => {\n\t\t//            return admin.auth().deleteUser(user.uid);\n\t\t//          })\n\n\t\tconst responseOrders = await axios.get('orders.json')\n\t\tconst orders = responseOrders.data ? responseOrders.data : getState().products.orders\n\n\t\torders.forEach((order, index) => {\n\t\t\tif (order.customerId === id) {\n\t\t\t\torders.splice(index, 1)\n\t\t\t}\n\t\t})\n\n\t\tdb.ref(`orders`).set(orders)\n\n\t\tdispatch(updateOrders(orders))\n\n\t\tconst responseOrdersHistory = await axios.get('ordersHistory.json')\n\t\tconst ordersHistory = responseOrdersHistory.data ? responseOrdersHistory.data : getState().products.ordersHistory\n\n\t\tordersHistory.forEach((order, index) => {\n\t\t\tif (order.customerId === id) {\n\t\t\t\tordersHistory.splice(index, 1)\n\t\t\t}\n\t\t})\n\n\t\tdb.ref(`ordersHistory`).set(ordersHistory)\n\n\t\tdispatch(updateOrdersHistory(ordersHistory))\n\n\n\t\tif (+window.localStorage.getItem('idThisUnKnownCustomers') === id) {\n\t\t\twindow.localStorage.removeItem('idThisUnKnownCustomers')\n\t\t\tlet customerId = window.localStorage.getItem('idThisCustomers') ? +window.localStorage.getItem('idThisCustomers') : null\n\t\t\tdispatch(updateCustomerId(customerId))\n\t\t}\n\n\t\tif (+window.localStorage.getItem('idThisCustomers') === id) {\n\t\t\twindow.localStorage.removeItem('idThisCustomers')\n\t\t\twindow.localStorage.removeItem('nameThisCustomers')\n\t\t\twindow.localStorage.removeItem('hasAccount')\n\t\t\tlet customerId = window.localStorage.getItem('idThisUnKnownCustomers') ? +window.localStorage.getItem('idThisUnKnownCustomers') : null\n\t\t\tdispatch(updateCustomerId(customerId))\n\t\t\tdispatch(addNewCustomerSuccess(customers, null, 'Шановний клієнт', false))\n\t\t}\n\n\t\tdispatch(updateCustomers(customers))\n\n\t}\n\n}\n\nexport function updateOrders(orders) {\n\treturn {\n\t\ttype: UPDATE_ORDERS,\n\t\tpayload: { orders }\n\t}\n}\n\nexport function updateOrdersHistory(ordersHistory) {\n\treturn {\n\t\ttype: UPDATE_ORDERS_HISTORY,\n\t\tpayload: { ordersHistory }\n\t}\n}\n\n\nexport function updateCustomers(customers) {\n\treturn {\n\t\ttype: UPDATE_CUSTOMERS,\n\t\tcustomers\n\t}\n}\n\nexport function updateCustomerId(customerId) {\n\treturn {\n\t\ttype: UPDATE_CUSTOMER_ID,\n\t\tcustomerId\n\t}\n}\n\nexport function updateIdLastCustomer(idLastCustomer) {\n\treturn {\n\t\ttype: UPDATE_ID_LAST_CUSTOMER,\n\t\tidLastCustomer\n\t}\n}\n\nexport function updateCustomerName(name) {\n\treturn {\n\t\ttype: UPDATE_CUSTOMER_NAME,\n\t\tname\n\t}\n}\n\n//export function toggleAll(id, checked) {   \n//      \n//    return {\n//        type: TOGGLE_ALL_CUSTOMERS,\n//        id, checked       \n//    }\n//    \n//}\n\n//export function addChecked() {\n//    \n//    return async (dispatch, getState) => {\n//            \n//        const categories = getState().products.categories\n//        const thisCategories = categories.map((category, index) => {\n//            category.checked = false\n//            \n//            category.subcategories.map(subcat => {\n//                subcat.checked = false\n//                return subcat\n//            })\n//            \n//\n//            return category\n//        })\n//        \n//        const db = firebase.database()\n//\n//        db.ref(`categories`).set(thisCategories)\n//        \n//        console.log('thisCategories', thisCategories)\n//        \n//    }\n//}","S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\CustomerItem\\CustomerItem.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersListEdit\\CustomersListEdit.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\rootReducer.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\App.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\reportWebVitals.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\CustomersOrders\\Invoices\\InvoicesPage.jsx",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\containers\\DrawerLinks\\drawerLinks.js",[],["353","354"],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\firebase.js",[],["355","356"],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\actions\\invoices.js",[],"S:\\Programming\\React\\React-Shop-Admin\\React-Shop-Admin\\src\\redux\\redusers\\invoices.js",[],{"ruleId":"357","severity":1,"message":"358","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":14},{"ruleId":"357","severity":1,"message":"361","line":4,"column":8,"nodeType":"359","messageId":"360","endLine":4,"endColumn":13},{"ruleId":"357","severity":1,"message":"362","line":6,"column":8,"nodeType":"359","messageId":"360","endLine":6,"endColumn":10},{"ruleId":"357","severity":1,"message":"363","line":9,"column":10,"nodeType":"359","messageId":"360","endLine":9,"endColumn":27},{"ruleId":"357","severity":1,"message":"364","line":9,"column":8,"nodeType":"359","messageId":"360","endLine":9,"endColumn":16},{"ruleId":"357","severity":1,"message":"365","line":106,"column":4,"nodeType":"359","messageId":"360","endLine":106,"endColumn":14},{"ruleId":"357","severity":1,"message":"366","line":107,"column":4,"nodeType":"359","messageId":"360","endLine":107,"endColumn":15},{"ruleId":"357","severity":1,"message":"367","line":186,"column":7,"nodeType":"359","messageId":"360","endLine":186,"endColumn":25},{"ruleId":"368","severity":1,"message":"369","line":85,"column":11,"nodeType":"370","endLine":85,"endColumn":103},{"ruleId":"357","severity":1,"message":"358","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":14},{"ruleId":"357","severity":1,"message":"371","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":13},{"ruleId":"357","severity":1,"message":"372","line":14,"column":48,"nodeType":"359","messageId":"360","endLine":14,"endColumn":59},{"ruleId":"357","severity":1,"message":"365","line":55,"column":4,"nodeType":"359","messageId":"360","endLine":55,"endColumn":14},{"ruleId":"357","severity":1,"message":"366","line":56,"column":4,"nodeType":"359","messageId":"360","endLine":56,"endColumn":15},{"ruleId":"357","severity":1,"message":"358","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":14},{"ruleId":"373","severity":1,"message":"374","line":182,"column":2,"nodeType":"375","messageId":"376","endLine":184,"endColumn":3},{"ruleId":"357","severity":1,"message":"358","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":14},{"ruleId":"357","severity":1,"message":"377","line":547,"column":11,"nodeType":"359","messageId":"360","endLine":547,"endColumn":22},{"ruleId":"378","severity":1,"message":"379","line":565,"column":63,"nodeType":"380","messageId":"381","endLine":565,"endColumn":64,"suggestions":"382"},{"ruleId":"357","severity":1,"message":"383","line":738,"column":64,"nodeType":"359","messageId":"360","endLine":738,"endColumn":78},{"ruleId":"357","severity":1,"message":"384","line":771,"column":19,"nodeType":"359","messageId":"360","endLine":771,"endColumn":30},{"ruleId":"357","severity":1,"message":"365","line":825,"column":4,"nodeType":"359","messageId":"360","endLine":825,"endColumn":14},{"ruleId":"357","severity":1,"message":"366","line":826,"column":4,"nodeType":"359","messageId":"360","endLine":826,"endColumn":15},{"ruleId":"357","severity":1,"message":"371","line":8,"column":8,"nodeType":"359","messageId":"360","endLine":8,"endColumn":13},{"ruleId":"357","severity":1,"message":"364","line":9,"column":8,"nodeType":"359","messageId":"360","endLine":9,"endColumn":16},{"ruleId":"357","severity":1,"message":"385","line":10,"column":64,"nodeType":"359","messageId":"360","endLine":10,"endColumn":72},{"ruleId":"357","severity":1,"message":"386","line":87,"column":9,"nodeType":"359","messageId":"360","endLine":87,"endColumn":20},{"ruleId":"357","severity":1,"message":"386","line":144,"column":9,"nodeType":"359","messageId":"360","endLine":144,"endColumn":20},{"ruleId":"357","severity":1,"message":"387","line":194,"column":13,"nodeType":"359","messageId":"360","endLine":194,"endColumn":33},{"ruleId":"388","severity":1,"message":"389","line":265,"column":49,"nodeType":"390","messageId":"391","endLine":265,"endColumn":50},{"ruleId":"357","severity":1,"message":"358","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":14},{"ruleId":"357","severity":1,"message":"371","line":6,"column":8,"nodeType":"359","messageId":"360","endLine":6,"endColumn":13},{"ruleId":"357","severity":1,"message":"364","line":7,"column":8,"nodeType":"359","messageId":"360","endLine":7,"endColumn":16},{"ruleId":"357","severity":1,"message":"372","line":16,"column":48,"nodeType":"359","messageId":"360","endLine":16,"endColumn":59},{"ruleId":"357","severity":1,"message":"365","line":56,"column":4,"nodeType":"359","messageId":"360","endLine":56,"endColumn":14},{"ruleId":"357","severity":1,"message":"366","line":57,"column":4,"nodeType":"359","messageId":"360","endLine":57,"endColumn":15},{"ruleId":"388","severity":1,"message":"389","line":456,"column":44,"nodeType":"390","messageId":"391","endLine":456,"endColumn":45},{"ruleId":"388","severity":1,"message":"389","line":459,"column":41,"nodeType":"390","messageId":"391","endLine":459,"endColumn":42},{"ruleId":"388","severity":1,"message":"389","line":460,"column":41,"nodeType":"390","messageId":"391","endLine":460,"endColumn":42},{"ruleId":"388","severity":1,"message":"389","line":461,"column":41,"nodeType":"390","messageId":"391","endLine":461,"endColumn":42},{"ruleId":"388","severity":1,"message":"389","line":463,"column":41,"nodeType":"390","messageId":"391","endLine":463,"endColumn":42},{"ruleId":"392","severity":1,"message":"393","line":468,"column":138,"nodeType":"394","messageId":"395","endLine":468,"endColumn":140},{"ruleId":"392","severity":1,"message":"393","line":475,"column":139,"nodeType":"394","messageId":"395","endLine":475,"endColumn":141},{"ruleId":"357","severity":1,"message":"358","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":14},{"ruleId":"373","severity":1,"message":"374","line":179,"column":2,"nodeType":"375","messageId":"376","endLine":181,"endColumn":3},{"ruleId":"373","severity":1,"message":"374","line":233,"column":2,"nodeType":"375","messageId":"376","endLine":235,"endColumn":3},{"ruleId":"357","severity":1,"message":"396","line":10,"column":23,"nodeType":"359","messageId":"360","endLine":10,"endColumn":27},{"ruleId":"357","severity":1,"message":"397","line":4,"column":8,"nodeType":"359","messageId":"360","endLine":4,"endColumn":15},{"ruleId":"357","severity":1,"message":"361","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":13},{"ruleId":"357","severity":1,"message":"398","line":6,"column":10,"nodeType":"359","messageId":"360","endLine":6,"endColumn":17},{"ruleId":"357","severity":1,"message":"399","line":70,"column":8,"nodeType":"359","messageId":"360","endLine":70,"endColumn":16},{"ruleId":"357","severity":1,"message":"400","line":106,"column":6,"nodeType":"359","messageId":"360","endLine":106,"endColumn":17},{"ruleId":"357","severity":1,"message":"401","line":352,"column":9,"nodeType":"359","messageId":"360","endLine":352,"endColumn":16},{"ruleId":"357","severity":1,"message":"402","line":740,"column":9,"nodeType":"359","messageId":"360","endLine":740,"endColumn":22},{"ruleId":"357","severity":1,"message":"402","line":1163,"column":9,"nodeType":"359","messageId":"360","endLine":1163,"endColumn":22},{"ruleId":"357","severity":1,"message":"403","line":1308,"column":11,"nodeType":"359","messageId":"360","endLine":1308,"endColumn":16},{"ruleId":"357","severity":1,"message":"404","line":1308,"column":47,"nodeType":"359","messageId":"360","endLine":1308,"endColumn":56},{"ruleId":"405","severity":1,"message":"406","line":1416,"column":2,"nodeType":"407","messageId":"376","endLine":1420,"endColumn":3},{"ruleId":"357","severity":1,"message":"408","line":1737,"column":9,"nodeType":"359","messageId":"360","endLine":1737,"endColumn":31},{"ruleId":"409","severity":1,"message":"410","line":1746,"column":28,"nodeType":"394","messageId":"411","endLine":1755,"endColumn":5},{"ruleId":"357","severity":1,"message":"412","line":2038,"column":7,"nodeType":"359","messageId":"360","endLine":2038,"endColumn":34},{"ruleId":"357","severity":1,"message":"413","line":2345,"column":9,"nodeType":"359","messageId":"360","endLine":2345,"endColumn":26},{"ruleId":"357","severity":1,"message":"413","line":2366,"column":9,"nodeType":"359","messageId":"360","endLine":2366,"endColumn":26},{"ruleId":"357","severity":1,"message":"398","line":4,"column":10,"nodeType":"359","messageId":"360","endLine":4,"endColumn":17},{"ruleId":"357","severity":1,"message":"371","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":13},{"ruleId":"357","severity":1,"message":"414","line":17,"column":11,"nodeType":"359","messageId":"360","endLine":17,"endColumn":16},{"ruleId":"357","severity":1,"message":"415","line":25,"column":7,"nodeType":"359","messageId":"360","endLine":25,"endColumn":20},{"ruleId":"357","severity":1,"message":"416","line":26,"column":7,"nodeType":"359","messageId":"360","endLine":26,"endColumn":23},{"ruleId":"357","severity":1,"message":"364","line":9,"column":8,"nodeType":"359","messageId":"360","endLine":9,"endColumn":16},{"ruleId":"357","severity":1,"message":"386","line":49,"column":9,"nodeType":"359","messageId":"360","endLine":49,"endColumn":20},{"ruleId":"357","severity":1,"message":"417","line":106,"column":13,"nodeType":"359","messageId":"360","endLine":106,"endColumn":37},{"ruleId":"357","severity":1,"message":"387","line":122,"column":13,"nodeType":"359","messageId":"360","endLine":122,"endColumn":33},{"ruleId":"357","severity":1,"message":"418","line":204,"column":11,"nodeType":"359","messageId":"360","endLine":204,"endColumn":21},{"ruleId":"388","severity":1,"message":"389","line":216,"column":55,"nodeType":"390","messageId":"391","endLine":216,"endColumn":56},{"ruleId":"373","severity":1,"message":"374","line":499,"column":2,"nodeType":"375","messageId":"376","endLine":501,"endColumn":3},{"ruleId":"357","severity":1,"message":"371","line":5,"column":8,"nodeType":"359","messageId":"360","endLine":5,"endColumn":13},{"ruleId":"357","severity":1,"message":"414","line":54,"column":11,"nodeType":"359","messageId":"360","endLine":54,"endColumn":16},{"ruleId":"357","severity":1,"message":"419","line":73,"column":9,"nodeType":"359","messageId":"360","endLine":73,"endColumn":24},{"ruleId":"357","severity":1,"message":"420","line":1,"column":117,"nodeType":"359","messageId":"360","endLine":1,"endColumn":137},{"ruleId":"405","severity":1,"message":"406","line":137,"column":2,"nodeType":"407","messageId":"376","endLine":141,"endColumn":3},{"ruleId":"357","severity":1,"message":"421","line":348,"column":9,"nodeType":"359","messageId":"360","endLine":348,"endColumn":19},{"ruleId":"422","replacedBy":"423"},{"ruleId":"424","replacedBy":"425"},{"ruleId":"422","replacedBy":"426"},{"ruleId":"424","replacedBy":"427"},"no-unused-vars","'Select' is defined but never used.","Identifier","unusedVar","'Input' is defined but never used.","'is' is defined but never used.","'fetchProductsData' is defined but never used.","'firebase' is defined but never used.","'numberPlus' is assigned a value but never used.","'numberMinus' is assigned a value but never used.","'idSelectedCategory' is defined but never used.","jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","JSXOpeningElement","'axios' is defined but never used.","'maxQuantity' is assigned a value but never used.","no-dupe-class-members","Duplicate name 'componentDidMount'.","MethodDefinition","unexpected","'arrThisCart' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\'.","TemplateElement","unnecessaryEscape",["428","429"],"'quantityInCart' is assigned a value but never used.","'quantityAdd' is assigned a value but never used.","'onDelete' is defined but never used.","'indexOrders' is assigned a value but never used.","'productQuantityInCar' is assigned a value but never used.","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'Form' is defined but never used.","'classes' is defined but never used.","'NavLink' is defined but never used.","'category' is assigned a value but never used.","'subcategory' is assigned a value but never used.","'product' is assigned a value but never used.","'indexCategory' is assigned a value but never used.","'event' is assigned a value but never used.","'stepunits' is assigned a value but never used.","no-extend-native","Number prototype is read only, properties should not be added.","AssignmentExpression","'arrPropsIsQuantityInDB' is assigned a value but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'counterIdInOrdersThisCart'.","unsafeRefs","'statusCustomersOrdersInBase' is assigned a value but never used.","'thisSubcategories' is assigned a value but never used.","'index' is assigned a value but never used.","'indexCategory' is defined but never used.","'indexSubcategory' is defined but never used.","'quantityProductYourOrder' is assigned a value but never used.","'hasAccount' is assigned a value but never used.","'thisSubcategory' is assigned a value but never used.","'TOGGLE_ALL_CUSTOMERS' is defined but never used.","'customerId' is assigned a value but never used.","no-native-reassign",["430"],"no-negated-in-lhs",["431"],["430"],["431"],{"messageId":"432","fix":"433","desc":"434"},{"messageId":"435","fix":"436","desc":"437"},"no-global-assign","no-unsafe-negation","removeEscape",{"range":"438","text":"439"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"440","text":"441"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[16685,16686],"",[16685,16685],"\\"]